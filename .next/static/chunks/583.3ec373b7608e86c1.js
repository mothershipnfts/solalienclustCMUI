(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{73807:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayToHashObject=t.hashObjectToByteArray=void 0,t.hashObjectToByteArray=function(e,t,r){let i=e.h0;t[0+r]=255&i,i>>=8,t[1+r]=255&i,i>>=8,t[2+r]=255&i,i>>=8,t[3+r]=255&i,i=e.h1,t[4+r]=255&i,i>>=8,t[5+r]=255&i,i>>=8,t[6+r]=255&i,i>>=8,t[7+r]=255&i,i=e.h2,t[8+r]=255&i,i>>=8,t[9+r]=255&i,i>>=8,t[10+r]=255&i,i>>=8,t[11+r]=255&i,i=e.h3,t[12+r]=255&i,i>>=8,t[13+r]=255&i,i>>=8,t[14+r]=255&i,i>>=8,t[15+r]=255&i,i=e.h4,t[16+r]=255&i,i>>=8,t[17+r]=255&i,i>>=8,t[18+r]=255&i,i>>=8,t[19+r]=255&i,i=e.h5,t[20+r]=255&i,i>>=8,t[21+r]=255&i,i>>=8,t[22+r]=255&i,i>>=8,t[23+r]=255&i,i=e.h6,t[24+r]=255&i,i>>=8,t[25+r]=255&i,i>>=8,t[26+r]=255&i,i>>=8,t[27+r]=255&i,i=e.h7,t[28+r]=255&i,i>>=8,t[29+r]=255&i,i>>=8,t[30+r]=255&i,i>>=8,t[31+r]=255&i},t.byteArrayToHashObject=function(e){let t;t=(((0|255&e[3])<<8|255&e[2])<<8|255&e[1])<<8|255&e[0];let r=t;t=(((0|255&e[7])<<8|255&e[6])<<8|255&e[5])<<8|255&e[4];let i=t;t=(((0|255&e[11])<<8|255&e[10])<<8|255&e[9])<<8|255&e[8];let n=t;t=(((0|255&e[15])<<8|255&e[14])<<8|255&e[13])<<8|255&e[12];let o=t;t=(((0|255&e[19])<<8|255&e[18])<<8|255&e[17])<<8|255&e[16];let s=t;t=(((0|255&e[23])<<8|255&e[22])<<8|255&e[21])<<8|255&e[20];let a=t;t=(((0|255&e[27])<<8|255&e[26])<<8|255&e[25])<<8|255&e[24];let u=t;t=(((0|255&e[31])<<8|255&e[30])<<8|255&e[29])<<8|255&e[28];let l=t;return{h0:r,h1:i,h2:n,h3:o,h4:s,h5:a,h6:u,h7:l}}},97507:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.digest64HashObjects=t.digest2Bytes32=t.digest64=t.digest=t.SHA256=t.hashObjectToByteArray=t.byteArrayToHashObject=void 0;let n=r(35751),o=r(73807);Object.defineProperty(t,"byteArrayToHashObject",{enumerable:!0,get:function(){return o.byteArrayToHashObject}}),Object.defineProperty(t,"hashObjectToByteArray",{enumerable:!0,get:function(){return o.hashObjectToByteArray}});let s=i(r(17967));t.SHA256=s.default;let a=n.newInstance(),u=a.input.value,l=a.output.value,h=new Uint8Array(a.memory.buffer,u,a.INPUT_LENGTH),c=new Uint8Array(a.memory.buffer,l,32),f=new Uint32Array(a.memory.buffer,u,a.INPUT_LENGTH);function d(e){if(64===e.length){h.set(e),a.digest64(u,l);let t=new Uint8Array(32);return t.set(c),t}throw Error("InvalidLengthForDigest64")}t.digest=function(e){if(64===e.length)return d(e);if(e.length<=a.INPUT_LENGTH){h.set(e),a.digest(e.length);let t=new Uint8Array(32);return t.set(c),t}return a.init(),function(e){let t=a.INPUT_LENGTH;if(e.length>t)for(let r=0;r<e.length;r+=t){let i=e.slice(r,r+t);h.set(i),a.update(u,i.length)}else h.set(e),a.update(u,e.length)}(e),function(){a.final(l);let e=new Uint8Array(32);return e.set(c),e}()},t.digest64=d,t.digest2Bytes32=function(e,t){if(32===e.length&&32===t.length){h.set(e),h.set(t,32),a.digest64(u,l);let r=new Uint8Array(32);return r.set(c),r}throw Error("InvalidLengthForDigest64")},t.digest64HashObjects=function(e,t){return f[0]=e.h0,f[1]=e.h1,f[2]=e.h2,f[3]=e.h3,f[4]=e.h4,f[5]=e.h5,f[6]=e.h6,f[7]=e.h7,f[8]=t.h0,f[9]=t.h1,f[10]=t.h2,f[11]=t.h3,f[12]=t.h4,f[13]=t.h5,f[14]=t.h6,f[15]=t.h7,a.digest64(u,l),o.byteArrayToHashObject(c)}},17967:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(35751);t.default=class{constructor(){this.ctx=i.newInstance(),this.wasmInputValue=this.ctx.input.value,this.wasmOutputValue=this.ctx.output.value,this.uint8InputArray=new Uint8Array(this.ctx.memory.buffer,this.wasmInputValue,this.ctx.INPUT_LENGTH),this.uint8OutputArray=new Uint8Array(this.ctx.memory.buffer,this.wasmOutputValue,32)}init(){return this.ctx.init(),this}update(e){let t=this.ctx.INPUT_LENGTH;if(e.length>t)for(let r=0;r<e.length;r+=t){let i=e.slice(r,r+t);this.uint8InputArray.set(i),this.ctx.update(this.wasmInputValue,i.length)}else this.uint8InputArray.set(e),this.ctx.update(this.wasmInputValue,e.length);return this}final(){this.ctx.final(this.wasmOutputValue);let e=new Uint8Array(32);return e.set(this.uint8OutputArray),e}}},35751:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;let i=r(21249),n=new WebAssembly.Module(i.wasmCode),o={env:{abort:function(e,t,r,i){throw Error(`abort: ${e}:${t}:${r}:${i}`)}}};t.newInstance=function(){return new WebAssembly.Instance(n,o).exports}},21249:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wasmCode=void 0,t.wasmCode=Uint8Array.from([0,97,115,109,1,0,0,0,1,31,6,96,1,127,0,96,2,127,127,0,96,0,0,96,1,127,1,127,96,3,127,127,127,0,96,4,127,127,127,127,0,2,13,1,3,101,110,118,5,97,98,111,114,116,0,5,3,16,15,0,3,1,3,2,2,4,1,1,3,0,0,0,1,2,5,3,1,0,1,6,172,1,34,127,0,65,128,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,7,86,9,6,109,101,109,111,114,121,2,0,12,73,78,80,85,84,95,76,69,78,71,84,72,3,0,5,105,110,112,117,116,3,28,6,111,117,116,112,117,116,3,30,4,105,110,105,116,0,6,6,117,112,100,97,116,101,0,9,5,102,105,110,97,108,0,11,6,100,105,103,101,115,116,0,12,8,100,105,103,101,115,116,54,52,0,14,8,1,15,10,202,14,15,70,1,2,127,32,0,63,0,34,2,65,16,116,34,1,75,4,64,32,2,32,0,32,1,107,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,11,32,0,36,23,11,82,1,3,127,32,0,65,240,255,255,255,3,75,4,64,0,11,35,23,65,16,106,34,2,32,0,65,15,106,65,112,113,34,1,65,16,32,1,65,16,75,27,34,3,106,16,1,32,2,65,16,107,34,1,32,3,54,2,0,32,1,65,1,54,2,4,32,1,65,0,54,2,8,32,1,32,0,54,2,12,32,2,11,37,1,1,127,3,64,32,1,4,64,32,0,34,2,65,1,106,33,0,32,2,65,0,58,0,0,32,1,65,1,107,33,1,12,1,11,11,11,41,1,1,127,32,0,65,240,255,255,255,3,75,4,64,65,128,5,65,176,5,65,54,65,42,16,0,0,11,32,0,16,2,34,1,32,0,16,3,32,1,11,71,0,65,180,2,40,2,0,36,1,65,228,4,40,2,0,36,2,65,224,5,36,22,65,224,5,36,23,65,192,0,16,4,36,24,35,24,36,25,65,128,2,16,4,36,26,35,26,36,27,65,128,4,16,4,36,28,35,28,36,29,65,32,16,4,36,30,35,30,36,31,11,74,0,65,231,204,167,208,6,36,3,65,133,221,158,219,123,36,4,65,242,230,187,227,3,36,5,65,186,234,191,170,122,36,6,65,255,164,185,136,5,36,7,65,140,209,149,216,121,36,8,65,171,179,143,252,1,36,9,65,153,154,131,223,5,36,10,65,0,36,32,65,0,36,33,11,103,1,2,127,2,64,32,2,33,3,32,0,32,1,70,13,0,32,0,32,1,73,4,64,3,64,32,3,4,64,32,0,34,2,65,1,106,33,0,32,1,34,4,65,1,106,33,1,32,2,32,4,45,0,0,58,0,0,32,3,65,1,107,33,3,12,1,11,11,5,3,64,32,3,4,64,32,3,65,1,107,34,3,32,0,106,32,1,32,3,106,45,0,0,58,0,0,12,1,11,11,11,11,11,231,3,1,1,127,35,3,36,11,35,4,36,12,35,5,36,13,35,6,36,14,35,7,36,15,35,8,36,16,35,9,36,17,35,10,36,18,65,0,36,19,3,64,35,19,65,16,73,4,64,32,0,35,19,65,2,116,106,32,1,35,19,65,2,116,34,2,106,45,0,0,65,24,116,32,1,32,2,65,1,106,106,45,0,0,65,16,116,114,32,1,32,2,65,2,106,106,45,0,0,65,8,116,114,32,1,32,2,65,3,106,106,45,0,0,114,54,2,0,35,19,65,1,106,36,19,12,1,11,11,65,16,36,19,3,64,35,19,65,192,0,73,4,64,32,0,35,19,65,2,116,106,32,0,35,19,65,16,107,65,2,116,106,40,2,0,32,0,35,19,65,7,107,65,2,116,106,40,2,0,32,0,35,19,65,2,107,65,2,116,106,40,2,0,34,1,65,17,120,32,1,65,19,120,115,32,1,65,10,118,115,106,32,0,35,19,65,15,107,65,2,116,106,40,2,0,34,1,65,7,120,32,1,65,18,120,115,32,1,65,3,118,115,106,106,54,2,0,35,19,65,1,106,36,19,12,1,11,11,65,0,36,19,3,64,35,19,65,192,0,73,4,64,32,0,35,19,65,2,116,106,40,2,0,35,1,35,19,65,2,116,106,40,2,0,35,18,35,15,34,1,65,6,120,32,1,65,11,120,115,32,1,65,25,120,115,106,35,15,34,1,35,16,113,35,17,32,1,65,127,115,113,115,106,106,106,36,20,35,11,34,1,65,2,120,32,1,65,13,120,115,32,1,65,22,120,115,35,11,34,1,35,12,34,2,113,32,1,35,13,34,1,113,115,32,1,32,2,113,115,106,36,21,35,17,36,18,35,16,36,17,35,15,36,16,35,14,35,20,106,36,15,35,13,36,14,35,12,36,13,35,11,36,12,35,20,35,21,106,36,11,35,19,65,1,106,36,19,12,1,11,11,35,3,35,11,106,36,3,35,4,35,12,106,36,4,35,5,35,13,106,36,5,35,6,35,14,106,36,6,35,7,35,15,106,36,7,35,8,35,16,106,36,8,35,9,35,17,106,36,9,35,10,35,18,106,36,10,11,177,1,1,2,127,32,1,35,33,106,36,33,35,32,4,64,65,192,0,35,32,107,32,1,76,4,64,35,25,35,32,106,32,0,65,192,0,35,32,107,16,7,35,32,65,192,0,35,32,107,106,36,32,65,192,0,35,32,107,33,2,32,1,65,192,0,35,32,107,107,33,1,35,27,35,25,16,8,65,0,36,32,5,35,25,35,32,106,32,0,32,1,16,7,32,1,35,32,106,36,32,15,11,11,3,64,32,3,32,1,65,192,0,109,72,4,64,35,27,32,0,32,2,106,16,8,32,3,65,1,106,33,3,32,2,65,64,107,33,2,12,1,11,11,32,1,65,63,113,4,64,35,25,35,32,106,32,0,32,2,106,32,1,65,63,113,34,0,16,7,32,0,35,32,106,36,32,11,11,25,0,32,0,65,128,254,131,120,113,65,8,119,32,0,65,255,129,252,7,113,65,8,120,114,11,173,2,1,2,127,35,33,65,63,113,65,63,72,4,64,35,25,35,32,106,65,128,1,58,0,0,35,32,65,1,106,36,32,11,35,33,65,63,113,65,56,78,4,64,35,25,35,32,106,34,1,65,192,0,35,32,107,106,33,2,3,64,32,1,32,2,73,4,64,32,1,65,0,58,0,0,32,1,65,1,106,33,1,12,1,11,11,35,27,35,25,16,8,65,0,36,32,11,35,33,65,63,113,65,63,78,4,64,35,25,35,32,106,65,128,1,58,0,0,35,32,65,1,106,36,32,11,35,25,35,32,106,34,1,65,56,35,32,107,106,33,2,3,64,32,1,32,2,73,4,64,32,1,65,0,58,0,0,32,1,65,1,106,33,1,12,1,11,11,35,25,65,56,106,35,33,65,128,128,128,128,2,109,16,10,54,2,0,35,25,65,60,106,35,33,65,3,116,16,10,54,2,0,35,27,35,25,16,8,32,0,35,3,16,10,54,2,0,32,0,65,4,106,35,4,16,10,54,2,0,32,0,65,8,106,35,5,16,10,54,2,0,32,0,65,12,106,35,6,16,10,54,2,0,32,0,65,16,106,35,7,16,10,54,2,0,32,0,65,20,106,35,8,16,10,54,2,0,32,0,65,24,106,35,9,16,10,54,2,0,32,0,65,28,106,35,10,16,10,54,2,0,11,14,0,16,6,35,29,32,0,16,9,35,31,16,11,11,253,1,1,2,127,35,3,36,11,35,4,36,12,35,5,36,13,35,6,36,14,35,7,36,15,35,8,36,16,35,9,36,17,35,10,36,18,65,0,36,19,3,64,35,19,65,192,0,73,4,64,32,0,35,19,65,2,116,106,40,2,0,35,18,35,15,34,1,65,6,120,32,1,65,11,120,115,32,1,65,25,120,115,106,35,15,34,1,35,16,113,35,17,32,1,65,127,115,113,115,106,106,36,20,35,11,34,1,65,2,120,32,1,65,13,120,115,32,1,65,22,120,115,35,11,34,1,35,12,34,2,113,32,1,35,13,34,1,113,115,32,1,32,2,113,115,106,36,21,35,17,36,18,35,16,36,17,35,15,36,16,35,14,35,20,106,36,15,35,13,36,14,35,12,36,13,35,11,36,12,35,20,35,21,106,36,11,35,19,65,1,106,36,19,12,1,11,11,35,3,35,11,106,36,3,35,4,35,12,106,36,4,35,5,35,13,106,36,5,35,6,35,14,106,36,6,35,7,35,15,106,36,7,35,8,35,16,106,36,8,35,9,35,17,106,36,9,35,10,35,18,106,36,10,11,107,0,16,6,35,27,32,0,16,8,35,2,16,13,32,1,35,3,16,10,54,2,0,32,1,65,4,106,35,4,16,10,54,2,0,32,1,65,8,106,35,5,16,10,54,2,0,32,1,65,12,106,35,6,16,10,54,2,0,32,1,65,16,106,35,7,16,10,54,2,0,32,1,65,20,106,35,8,16,10,54,2,0,32,1,65,24,106,35,9,16,10,54,2,0,32,1,65,28,106,35,10,16,10,54,2,0,11,4,0,16,5,11,11,222,5,6,0,65,17,11,143,2,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,152,47,138,66,145,68,55,113,207,251,192,181,165,219,181,233,91,194,86,57,241,17,241,89,164,130,63,146,213,94,28,171,152,170,7,216,1,91,131,18,190,133,49,36,195,125,12,85,116,93,190,114,254,177,222,128,167,6,220,155,116,241,155,193,193,105,155,228,134,71,190,239,198,157,193,15,204,161,12,36,111,44,233,45,170,132,116,74,220,169,176,92,218,136,249,118,82,81,62,152,109,198,49,168,200,39,3,176,199,127,89,191,243,11,224,198,71,145,167,213,81,99,202,6,103,41,41,20,133,10,183,39,56,33,27,46,252,109,44,77,19,13,56,83,84,115,10,101,187,10,106,118,46,201,194,129,133,44,114,146,161,232,191,162,75,102,26,168,112,139,75,194,163,81,108,199,25,232,146,209,36,6,153,214,133,53,14,244,112,160,106,16,22,193,164,25,8,108,55,30,76,119,72,39,181,188,176,52,179,12,28,57,74,170,216,78,79,202,156,91,243,111,46,104,238,130,143,116,111,99,165,120,20,120,200,132,8,2,199,140,250,255,190,144,235,108,80,164,247,163,249,190,242,120,113,198,0,65,160,2,11,29,16,0,0,0,1,0,0,0,3,0,0,0,16,0,0,0,32,0,0,0,32,0,0,0,0,1,0,0,64,0,65,193,2,11,143,2,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,152,47,138,194,145,68,55,113,207,251,192,181,165,219,181,233,91,194,86,57,241,17,241,89,164,130,63,146,213,94,28,171,152,170,7,216,1,91,131,18,190,133,49,36,195,125,12,85,116,93,190,114,254,177,222,128,167,6,220,155,116,243,155,193,193,105,155,100,134,71,254,240,198,237,225,15,84,242,12,36,111,52,233,79,190,132,201,108,30,65,185,97,250,136,249,22,82,81,198,242,109,90,142,168,101,252,25,176,199,158,217,185,195,49,18,154,160,234,14,231,43,35,177,253,176,62,53,199,213,186,105,48,95,109,151,203,143,17,15,90,253,238,30,220,137,182,53,10,4,122,11,222,157,202,244,88,22,91,93,225,134,62,127,0,128,137,8,55,50,234,7,165,55,149,171,111,16,97,64,23,241,214,140,13,109,59,170,205,55,190,187,192,218,59,97,131,99,163,72,219,49,233,2,11,167,92,209,111,202,250,26,82,49,132,51,49,149,26,212,110,144,120,67,109,242,145,156,195,189,171,204,158,230,160,201,181,60,182,47,83,198,65,199,210,163,126,35,7,104,75,149,164,118,29,25,76,0,65,208,4,11,29,16,0,0,0,1,0,0,0,3,0,0,0,16,0,0,0,80,1,0,0,80,1,0,0,0,1,0,0,64,0,65,240,4,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,160,5,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115])},8219:function(e,t){"use strict";function r(e,t){let r=BigInt(1)<<BigInt(e);if(t>=r)throw Error(`index ${t} too large for depth ${e}`);return r|t}Object.defineProperty(t,"__esModule",{value:!0}),t.gindexChild=t.gindexParent=t.gindexSibling=t.concatGindices=t.getGindexBits=t.gindexIterator=t.getGindicesAtDepth=t.iterateAtDepth=t.countToDepth=t.convertGindexToBitstring=t.toGindexBitstring=t.toGindex=t.bitIndexBigInt=void 0,t.bitIndexBigInt=function(e){return e.toString(2).length-1},t.toGindex=r,t.toGindexBitstring=function(e,t){let r=t?Number(t).toString(2):"";if(!(r.length>e))return"1"+r.padStart(e,"0");throw Error("index too large for depth")},t.convertGindexToBitstring=function(e){if("string"==typeof e){if(0===e.length)throw Error(i);return e}if(e<1)throw Error(i);return e.toString(2)},t.countToDepth=function(e){return e<=1?0:(e-BigInt(1)).toString(2).length},t.iterateAtDepth=function(e,t,i){let n=BigInt(1)<<BigInt(e);if(t+i>n)throw Error("Too large for depth");let o=r(e,t),s=o+i;return{[Symbol.iterator]:()=>({next(){if(!(o<s))return{done:!0,value:void 0};{let e=o;return o++,{done:!1,value:e}}}})}},t.getGindicesAtDepth=function(e,t,i){let n=BigInt(1)<<BigInt(e);if(t+i>n)throw Error("Too large for depth");let o=r(e,BigInt(t)),s=[];for(let e=0;e<i;e++)s.push(o++);return s};let i="Invalid gindex";t.gindexIterator=function(e){let t;if("string"==typeof e){if(!e.length)throw Error(i);t=e}else{if(e<1)throw Error(i);t=e.toString(2)}let r=1,n=()=>{if(r===t.length)return{done:!0,value:void 0};let e=Number(t[r]);return r++,{done:!1,value:e}};return{[Symbol.iterator]:()=>({next:n}),remainingBitLength:()=>t.length-r}},t.getGindexBits=function(e){let t;if("string"==typeof e){if(!e.length)throw Error(i);t=e}else{if(e<1)throw Error(i);t=e.toString(2)}let r=[];for(let e=1;e<t.length;e++)r.push(Number(t[e]));return r},t.concatGindices=function(e){return BigInt(e.reduce((e,t)=>e+t.toString(2).slice(1),"0b1"))},t.gindexSibling=function(e){return e^BigInt(1)},t.gindexParent=function(e){return e/BigInt(2)},t.gindexChild=function(e,t){return e*BigInt(2)+BigInt(t)}},97034:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHashObject=t.uint8ArrayToHashObject=t.hashObjectToUint8Array=t.hashTwoObjects=t.hash=void 0;let i=r(97507),n=new Uint8Array(64);t.hash=function(e,t){return n.set(e,0),n.set(t,32),i.digest64(n)},t.hashTwoObjects=function(e,t){return i.digest64HashObjects(e,t)},t.hashObjectToUint8Array=function(e){let t=new Uint8Array(32);return i.hashObjectToByteArray(e,t,0),t},t.uint8ArrayToHashObject=function(e){return i.byteArrayToHashObject(e)},t.isHashObject=function(e){return void 0===e.length}},56050:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(8219),t),n(r(97034),t),n(r(28984),t),n(r(26887),t),n(r(67684),t),n(r(36904),t),n(r(8015),t),n(r(37583),t)},28984:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitwiseOrNodeH=t.setNodeH=t.getNodeH=t.compose=t.identity=t.LeafNode=t.BranchNode=t.Node=void 0;let i=r(97034);class n{constructor(e,t,r,i,n,o,s,a){this.h0=e,this.h1=t,this.h2=r,this.h3=i,this.h4=n,this.h5=o,this.h6=s,this.h7=a}applyHash(e){this.h0=e.h0,this.h1=e.h1,this.h2=e.h2,this.h3=e.h3,this.h4=e.h4,this.h5=e.h5,this.h6=e.h6,this.h7=e.h7}}t.Node=n,t.BranchNode=class extends n{constructor(e,t){if(super(null,0,0,0,0,0,0,0),this._left=e,this._right=t,!e)throw Error("Left node is undefined");if(!t)throw Error("Right node is undefined")}get rootHashObject(){return null===this.h0&&super.applyHash(i.hashTwoObjects(this.left.rootHashObject,this.right.rootHashObject)),this}get root(){return i.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this._left}get right(){return this._right}};class o extends n{static fromRoot(e){return this.fromHashObject(i.uint8ArrayToHashObject(e))}static fromHashObject(e){return new o(e.h0,e.h1,e.h2,e.h3,e.h4,e.h5,e.h6,e.h7)}static fromZero(){return new o(0,0,0,0,0,0,0,0)}static fromUint32(e){return new o(e,0,0,0,0,0,0,0)}clone(){return o.fromHashObject(this)}get rootHashObject(){return this}get root(){return i.hashObjectToUint8Array(this)}isLeaf(){return!0}get left(){throw Error("LeafNode has no left node")}get right(){throw Error("LeafNode has no right node")}writeToBytes(e,t,r){e.set(this.root.slice(0,r),t)}getUint(e,t,r){let i=Math.floor(t/4);if(e<4){let r=t%4*8,n=s(this,i);return 1===e?255&n>>r:65535&n>>r}if(4===e)return s(this,i)>>>0;if(8===e){let e=s(this,i),t=s(this,i+1);return 0===t?e>>>0:-1===t&&-1===e&&r?1/0:(e>>>0)+(t>>>0)*4294967296}throw Error("uintBytes > 8")}getUintBigint(e,t){let r=Math.floor(t/4);if(e<4){let i=t%4*8,n=s(this,r);return 1===e?BigInt(255&n>>i):BigInt(65535&n>>i)}if(4===e)return BigInt(s(this,r)>>>0);{let t=Math.ceil(e/4),i=BigInt(0);for(let e=0;e<t;e++)i+=BigInt(s(this,r+e)>>>0)<<BigInt(32*e);return i}}setUint(e,t,r,i){let n=Math.floor(t/4);if(e<4){let i=t%4*8,o=s(this,n);1===e?(o&=~(255<<i),o|=r<<i):(o&=~(65535<<i),o|=r<<i),a(this,n,o)}else if(4===e)a(this,n,r);else if(8===e)r===1/0&&i?(a(this,n,-1),a(this,n+1,-1)):(a(this,n,4294967295&r),a(this,n+1,r/4294967296&4294967295));else throw Error("uintBytes > 8")}setUintBigint(e,t,r){let i=Math.floor(t/4);if(e<4){let n=Number(r),o=t%4*8,u=s(this,i);1===e?(u&=~(255<<o),u|=n<<o):(u&=~(65535<<o),u|=n<<o),a(this,i,u)}else if(4===e)a(this,i,Number(r));else{let t=i+Math.ceil(e/4);for(let e=i;e<t;e++)a(this,e,Number(r&BigInt(4294967295))),r>>=BigInt(32)}}bitwiseOrUint(e,t,r){let i=Math.floor(t/4);if(e<4)u(this,i,r<<t%4*8);else if(4===e)u(this,i,r);else{let t=i+Math.ceil(e/4);for(let e=i;e<t;e++)u(this,e,4294967295&r),r>>=32}}}function s(e,t){if(0===t)return e.h0;if(1===t)return e.h1;if(2===t)return e.h2;if(3===t)return e.h3;if(4===t)return e.h4;if(5===t)return e.h5;if(6===t)return e.h6;else if(7===t)return e.h7;else throw Error("hIndex > 7")}function a(e,t,r){if(0===t)e.h0=r;else if(1===t)e.h1=r;else if(2===t)e.h2=r;else if(3===t)e.h3=r;else if(4===t)e.h4=r;else if(5===t)e.h5=r;else if(6===t)e.h6=r;else if(7===t)e.h7=r;else throw Error("hIndex > 7")}function u(e,t,r){if(0===t)e.h0|=r;else if(1===t)e.h1|=r;else if(2===t)e.h2|=r;else if(3===t)e.h3|=r;else if(4===t)e.h4|=r;else if(5===t)e.h5|=r;else if(6===t)e.h6|=r;else if(7===t)e.h7|=r;else throw Error("hIndex > 7")}t.LeafNode=o,t.identity=function(e){return e},t.compose=function(e,t){return function(r){return t(e(r))}},t.getNodeH=s,t.setNodeH=a,t.bitwiseOrNodeH=u},26887:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packedNodeRootsToBytes=t.packedRootsBytesToLeafNodes=t.packedRootsBytesToNode=void 0;let i=r(36904),n=r(28984);function o(e,t,r){let i=r-t,o=Math.floor(i/32),s=Array(Math.ceil(i/32));for(let r=0;r<o;r++){let i=t+32*r;s[r]=new n.LeafNode(e.getInt32(i+0,!0),e.getInt32(i+4,!0),e.getInt32(i+8,!0),e.getInt32(i+12,!0),e.getInt32(i+16,!0),e.getInt32(i+20,!0),e.getInt32(i+24,!0),e.getInt32(i+28,!0))}let a=i%32;if(a>0){let r=new n.LeafNode(0,0,0,0,0,0,0,0);s[o]=r;let u=Math.floor(a/4);for(let i=0;i<u;i++)n.setNodeH(r,i,e.getInt32(t+32*o+4*i,!0));let l=i%4;if(l>0){let o=0;for(let r=0;r<l;r++)o|=e.getUint8(t+i-l+r)<<8*r;n.setNodeH(r,u,o)}}return s}t.packedRootsBytesToNode=function(e,t,r,n){let s=o(t,r,n);return i.subtreeFillToContents(s,e)},t.packedRootsBytesToLeafNodes=o,t.packedNodeRootsToBytes=function(e,t,r,i){let o=r%32,s=Math.floor(r/32);for(let r=0;r<s;r++){let n=i[r],o=t+32*r;e.setInt32(o+0,n.h0,!0),e.setInt32(o+4,n.h1,!0),e.setInt32(o+8,n.h2,!0),e.setInt32(o+12,n.h3,!0),e.setInt32(o+16,n.h4,!0),e.setInt32(o+20,n.h5,!0),e.setInt32(o+24,n.h6,!0),e.setInt32(o+28,n.h7,!0)}if(o>0){let a=i[s],u=Math.floor(o/4);for(let r=0;r<u;r++)e.setInt32(t+32*s+4*r,n.getNodeH(a,r),!0);let l=r%4;if(l>0){let i=n.getNodeH(a,u);for(let n=0;n<l;n++)e.setUint8(t+r-l+n,i>>8*n&255)}}}},67684:function(e,t,r){"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeProof=t.serializeProof=t.createNodeFromProof=t.createProof=t.ProofTypeSerialized=t.ProofType=void 0;let o=r(25533),s=r(20675),a=r(65866);(n=i=t.ProofType||(t.ProofType={})).single="single",n.treeOffset="treeOffset",n.multi="multi",t.ProofTypeSerialized=[i.single,i.treeOffset,i.multi],t.createProof=function(e,t){switch(t.type){case i.single:{let[r,n]=s.createSingleProof(e,t.gindex);return{type:i.single,gindex:t.gindex,leaf:r,witnesses:n}}case i.treeOffset:{let[r,n]=a.createTreeOffsetProof(e,t.gindices);return{type:i.treeOffset,offsets:r,leaves:n}}case i.multi:{let[r,n,s]=o.createMultiProof(e,t.gindices);return{type:i.multi,leaves:r,witnesses:n,gindices:s}}default:throw Error("Invalid proof type")}},t.createNodeFromProof=function(e){switch(e.type){case i.single:return s.createNodeFromSingleProof(e.gindex,e.leaf,e.witnesses);case i.treeOffset:return a.createNodeFromTreeOffsetProof(e.offsets,e.leaves);case i.multi:return o.createNodeFromMultiProof(e.leaves,e.witnesses,e.gindices);default:throw Error("Invalid proof type")}},t.serializeProof=function(e){switch(e.type){case i.single:case i.multi:throw Error("Not implemented");case i.treeOffset:{let r=new Uint8Array(1+a.computeTreeOffsetProofSerializedLength(e.offsets,e.leaves));return r[0]=t.ProofTypeSerialized.indexOf(i.treeOffset),a.serializeTreeOffsetProof(r,1,e.offsets,e.leaves),r}default:throw Error("Invalid proof type")}},t.deserializeProof=function(e){let r=t.ProofTypeSerialized[e[0]];if(!r)throw Error("Invalid proof type");switch(r){case i.single:case i.multi:throw Error("Not implemented");case i.treeOffset:{let[t,r]=a.deserializeTreeOffsetProof(e,1);return{type:i.treeOffset,offsets:t,leaves:r}}default:throw Error("Invalid proof type")}}},25533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeFromMultiProof=t.createMultiProof=void 0;let i=r(28984),n=r(8015),o=r(16782);t.createMultiProof=function(e,t){let r=new n.Tree(e),i=o.computeMultiProofBitstrings(t.map(e=>e.toString(2)),!1,o.SortOrder.Decreasing),s=t.slice().sort((e,t)=>e<t?1:-1),a=s.map(e=>r.getRoot(e)),u=i.map(e=>r.getRoot(e));return[a,u,s]},t.createNodeFromMultiProof=function(e,t,r){if(e.length!==r.length)throw Error("Leaves length should equal gindices length");let n=r.map(e=>e.toString(2)),s=o.computeMultiProofBitstrings(n,!1,o.SortOrder.Decreasing);if(s.length!==t.length)throw Error("Witnesses length should equal witnesses gindices length");let a=Math.max(n[0]?.length??0,s[0]?.length??0),u=Object.fromEntries(Array.from({length:a},(e,t)=>[t+1,{}]));for(let t=0;t<n.length;t++){let r=n[t],o=e[t];u[r.length][r]=i.LeafNode.fromRoot(o)}for(let e=0;e<s.length;e++){let r=s[e],n=t[e];u[r.length][r]=i.LeafNode.fromRoot(n)}for(let e=a;e>1;e--){let t=u[e],r=u[e-1];for(let e of Object.keys(t)){let n=t[e];if(!n)continue;let o="0"===e[e.length-1],s=e.substring(0,e.length-1),a=s+(o?"1":"0"),u=t[a];if(!u)throw Error(`Sibling not found: ${a}`);let l=o?new i.BranchNode(n,u):new i.BranchNode(u,n);r[s]=l,delete t[e],delete t[a]}}let l=u[1]["1"];if(!l)throw Error("Internal consistency error: no root found");return l}},20675:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeFromSingleProof=t.createSingleProof=t.ERR_INVALID_NAV=void 0;let i=r(28984),n=r(8219);t.ERR_INVALID_NAV="Invalid tree navigation",t.createSingleProof=function(e,r){let i=[],o=e;for(let e of n.gindexIterator(r))if(e){if(o.isLeaf())throw Error(t.ERR_INVALID_NAV);i.push(o.left.root),o=o.right}else{if(o.isLeaf())throw Error(t.ERR_INVALID_NAV);i.push(o.right.root),o=o.left}return[o.root,i.reverse()]},t.createNodeFromSingleProof=function(e,t,r){let n=i.LeafNode.fromRoot(t),o=r.slice().reverse();for(;e>1;){let t=i.LeafNode.fromRoot(o.pop());n=e%BigInt(2)===BigInt(0)?new i.BranchNode(n,t):new i.BranchNode(t,n),e/=BigInt(2)}return n}},65866:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeTreeOffsetProof=t.serializeTreeOffsetProof=t.computeTreeOffsetProofSerializedLength=t.createNodeFromTreeOffsetProof=t.createTreeOffsetProof=t.treeOffsetProofToNode=t.nodeToTreeOffsetProof=void 0;let i=r(28984),n=r(16782);function o(e,t,r){if(!r.length||!r[0].startsWith(t))return[[],[]];if(t===r[0])return r.shift(),[[],[e.root]];{let[i,n]=o(e.left,t+"0",r),[s,a]=o(e.right,t+"1",r),u=n.length;return[[u].concat(i,s),n.concat(a)]}}function s(e,t){if(t.length){if(1===t.length)return i.LeafNode.fromRoot(t[0]);{let r=e[0];return new i.BranchNode(s(e.slice(1,r),t.slice(0,r)),s(e.slice(r),t.slice(r)))}}throw Error("Proof must contain gt 0 leaves")}t.nodeToTreeOffsetProof=o,t.treeOffsetProofToNode=s,t.createTreeOffsetProof=function(e,t){return o(e,"1",n.computeMultiProofBitstrings(t.map(e=>e.toString(2))))},t.createNodeFromTreeOffsetProof=function(e,t){return s(e,t)},t.computeTreeOffsetProofSerializedLength=function(e,t){return(e.length+1)*2+32*t.length},t.serializeTreeOffsetProof=function(e,t,r,i){let n=new DataView(e.buffer,e.byteOffset,e.byteLength);n.setUint16(t,i.length,!0);let o=t+2;for(let e=0;e<r.length;e++)n.setUint16(2*e+o,r[e],!0);let s=o+2*r.length;for(let t=0;t<i.length;t++)e.set(i[t],32*t+s)},t.deserializeTreeOffsetProof=function(e,t){let r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=r.getUint16(t,!0);if(e.length<(i-1)*2+32*i)throw Error("Unable to deserialize tree offset proof: not enough bytes");let n=t+2,o=Array.from({length:i-1},(e,t)=>r.getUint16(2*t+n,!0)),s=n+2*o.length,a=Array.from({length:i},(t,r)=>e.subarray(32*r+s,(r+1)*32+s));return[o,a]}},16782:function(e,t,r){"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.computeMultiProofBitstrings=t.SortOrder=t.filterParentBitstrings=t.sortDecreasingBitstrings=t.sortInOrderBitstrings=t.computeProofBitstrings=t.computeProofGindices=void 0;let o=r(8219);function s(e){let t=new Set,r=new Set,i=e;for(;i.length>1;){t.add(i);let e=i[i.length-1],n=i.substring(0,i.length-1);r.add(n+(1^Number(e))),i=n}return{path:t,branch:r}}function a(e,t){return e.length?e.map(e=>e.padEnd(t)).sort().map(e=>e.trim()):[]}function u(e){return e.length?e.sort((e,t)=>{if(e.length<t.length)return 1;if(t.length<e.length)return -1;let r=e.indexOf("0"),i=t.indexOf("0");for(;;){if(-1===r)return -1;if(-1===i||r<i)return 1;if(i<r)return -1;r=e.indexOf("0",r+1),i=t.indexOf("0",i+1)}}):[]}function l(e){let t=e.slice().sort((e,t)=>e.length-t.length),r=[];e:for(let e=0;e<t.length;e++){let i=t[e];for(let r=e+1;r<t.length;r++){let e=t[r];if(e.startsWith(i))continue e}r.push(i)}return r}t.computeProofGindices=function(e){let t=new Set,r=new Set,i=e;for(;i>1;)t.add(i),r.add(o.gindexSibling(i)),i=o.gindexParent(i);return{path:t,branch:r}},t.computeProofBitstrings=s,t.sortInOrderBitstrings=a,t.sortDecreasingBitstrings=u,t.filterParentBitstrings=l,(n=i=t.SortOrder||(t.SortOrder={}))[n.InOrder=0]="InOrder",n[n.Decreasing=1]="Decreasing",n[n.Unsorted=2]="Unsorted",t.computeMultiProofBitstrings=function(e,t=!0,r=i.InOrder){let n=l(e),o=new Set(t?n:[]),h=new Set,c=new Set,f=1;for(let e of n){e.length>f&&(f=e.length);let{path:t,branch:r}=s(e);t.forEach(e=>h.add(e)),r.forEach(e=>c.add(e))}switch(h.forEach(e=>c.delete(e)),c.forEach(e=>o.add(e)),r){case i.InOrder:return a(Array.from(o),f);case i.Decreasing:return u(Array.from(o));case i.Unsorted:return Array.from(o)}}},36904:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subtreeFillToContents=t.subtreeFillToLength=t.subtreeFillToDepth=void 0;let i=r(28984),n=r(37583);function o(e,t){let r=e;for(;t>0;)r=new i.BranchNode(r,r),t--;return r}t.subtreeFillToDepth=o,t.subtreeFillToLength=function e(t,r,s){let a=1<<r;if(s>a)throw Error("ERR_TOO_MANY_NODES");if(s===a)return o(t,r);if(0===r){if(1===s)return t;throw Error("ERR_NAVIGATION")}if(1===r)return new i.BranchNode(t,s>1?t:n.zeroNode(0));let u=a>>1;return s<=u?new i.BranchNode(e(t,r-1,s),n.zeroNode(r-1)):new i.BranchNode(o(t,r-1),e(t,r-1,s-u))},t.subtreeFillToContents=function(e,t){if(e.length>2**t)throw Error(`nodes.length ${e.length} over maxIndex at depth ${t}`);if(0===e.length)return n.zeroNode(t);if(0===t)return e[0];if(1===t)return e.length>1?new i.BranchNode(e[0],e[1]):new i.BranchNode(e[0],n.zeroNode(0));let r=e.length;for(let o=t;o>0;o--){let s=r%2,a=r-s;for(let t=0;t<a;t+=2)e[t/2]=new i.BranchNode(e[t],e[t+1]);s>0&&(e[a/2]=new i.BranchNode(e[a],n.zeroNode(t-o))),r=a/2+s}return e[0]}},8015:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treeZeroAfterIndex=t.iterateNodesAtDepth=t.getNodesAtDepth=t.setNodesAtDepth=t.setNodeAtDepth=t.getNodeAtDepth=t.setNodeWithFn=t.setNode=t.getNode=t.Tree=void 0;let i=r(37583),n=r(8219),o=r(28984),s=r(67684),a=r(20675);class u{constructor(e,t){this._rootNode=e,t&&("undefined"==typeof WeakRef?this.hook=t:this.hook=new WeakRef(t))}static createFromProof(e){return new u(s.createNodeFromProof(e))}get rootNode(){return this._rootNode}set rootNode(e){if(this._rootNode=e,this.hook){if("undefined"==typeof WeakRef)this.hook(e);else{let t=this.hook.deref();t?t(e):this.hook=void 0}}}get root(){return this.rootNode.root}clone(){return new u(this.rootNode)}getSubtree(e){return new u(this.getNode(e),t=>this.setNode(e,t))}getNode(e){return l(this.rootNode,e)}getNodeAtDepth(e,t){return p(this.rootNode,e,t)}getRoot(e){return this.getNode(e).root}setNode(e,t){this.rootNode=h(this.rootNode,e,t)}setNodeWithFn(e,t){this.rootNode=c(this.rootNode,e,t)}setNodeAtDepth(e,t,r){this.rootNode=g(this.rootNode,e,t,r)}setRoot(e,t){this.setNode(e,o.LeafNode.fromRoot(t))}getNodesAtDepth(e,t,r){return m(this.rootNode,e,t,r)}iterateNodesAtDepth(e,t,r){return b(this.rootNode,e,t,r)}getSingleProof(e){return a.createSingleProof(this.rootNode,e)[1]}getProof(e){return s.createProof(this.rootNode,e)}}function l(e,t){let r=n.convertGindexToBitstring(t),i=e;for(let e=1;e<r.length;e++){if(i.isLeaf())throw Error(`Invalid tree - found leaf at depth ${e}`);i="1"===r[e]?i.right:i.left}return i}function h(e,t,r){let i=n.convertGindexToBitstring(t),o=f(e,i);return d(i,o,r)}function c(e,t,r){let i=n.convertGindexToBitstring(t),o=f(e,i),s=o[o.length-1],a=i[i.length-1],u="1"===a?s.right:s.left,l=r(u);return d(i,o,l)}function f(e,t){let r=e,i=[e];for(let e=1;e<t.length-1;e++)i.push(r="1"===t[e]?r.right:r.left);return i}function d(e,t,r){let i=r;for(let r=e.length-1;r>=1;r--)i="1"===e[r]?new o.BranchNode(t[r-1].left,i):new o.BranchNode(i,t[r-1].right);return i}function p(e,t,r){if(0===t)return e;if(1===t)return 0===r?e.left:e.right;let i=t-1,n=e;for(let e=i;e>=0;e--)n=v(e,r)?n.left:n.right;return n}function g(e,t,r,i){return y(e,t,[r],[i])}function y(e,t,r,i){if(0===t)return i.length>0?i[0]:e;let n=Array(t),s=Array(t),a=t-1,u=a,l=e;n[a]=e;for(let e=0;e<r.length;e++){let t=r[e];for(let e=u;e>0;e--)l=v(e,t)?l.left:l.right,n[e-1]=l;u=0;let h=(1&t)!=1;h?t+1===r[e+1]?(l=new o.BranchNode(i[e],i[e+1]),e++):l=new o.BranchNode(i[e],l.right):l=new o.BranchNode(l.left,i[e]);let c=e>=r.length-1,f=c?a:Math.ceil(Math.log2(-~(t^r[e+1])))-1;for(let e=1;e<=f;e++)if(v(e,t))c||e!==f?l=new o.BranchNode(l,n[e].right):(s[e]=l,l=n[e]);else{let t=s[e];void 0!==t?(l=new o.BranchNode(t,l),s[e]=void 0):l=new o.BranchNode(n[e].left,l)}u=f}return l}function m(e,t,r,i){if(0===t)return 0===r&&i>0?[e]:[];if(1===t)return 0===i?[]:1===i?0===r?[e.left]:[e.right]:[e.left,e.right];let n=t-1,o=n,s=e,a=Array(t),u=Array(t),l=Array(i);a[n]=e;for(let e=0;e<i;e++){for(let t=o;t>=0;t--){t!==o&&(a[t]=s);let i=v(t,r+e);u[t]=i,s=i?s.left:s.right}l[e]=s;for(let e=0;e<=n;e++)if(!0===u[e]){o=e;break}s=a[o]}return l}function*b(e,t,r,i){let n=r+i,o=t-1,s=o,a=e,u=Array(t),l=Array(t);u[o]=e;for(let e=r;e<n;e++){for(let t=s;t>=0;t--){t!==s&&(u[t]=a);let r=v(t,e);l[t]=r,a=r?a.left:a.right}yield a;for(let e=0;e<=o;e++)if(!0===l[e]){s=e;break}a=u[s]}}function v(e,t){if(e>31){let r=1<<e-32;return(t/4294967296>>>0&r)!==r}let r=1<<e;return(t&r)!==r}t.Tree=u,t.getNode=l,t.setNode=h,t.setNodeWithFn=c,t.getNodeAtDepth=p,t.setNodeAtDepth=g,t.setNodesAtDepth=y,t.getNodesAtDepth=m,t.iterateNodesAtDepth=b,t.treeZeroAfterIndex=function(e,t,r){if(r<0)return i.zeroNode(t);let n=Array(t),s=t-1,a=s,u=e;n[s]=e;for(let e=a;e>=0;e--)u=v(e,r)?u.left:u.right,n[e-1]=u;a=0;for(let e=0;e<=s;e++)u=v(e,r)?new o.BranchNode(u,i.zeroNode(e)):new o.BranchNode(n[e].left,u);return u}},37583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zeroNode=void 0;let i=r(28984),n=[i.LeafNode.fromZero()];t.zeroNode=function(e){if(e>=n.length)for(let t=n.length;t<=e;t++)n[t]=new i.BranchNode(n[t-1],n[t-1]);return n[e]}},31072:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BranchNodeStruct=void 0;let i=r(56050);class n extends i.Node{constructor(e,t){super(null,0,0,0,0,0,0,0),this.valueToNode=e,this.value=t}get rootHashObject(){if(null===this.h0){let e=this.valueToNode(this.value);super.applyHash(e.rootHashObject)}return this}get root(){return i.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this.valueToNode(this.value).left}get right(){return this.valueToNode(this.value).right}}t.BranchNodeStruct=n},25874:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash64=t.byteArrayEquals=t.toHexString=t.fromHexString=t.getUint8ByteToBitBooleanArray=t.BitArray=t.TreeViewDU=t.TreeView=t.isCompositeType=t.CompositeType=t.isBasicType=t.BasicType=t.Type=t.ByteArrayType=t.BitArrayType=t.ArrayType=t.VectorCompositeType=t.VectorBasicType=t.UnionType=t.UintNumberType=t.UintBigintType=t.NoneType=t.ListCompositeType=t.ListBasicType=t.ContainerNodeStructType=t.ContainerType=t.ByteVectorType=t.ByteListType=t.BooleanType=t.BitVectorType=t.BitListType=void 0;var i=r(96210);Object.defineProperty(t,"BitListType",{enumerable:!0,get:function(){return i.BitListType}});var n=r(56530);Object.defineProperty(t,"BitVectorType",{enumerable:!0,get:function(){return n.BitVectorType}});var o=r(49333);Object.defineProperty(t,"BooleanType",{enumerable:!0,get:function(){return o.BooleanType}});var s=r(10453);Object.defineProperty(t,"ByteListType",{enumerable:!0,get:function(){return s.ByteListType}});var a=r(26935);Object.defineProperty(t,"ByteVectorType",{enumerable:!0,get:function(){return a.ByteVectorType}});var u=r(23459);Object.defineProperty(t,"ContainerType",{enumerable:!0,get:function(){return u.ContainerType}});var l=r(83977);Object.defineProperty(t,"ContainerNodeStructType",{enumerable:!0,get:function(){return l.ContainerNodeStructType}});var h=r(3803);Object.defineProperty(t,"ListBasicType",{enumerable:!0,get:function(){return h.ListBasicType}});var c=r(64795);Object.defineProperty(t,"ListCompositeType",{enumerable:!0,get:function(){return c.ListCompositeType}});var f=r(63407);Object.defineProperty(t,"NoneType",{enumerable:!0,get:function(){return f.NoneType}});var d=r(85912);Object.defineProperty(t,"UintBigintType",{enumerable:!0,get:function(){return d.UintBigintType}}),Object.defineProperty(t,"UintNumberType",{enumerable:!0,get:function(){return d.UintNumberType}});var p=r(27343);Object.defineProperty(t,"UnionType",{enumerable:!0,get:function(){return p.UnionType}});var g=r(1733);Object.defineProperty(t,"VectorBasicType",{enumerable:!0,get:function(){return g.VectorBasicType}});var y=r(95223);Object.defineProperty(t,"VectorCompositeType",{enumerable:!0,get:function(){return y.VectorCompositeType}});var m=r(294);Object.defineProperty(t,"ArrayType",{enumerable:!0,get:function(){return m.ArrayType}});var b=r(30627);Object.defineProperty(t,"BitArrayType",{enumerable:!0,get:function(){return b.BitArrayType}});var v=r(13035);Object.defineProperty(t,"ByteArrayType",{enumerable:!0,get:function(){return v.ByteArrayType}});var w=r(75467);Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return w.Type}});var _=r(54054);Object.defineProperty(t,"BasicType",{enumerable:!0,get:function(){return _.BasicType}}),Object.defineProperty(t,"isBasicType",{enumerable:!0,get:function(){return _.isBasicType}});var A=r(28275);Object.defineProperty(t,"CompositeType",{enumerable:!0,get:function(){return A.CompositeType}}),Object.defineProperty(t,"isCompositeType",{enumerable:!0,get:function(){return A.isCompositeType}});var T=r(34192);Object.defineProperty(t,"TreeView",{enumerable:!0,get:function(){return T.TreeView}});var S=r(11090);Object.defineProperty(t,"TreeViewDU",{enumerable:!0,get:function(){return S.TreeViewDU}});var E=r(35725);Object.defineProperty(t,"BitArray",{enumerable:!0,get:function(){return E.BitArray}}),Object.defineProperty(t,"getUint8ByteToBitBooleanArray",{enumerable:!0,get:function(){return E.getUint8ByteToBitBooleanArray}});var B=r(53910);Object.defineProperty(t,"fromHexString",{enumerable:!0,get:function(){return B.fromHexString}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return B.toHexString}}),Object.defineProperty(t,"byteArrayEquals",{enumerable:!0,get:function(){return B.byteArrayEquals}});var x=r(90234);Object.defineProperty(t,"hash64",{enumerable:!0,get:function(){return x.hash64}})},75467:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0,t.Type=class{value_toTree(e){let t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}tree_toValue(e){let t=new Uint8Array(this.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.tree_serializeToBytes({uint8Array:t,dataView:r},0,e),this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}serialize(e){let t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}deserialize(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.value_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length)}}},294:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayType=void 0;let i=r(56050),n=r(28275),o=r(99921);class s extends n.CompositeType{constructor(e){super(),this.elementType=e}defaultValue(){return o.value_defaultValueArray(this.elementType,this.defaultLen)}getPropertyType(){return this.elementType}getPropertyGindex(e){if("number"!=typeof e)throw Error(`Invalid array index: ${e}`);let t=Math.floor(e/this.itemsPerChunk);return i.toGindex(this.depth,BigInt(t))}getIndexProperty(e){return e}tree_getLeafGindices(e,t){let r;if(this.isList){if(!t)throw Error("List type requires tree argument to get leaves");r=this.tree_getLength(t)}else r=this.tree_getLength(null);let o=[];if(n.isCompositeType(this.elementType)){let n=i.toGindex(this.depth,BigInt(0)),s=n+BigInt(r),a=i.concatGindices([e,n]);if(null===this.elementType.fixedSize){if(!t)throw Error("Array of variable size requires tree argument to get leaves");for(let e=n,r=a;e<s;e++,r++)o.push(...this.elementType.tree_getLeafGindices(r,i.getNode(t,e)))}else for(let e=0,t=a;e<r;e++,t++)o.push(...this.elementType.tree_getLeafGindices(t))}else{let t=Math.ceil(r/this.itemsPerChunk),n=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),s=n+BigInt(t);for(let e=n;e<s;e++)o.push(e)}return this.isList&&o.push(i.concatGindices([e,n.LENGTH_GINDEX])),o}fromJson(e){return o.value_fromJsonArray(this.elementType,e,this)}toJson(e){return o.value_toJsonArray(this.elementType,e,this)}clone(e){return o.value_cloneArray(this.elementType,e)}equals(e,t){return o.value_equals(this.elementType,e,t)}}t.ArrayType=s},99921:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidArrayLength=t.value_defaultValueArray=t.value_equals=t.value_cloneArray=t.value_toJsonArray=t.value_fromJsonArray=t.tree_deserializeFromBytesArrayBasic=t.tree_serializeToBytesArrayBasic=t.value_deserializeFromBytesArrayBasic=t.value_serializeToBytesArrayBasic=t.setChunksNode=t.addLengthNode=t.getChunksNodeFromRootNode=t.getLengthFromRootNode=void 0;let i=r(56050);function n(e,t){return new i.BranchNode(e,i.LeafNode.fromUint32(t))}function o(e,t,r){if(r&&e%1!=0)throw Error("size not multiple of element fixedSize");if(t.isList){if(e>t.limit)throw Error(`Invalid list length ${e} over limit ${t.limit}`)}else if(e!==t.length)throw Error(`Incorrect vector length ${e} expected ${t.length}`)}t.getLengthFromRootNode=function(e){return e.right.getUint(4,0)},t.getChunksNodeFromRootNode=function(e){return e.left},t.addLengthNode=n,t.setChunksNode=function(e,t,r){let n=void 0!==r?i.LeafNode.fromUint32(r):e.right;return new i.BranchNode(t,n)},t.value_serializeToBytesArrayBasic=function(e,t,r,i,n){let o=e.byteLength;for(let s=0;s<t;s++)e.value_serializeToBytes(r,i+s*o,n[s]);return i+t*o},t.value_deserializeFromBytesArrayBasic=function(e,t,r,i,n){let s=e.byteLength,a=(i-r)/s;o(a,n,!0);let u=Array(a);for(let i=0;i<a;i++)u[i]=e.value_deserializeFromBytes(t,r+i*s,r+(i+1)*s);return u},t.tree_serializeToBytesArrayBasic=function(e,t,r,n,o,s){let a=e.byteLength*t,u=i.getNodesAtDepth(s,r,0,Math.ceil(a/32));return i.packedNodeRootsToBytes(n.dataView,o,a,u),o+a},t.tree_deserializeFromBytesArrayBasic=function(e,t,r,s,a,u){let l=(a-s)/e.byteLength;o(l,u,!0);let h=i.packedRootsBytesToNode(t,r.dataView,s,a);return u.isList?n(h,l):h},t.value_fromJsonArray=function(e,t,r){if(!Array.isArray(t))throw Error("JSON is not an array");o(t.length,r);let i=Array(t.length);for(let r=0;r<t.length;r++)i[r]=e.fromJson(t[r]);return i},t.value_toJsonArray=function(e,t,r){let i=r.isList?t.length:r.length,n=Array(i);for(let r=0;r<i;r++)n[r]=e.toJson(t[r]);return n},t.value_cloneArray=function(e,t){let r=Array(t.length);for(let i=0;i<t.length;i++)r[i]=e.clone(t[i]);return r},t.value_equals=function(e,t,r){if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!e.equals(t[i],r[i]))return!1;return!0},t.value_defaultValueArray=function(e,t){let r=Array(t);for(let i=0;i<t;i++)r[i]=e.defaultValue();return r},t.assertValidArrayLength=o},55167:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value_getRootsArrayComposite=t.tree_deserializeFromBytesArrayComposite=t.tree_serializeToBytesArrayComposite=t.tree_serializedSizeArrayComposite=t.value_deserializeFromBytesArrayComposite=t.value_serializeToBytesArrayComposite=t.value_serializedSizeArrayComposite=t.maxSizeArrayComposite=t.minSizeArrayComposite=void 0;let i=r(56050),n=r(99921);function o(e,t,r,i,o){let s;let a=i-r;if(null===e)s=function(e,t,r){if(0===r)return new Uint32Array(0);let i=e.getUint32(t,!0);if(0===i)throw Error("First offset must be > 0");if(i%4!=0)throw Error("Offset data length not multiple of 4");let n=i/4,o=new Uint32Array(n);o[0]=i;for(let i=1;i<n;i++){let n=e.getUint32(t+4*i,!0);if(o[i]=n,n>r)throw Error(`Offset out of bounds ${n} > ${r}`);if(n<o[i-1])throw Error(`Offsets must be increasing ${n} < ${o[i-1]}`)}return o}(t,r,a);else{if(0===e)throw Error("element fixed length is 0");if(a%e!=0)throw Error(`size ${a} is not multiple of element fixedSize ${e}`);let t=a/e;s=new Uint32Array(t);for(let r=0;r<t;r++)s[r]=r*e}return n.assertValidArrayLength(s.length,o),s}t.minSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.minSize):t*e.minSize},t.maxSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.maxSize):t*e.maxSize},t.value_serializedSizeArrayComposite=function(e,t,r){if(null!==e.fixedSize)return t*e.fixedSize;{let i=0;for(let n=0;n<t;n++)i+=4+e.value_serializedSize(r[n]);return i}},t.value_serializeToBytesArrayComposite=function(e,t,r,i,n){if(null===e.fixedSize){let o=i+4*t;for(let s=0;s<t;s++)r.dataView.setUint32(i+4*s,o-i,!0),o=e.value_serializeToBytes(r,o,n[s]);return o}for(let o=0;o<t;o++)e.value_serializeToBytes(r,i+o*e.fixedSize,n[o]);return i+t*e.fixedSize},t.value_deserializeFromBytesArrayComposite=function(e,t,r,i,n){let s=o(e.fixedSize,t.dataView,r,i,n),a=s.length,u=Array(a);for(let n=0;n<a;n++){let o=r+s[n],l=n===a-1?i:r+s[n+1];u[n]=e.value_deserializeFromBytes(t,o,l)}return u},t.tree_serializedSizeArrayComposite=function(e,t,r,n){if(null!==e.fixedSize)return t*e.fixedSize;{let o=i.getNodesAtDepth(n,r,0,t),s=0;for(let t=0;t<o.length;t++)s+=4+e.tree_serializedSize(o[t]);return s}},t.tree_serializeToBytesArrayComposite=function(e,t,r,n,o,s){let a=i.getNodesAtDepth(n,r,0,t);if(null===e.fixedSize){let r=s+4*t,{dataView:i}=o;for(let t=0;t<a.length;t++)i.setUint32(s+4*t,r-s,!0),r=e.tree_serializeToBytes(o,r,a[t]);return r}for(let t=0;t<a.length;t++)s=e.tree_serializeToBytes(o,s,a[t]);return s},t.tree_deserializeFromBytesArrayComposite=function(e,t,r,s,a,u){let l=o(e.fixedSize,r.dataView,s,a,u),h=l.length,c=Array(h);for(let t=0;t<h;t++){let i=s+l[t],n=t===h-1?a:s+l[t+1];c[t]=e.tree_deserializeFromBytes(r,i,n)}let f=i.subtreeFillToContents(c,t);return u.isList?n.addLengthNode(f,h):f},t.value_getRootsArrayComposite=function(e,t,r){let i=Array(t);for(let n=0;n<t;n++)i[n]=e.hashTreeRoot(r[n]);return i}},54054:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBasicType=t.BasicType=void 0;let i=r(75467);class n extends i.Type{constructor(){super(...arguments),this.isBasic=!0,this.depth=0,this.maxChunkCount=1}value_serializedSize(){return this.byteLength}tree_serializedSize(){return this.byteLength}assertValidSize(e){if(e!==this.byteLength)throw Error(`BasicType invalid size ${e} expected ${this.byteLength}`)}hashTreeRoot(e){let t=new Uint8Array(32),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}clone(e){return e}equals(e,t){return e===t}}t.BasicType=n,t.isBasicType=function(e){return e.isBasic}},30627:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayType=void 0;let i=r(56050),n=r(53910),o=r(90234),s=r(28275),a=r(26194),u=r(91831);class l extends s.CompositeType{constructor(){super(...arguments),this.isViewMutable=!0}getView(e){return new a.BitArrayTreeView(this,e)}getViewDU(e){return new u.BitArrayTreeViewDU(this,e)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}getRoots(e){return o.splitIntoRootChunks(e.uint8Array)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request BitArray complete data")}getIndexProperty(){throw Error("Must only request BitArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){let r=this.tree_getByteLen(t),n=Math.ceil(r/32),o=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),a=Array(n);for(let e=0,t=o;e<n;e++,t++)a[e]=t;return this.isList&&a.push(i.concatGindices([e,s.LENGTH_GINDEX])),a}fromJson(e){let t=n.fromHexString(e),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}toJson(e){return n.toHexString(this.serialize(e))}clone(e){return e.clone()}equals(e,t){return e.bitLen===t.bitLen&&n.byteArrayEquals(e.uint8Array,t.uint8Array)}}t.BitArrayType=l},96210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitListType=void 0;let i=r(56050),n=r(90234),o=r(18229),s=r(99921),a=r(35725),u=r(30627);class l extends u.BitArrayType{constructor(e,t){if(super(),this.limitBits=e,this.fixedSize=null,this.minSize=1,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`BitList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBits/8/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.maxSize=Math.ceil(e/8)+1}static named(e,t){return new(o.namedClass(l,t.typeName))(e,t)}defaultValue(){return a.BitArray.fromBitLen(0)}value_serializedSize(e){return h(e.bitLen)}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),c(e.uint8Array,t,r.bitLen)}value_deserializeFromBytes(e,t,r){let{uint8Array:i,bitLen:n}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r);return new a.BitArray(i,n)}tree_serializedSize(e){return h(s.getLengthFromRootNode(e))}tree_serializeToBytes(e,t,r){let n=s.getChunksNodeFromRootNode(r),o=s.getLengthFromRootNode(r),a=Math.ceil(o/8),u=i.getNodesAtDepth(n,this.chunkDepth,0,Math.ceil(a/32));return i.packedNodeRootsToBytes(e.dataView,t,a,u),c(e.uint8Array,t,o)}tree_deserializeFromBytes(e,t,r){let{uint8Array:n,bitLen:o}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r),a=new DataView(n.buffer,n.byteOffset,n.byteLength),u=i.packedRootsBytesToNode(this.chunkDepth,a,0,n.length);return s.addLengthNode(u,o)}tree_getByteLen(e){if(!e)throw Error("BitListType requires a node to get leaves");return Math.ceil(s.getLengthFromRootNode(e)/8)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.bitLen)}deserializeUint8ArrayBitListFromBytes(e,t,r){let{uint8Array:i,bitLen:n}=function(e,t,r){if(r>e.length)throw Error(`BitList attempting to read byte ${r} of data length ${e.length}`);let i=e[r-1],n=r-t;if(0===i)throw Error("Invalid deserialized bitlist, padding bit required");if(1===i){let i=Uint8Array.prototype.slice.call(e,t,r-1);return{uint8Array:i,bitLen:(n-1)*8}}let o=Uint8Array.prototype.slice.call(e,t,r),s=i.toString(2).length-1;return o[n-1]&=255>>8-s,{uint8Array:o,bitLen:(n-1)*8+s}}(e,t,r);if(n>this.limitBits)throw Error(`bitLen over limit ${n} > ${this.limitBits}`);return{uint8Array:i,bitLen:n}}}function h(e){let t=Math.ceil(e/8);return e%8==0?t+1:t}function c(e,t,r){let i=t+Math.ceil(r/8);return r%8==0?(e[i]=1,i+1):(e[i-1]|=1<<r%8,i)}t.BitListType=l},56530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitVectorType=void 0;let i=r(56050),n=r(90234),o=r(18229),s=r(35725),a=r(30627);class u extends a.BitArrayType{constructor(e,t){if(super(),this.lengthBits=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`BitVector[${e}]`,this.chunkCount=Math.ceil(this.lengthBits/8/32),this.maxChunkCount=this.chunkCount,this.depth=n.maxChunksToDepth(this.chunkCount),this.fixedSize=Math.ceil(this.lengthBits/8),this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.zeroBitsMask=e%8==0?0:255&255<<e%8}static named(e,t){return new(o.namedClass(u,t.typeName))(e,t)}defaultValue(){return s.BitArray.fromBitLen(this.lengthBits)}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),t+this.fixedSize}value_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),new s.BitArray(Uint8Array.prototype.slice.call(e.uint8Array,t,r),this.lengthBits)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){let n=i.getNodesAtDepth(r,this.depth,0,this.chunkCount);return i.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,n),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),i.packedRootsBytesToNode(this.depth,e.dataView,t,r)}tree_getByteLen(){return this.fixedSize}assertValidLength(e,t,r){if(r-t!==this.fixedSize)throw Error(`Invalid BitVector size ${r-t} != ${this.fixedSize}`);if(this.zeroBitsMask>0&&(e[r-1]&this.zeroBitsMask)>0)throw Error("BitVector: nonzero bits past length")}}t.BitVectorType=u},49333:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanType=void 0;let i=r(56050),n=r(18229),o=r(54054);class s extends o.BasicType{constructor(e){super(),this.byteLength=1,this.itemsPerChunk=32,this.fixedSize=1,this.minSize=1,this.maxSize=1,this.typeName=e?.typeName??"boolean"}static named(e){return new(n.namedClass(s,e.typeName))(e)}defaultValue(){return!1}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r?1:0,t+1}value_deserializeFromBytes(e,t,r){switch(this.assertValidSize(r-t),e.uint8Array[t]){case 1:return!0;case 0:return!1;default:throw Error(`Boolean: invalid value: ${e.uint8Array[t]}`)}}tree_serializeToBytes(e,t,r){return e.uint8Array[t]=r.getUint(4,0),t+1}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);let n=e.uint8Array[t];if(n>1)throw Error(`Boolean: invalid value ${n}`);return i.LeafNode.fromUint32(n)}tree_getFromNode(e){return 1===e.getUint(4,0)}tree_setToNode(e,t){e.setUint(4,0,t?1:0)}tree_getFromPackedNode(e,t){let r=t%this.itemsPerChunk;return 0!==e.getUint(1,r)}tree_setToPackedNode(e,t,r){let i=t%this.itemsPerChunk;e.setUint(1,i,r?1:0)}fromJson(e){if("boolean"!=typeof e)throw Error(`JSON invalid type ${typeof e} expected boolean`);return e}toJson(e){return e}}t.BooleanType=s},13035:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteArrayType=void 0;let i=r(56050),n=r(53910),o=r(90234),s=r(28275);class a extends s.CompositeType{constructor(){super(...arguments),this.isViewMutable=!1}defaultValue(){return new Uint8Array(this.minSize)}getView(e){return this.getViewDU(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}commitView(e){return this.commitViewDU(e)}commitViewDU(e){let t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}cacheOfViewDU(){}toView(e){return e}toViewDU(e){return e}value_serializeToBytes(e,t,r){return e.uint8Array.set(r,t),t+r.length}value_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),Uint8Array.prototype.slice.call(e.uint8Array,t,r)}getRoots(e){return o.splitIntoRootChunks(e)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request ByteArray complete data")}getIndexProperty(){throw Error("Must only request ByteArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){let r=this.tree_getByteLen(t),n=Math.ceil(r/32),o=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),a=Array(n);for(let e=0,t=o;e<n;e++,t++)a[e]=t;return this.isList&&a.push(i.concatGindices([e,s.LENGTH_GINDEX])),a}fromJson(e){let t=n.fromHexString(e);return this.assertValidSize(t.length),t}toJson(e){return n.toHexString(e)}clone(e){return e}equals(e,t){return n.byteArrayEquals(e,t)}}t.ByteArrayType=a},10453:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteListType=void 0;let i=r(56050),n=r(90234),o=r(18229),s=r(99921),a=r(13035);class u extends a.ByteArrayType{constructor(e,t){if(super(),this.limitBytes=e,this.fixedSize=null,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`ByteList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBytes/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.minSize=0,this.maxSize=this.limitBytes}static named(e,t){return new(o.namedClass(u,t.typeName))(e,t)}value_serializedSize(e){return e.length}tree_serializedSize(e){return s.getLengthFromRootNode(e)}tree_serializeToBytes(e,t,r){let n=s.getChunksNodeFromRootNode(r),o=s.getLengthFromRootNode(r),a=i.getNodesAtDepth(n,this.chunkDepth,0,Math.ceil(o/32));return i.packedNodeRootsToBytes(e.dataView,t,o,a),t+o}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);let n=i.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r);return s.addLengthNode(n,r-t)}tree_getByteLen(e){if(!e)throw Error("ByteListType requires a node to get leaves");return s.getLengthFromRootNode(e)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}assertValidSize(e){if(e>this.limitBytes)throw Error(`ByteList invalid size ${e} limit ${this.limitBytes}`)}}t.ByteListType=u},26935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteVectorType=void 0;let i=r(56050),n=r(90234),o=r(18229),s=r(13035);class a extends s.ByteArrayType{constructor(e,t){if(super(),this.lengthBytes=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`ByteVector[${e}]`,this.maxChunkCount=Math.ceil(this.lengthBytes/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=this.lengthBytes,this.minSize=this.fixedSize,this.maxSize=this.fixedSize}static named(e,t){return new(o.namedClass(a,t.typeName))(e,t)}value_serializedSize(){return this.fixedSize}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){let n=i.getNodesAtDepth(r,this.chunkDepth,0,this.maxChunkCount);return i.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,n),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),i.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r)}tree_getByteLen(){return this.lengthBytes}assertValidSize(e){if(e!==this.lengthBytes)throw Error(`ByteVector invalid size ${e} expected ${this.lengthBytes}`)}}t.ByteVectorType=a},28275:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompositeType=t.CompositeType=t.LENGTH_GINDEX=void 0;let i=r(56050),n=r(53910),o=r(90234),s=r(74273),a=r(75467);t.LENGTH_GINDEX=BigInt(3);let u=Symbol("ssz_cached_permanent_root");class l extends a.Type{constructor(e){super(),this.cachePermanentRootStruct=e,this.isBasic=!1}defaultView(){return this.toView(this.defaultValue())}defaultViewDU(){return this.toViewDU(this.defaultValue())}deserializeToView(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getView(new i.Tree(r))}deserializeToViewDU(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getViewDU(r)}toView(e){let t=this.value_toTree(e);return this.getView(new i.Tree(t))}toViewDU(e){let t=this.value_toTree(e);return this.getViewDU(t)}toValueFromView(e){let t=this.commitView(e);return this.tree_toValue(t)}toValueFromViewDU(e){let t=this.commitViewDU(e);return this.tree_toValue(t)}toViewFromViewDU(e){let t=this.commitViewDU(e);return this.getView(new i.Tree(t))}toViewDUFromView(e){let t=this.commitView(e);return this.getViewDU(t)}hashTreeRoot(e){if(this.cachePermanentRootStruct){let t=e[u];if(t)return t}let t=o.merkleize(this.getRoots(e),this.maxChunkCount);return this.cachePermanentRootStruct&&(e[u]=t),t}getCachedPermanentRoot(e){return e[u]}createFromProof(e,t){let r=i.Tree.createFromProof(e).rootNode,o=s.treePostProcessFromProofNode(r,this);if(void 0!==t&&!n.byteArrayEquals(o.root,t))throw Error("Proof does not match trusted root");return this.getView(new i.Tree(o))}tree_createProof(e,t){let r=this.tree_createProofGindexes(e,t);return i.createProof(e,{type:i.ProofType.treeOffset,gindices:r})}tree_createProofGindexes(e,t){let r=[];for(let n of t){let{type:t,gindex:o}=this.getPathInfo(n);if(h(t)){let n=t.tree_getLeafGindices(o,null===t.fixedSize?i.getNode(e,o):void 0);for(let e of n)r.push(e)}else r.push(o)}return r}getPathInfo(e){let t=[],r=this;for(let i of e){if(r.isBasic)throw Error("Invalid path: cannot navigate beyond a basic type");let e=r.getPropertyGindex(i);null!==e&&(t.push(e),r=r.getPropertyType(i))}return{type:r,gindex:i.concatGindices(t)}}tree_fromProofNode(e){return{node:e,done:!1}}}function h(e){return!e.isBasic}t.CompositeType=l,t.isCompositeType=h},23459:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderContainerTypeName=t.precomputeJsonKey=t.ContainerType=void 0;let n=r(56050),o=i(r(97551)),s=r(90234),a=r(18229),u=r(28275),l=r(39765),h=r(10615);class c extends u.CompositeType{constructor(e,t){for(let r of(super(t?.cachePermanentRootStruct),this.fields=e,this.opts=t,this.isList=!1,this.isViewMutable=!0,this.typeName=t?.typeName??d(e),this.maxChunkCount=Object.keys(e).length,this.depth=s.maxChunksToDepth(this.maxChunkCount),this.fieldsEntries=[],Object.keys(e)))this.fieldsEntries.push({fieldName:r,fieldType:this.fields[r],jsonKey:f(r,t?.casingMap,t?.jsonCase),gindex:n.toGindex(this.depth,BigInt(this.fieldsEntries.length))});if(0===this.fieldsEntries.length)throw Error("Container must have > 0 fields");this.fieldsGindex={};for(let e=0;e<this.fieldsEntries.length;e++)this.fieldsGindex[this.fieldsEntries[e].fieldName]=n.toGindex(this.depth,BigInt(e));for(let{fieldName:e,jsonKey:t}of(this.jsonKeyToFieldName={},this.fieldsEntries))this.jsonKeyToFieldName[t]=e;let{minLen:r,maxLen:i,fixedSize:o}=function(e){let t=0,r=0,i=0;for(let n of Object.values(e))t+=n.minSize,r+=n.maxSize,null===n.fixedSize?(t+=4,r+=4,i=null):null!==i&&(i+=n.fixedSize);return{minLen:t,maxLen:r,fixedSize:i}}(e);this.minSize=r,this.maxSize=i,this.fixedSize=o;let{isFixedLen:a,fieldRangesFixedLen:u,variableOffsetsPosition:c,fixedEnd:p}=function(e){let t=[],r=[],i=[],n=0;for(let o of Object.values(e))t.push(null!==o.fixedSize),null===o.fixedSize?(i.push(n),n+=4):(r.push({start:n,end:n+o.fixedSize}),n+=o.fixedSize);return{isFixedLen:t,fieldRangesFixedLen:r,variableOffsetsPosition:i,fixedEnd:n}}(e);this.isFixedLen=a,this.fieldRangesFixedLen=u,this.variableOffsetsPosition=c,this.fixedEnd=p,this.TreeView=t?.getContainerTreeViewClass?.(this)??l.getContainerTreeViewClass(this),this.TreeViewDU=t?.getContainerTreeViewDUClass?.(this)??h.getContainerTreeViewDUClass(this)}static named(e,t){return new(a.namedClass(c,t.typeName))(e,t)}defaultValue(){let e={};for(let{fieldName:t,fieldType:r}of this.fieldsEntries)e[t]=r.defaultValue();return e}getView(e){return new this.TreeView(this,e)}getViewDU(e,t){return new this.TreeViewDU(this,e,t)}cacheOfViewDU(e){return e.cache}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}value_serializedSize(e){let t=0;for(let r=0;r<this.fieldsEntries.length;r++){let{fieldName:i,fieldType:n}=this.fieldsEntries[r];t+=null===n.fixedSize?4+n.value_serializedSize(e[i]):n.fixedSize}return t}value_serializeToBytes(e,t,r){let i=t,n=t+this.fixedEnd;for(let o=0;o<this.fieldsEntries.length;o++){let{fieldName:s,fieldType:a}=this.fieldsEntries[o];null===a.fixedSize?(e.dataView.setUint32(i,n-t,!0),i+=4,n=a.value_serializeToBytes(e,n,r[s])):i=a.value_serializeToBytes(e,i,r[s])}return n}value_deserializeFromBytes(e,t,r){let i=this.getFieldRanges(e.dataView,t,r),n={};for(let r=0;r<this.fieldsEntries.length;r++){let{fieldName:o,fieldType:s}=this.fieldsEntries[r],a=i[r];n[o]=s.value_deserializeFromBytes(e,t+a.start,t+a.end)}return n}tree_serializedSize(e){let t=0,r=n.getNodesAtDepth(e,this.depth,0,this.fieldsEntries.length);for(let e=0;e<this.fieldsEntries.length;e++){let{fieldType:i}=this.fieldsEntries[e],n=r[e];t+=null===i.fixedSize?4+i.tree_serializedSize(n):i.fixedSize}return t}tree_serializeToBytes(e,t,r){let i=t,o=t+this.fixedEnd,s=n.getNodesAtDepth(r,this.depth,0,this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){let{fieldType:n}=this.fieldsEntries[r],a=s[r];null===n.fixedSize?(e.dataView.setUint32(i,o-t,!0),i+=4,o=n.tree_serializeToBytes(e,o,a)):i=n.tree_serializeToBytes(e,i,a)}return o}tree_deserializeFromBytes(e,t,r){let i=this.getFieldRanges(e.dataView,t,r),o=Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){let{fieldType:n}=this.fieldsEntries[r],s=i[r];o[r]=n.tree_deserializeFromBytes(e,t+s.start,t+s.end)}return n.subtreeFillToContents(o,this.depth)}getRoots(e){let t=Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){let{fieldName:i,fieldType:n}=this.fieldsEntries[r];t[r]=n.hashTreeRoot(e[i])}return t}getPropertyGindex(e){let t=this.fieldsGindex[e]??this.fieldsGindex[this.jsonKeyToFieldName[e]];if(void 0===t)throw Error(`Unknown container property ${e}`);return t}getPropertyType(e){let t=this.fields[e]??this.fields[this.jsonKeyToFieldName[e]];if(void 0===t)throw Error(`Unknown container property ${e}`);return t}getIndexProperty(e){return e>=this.fieldsEntries.length?null:this.fieldsEntries[e].fieldName}tree_getLeafGindices(e,t){let r=[];for(let i=0;i<this.fieldsEntries.length;i++){let{fieldName:o,fieldType:s}=this.fieldsEntries[i],a=this.fieldsGindex[o],u=n.concatGindices([e,a]);if(s.isBasic)r.push(u);else if(null===s.fixedSize){if(!t)throw Error("variable type requires tree argument to get leaves");r.push(...s.tree_getLeafGindices(u,n.getNode(t,a)))}else r.push(...s.tree_getLeafGindices(u))}return r}fromJson(e){if("object"!=typeof e)throw Error("JSON must be of type object");if(null===e)throw Error("JSON must not be null");let t={};for(let r=0;r<this.fieldsEntries.length;r++){let{fieldName:i,fieldType:n,jsonKey:o}=this.fieldsEntries[r],s=e[o];if(void 0===s)throw Error(`JSON expected key ${o} is undefined`);t[i]=n.fromJson(s)}return t}toJson(e){let t={};for(let r=0;r<this.fieldsEntries.length;r++){let{fieldName:i,fieldType:n,jsonKey:o}=this.fieldsEntries[r];t[o]=n.toJson(e[i])}return t}clone(e){let t={};for(let r=0;r<this.fieldsEntries.length;r++){let{fieldName:i,fieldType:n}=this.fieldsEntries[r];t[i]=n.clone(e[i])}return t}equals(e,t){for(let r=0;r<this.fieldsEntries.length;r++){let{fieldName:i,fieldType:n}=this.fieldsEntries[r];if(!n.equals(e[i],t[i]))return!1}return!0}getFieldRanges(e,t,r){if(0===this.variableOffsetsPosition.length){let e=r-t;if(e!==this.fixedEnd)throw Error(`${this.typeName} size ${e} not equal fixed size ${this.fixedEnd}`);return this.fieldRangesFixedLen}let i=function(e,t,r,i,n){let o=r-t,s=Array(n.length);for(let r=0;r<n.length;r++){let a=e.getUint32(t+n[r],!0);if(a>o)throw Error(`Offset out of bounds ${a} > ${o}`);if(0===r){if(a!==i)throw Error(`First offset must equal to fixedEnd ${a} != ${i}`)}else if(a<s[r-1])throw Error(`Offsets must be increasing ${a} < ${s[r-1]}`);s[r]=a}return s}(e,t,r,this.fixedEnd,this.variableOffsetsPosition);i.push(r-t);let n=0,o=0,s=Array(this.isFixedLen.length);for(let e=0;e<this.isFixedLen.length;e++)this.isFixedLen[e]?s[e]=this.fieldRangesFixedLen[o++]:(s[e]={start:i[n],end:i[n+1]},n++);return s}}function f(e,t,r){if(t){let r=t[e];if(void 0===r)throw Error(`casingMap[${e}] not defined`);return r}if(!r)return e;if("eth2"!==r)return o.default[r](e);{let t=o.default.snake(e);return t.replace(/(\d)$/,"_$1")}}function d(e,t="Container"){let r=Object.keys(e),i=r.map(t=>`${t}: ${e[t].typeName}`).join(", ");return`${t}({${i}})`}t.ContainerType=c,t.precomputeJsonKey=f,t.renderContainerTypeName=d},83977:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerNodeStructType=void 0;let i=r(28275),n=r(23459),o=r(18229),s=r(88009),a=r(18224),u=r(31072);class l extends n.ContainerType{constructor(e,t){for(let{fieldName:r,fieldType:o}of(super(e,{typeName:t?.typeName??n.renderContainerTypeName(e,"ContainerNodeStruct"),...t,getContainerTreeViewClass:s.getContainerTreeViewClass,getContainerTreeViewDUClass:a.getContainerTreeViewDUClass}),this.fields=e,this.fieldsEntries))if(i.isCompositeType(o)&&o.isViewMutable)throw Error(`ContainerNodeStructType field '${r}' ${o.typeName} view is mutable`)}static named(e,t){return new(o.namedClass(n.ContainerType,t.typeName))(e,t)}tree_serializedSize(e){return this.value_serializedSize(e.value)}tree_serializeToBytes(e,t,r){let{value:i}=r;return this.value_serializeToBytes(e,t,i)}tree_deserializeFromBytes(e,t,r){let i=this.value_deserializeFromBytes(e,t,r);return new u.BranchNodeStruct(this.valueToTree.bind(this),i)}getPropertyGindex(){return null}tree_fromProofNode(e){let t=new Uint8Array(super.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);super.tree_serializeToBytes({uint8Array:t,dataView:r},0,e);let i=this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length);return{node:new u.BranchNodeStruct(this.valueToTree.bind(this),i),done:!0}}tree_toValue(e){return e.value}value_toTree(e){return new u.BranchNodeStruct(this.valueToTree.bind(this),e)}valueToTree(e){let t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),super.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}}t.ContainerNodeStructType=l},3803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicType=void 0;let i=r(99921),n=r(90234),o=r(18229),s=r(48696),a=r(78073),u=r(294);class l extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(this.limit*e.byteLength/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=this.limit*e.maxSize}static named(e,t,r){return new(o.namedClass(l,r.typeName))(e,t,r)}getView(e){return new s.ListBasicTreeView(this,e)}getViewDU(e,t){return new a.ListBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return e.length*this.elementType.byteLength}value_serializeToBytes(e,t,r){return i.value_serializeToBytesArrayBasic(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return i.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(e){return this.tree_getLength(e)*this.elementType.byteLength}tree_serializeToBytes(e,t,r){let n=this.tree_getChunksNode(r),o=this.tree_getLength(r);return i.tree_serializeToBytesArrayBasic(this.elementType,o,this.chunkDepth,e,t,n)}tree_deserializeFromBytes(e,t,r){return i.tree_deserializeFromBytesArrayBasic(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return e.right.getUint(4,0)}tree_setLength(e,t){e.rootNode=i.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return i.setChunksNode(e,t,r)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){let t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.value_serializeToBytesArrayBasic(this.elementType,e.length,{uint8Array:t,dataView:r},0,e),n.splitIntoRootChunks(t)}}t.ListBasicType=l},64795:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeType=void 0;let i=r(90234),n=r(18229),o=r(99921),s=r(55167),a=r(37208),u=r(31256),l=r(294);class h extends l.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.itemsPerChunk=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.maxChunkCount=this.limit,this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=s.maxSizeArrayComposite(e,this.limit)}static named(e,t,r){return new(n.namedClass(h,r.typeName))(e,t,r)}getView(e){return new a.ListCompositeTreeView(this,e)}getViewDU(e,t){return new u.ListCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return s.value_serializedSizeArrayComposite(this.elementType,e.length,e)}value_serializeToBytes(e,t,r){return s.value_serializeToBytesArrayComposite(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return s.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){let t=this.tree_getChunksNode(e),r=this.tree_getLength(e);return s.tree_serializedSizeArrayComposite(this.elementType,r,this.chunkDepth,t)}tree_serializeToBytes(e,t,r){let i=this.tree_getChunksNode(r),n=this.tree_getLength(r);return s.tree_serializeToBytesArrayComposite(this.elementType,n,this.chunkDepth,i,e,t)}tree_deserializeFromBytes(e,t,r){return s.tree_deserializeFromBytesArrayComposite(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return o.getLengthFromRootNode(e)}tree_setLength(e,t){e.rootNode=o.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return o.setChunksNode(e,t,r)}hashTreeRoot(e){return i.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){return s.value_getRootsArrayComposite(this.elementType,e.length,e)}}t.ListCompositeType=h},63407:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoneType=void 0;let i=r(56050),n=r(54054);class o extends n.BasicType{constructor(){super(...arguments),this.typeName="none",this.byteLength=0,this.itemsPerChunk=32,this.fixedSize=0,this.minSize=0,this.maxSize=0}defaultValue(){return null}value_serializeToBytes(e,t,r){return t}value_deserializeFromBytes(e,t){return null}tree_serializeToBytes(e,t,r){return t}tree_deserializeFromBytes(e,t,r){return i.zeroNode(0)}tree_getFromNode(e){return null}tree_setToNode(e,t){}tree_getFromPackedNode(e,t){return null}tree_setToPackedNode(e,t,r){}fromJson(e){if(null!==e)throw Error("JSON invalid type none must be null");return null}toJson(e){return null}}t.NoneType=o},85912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UintBigintType=t.UintNumberType=t.uintBigintByteLens=t.uintNumberByteLens=void 0;let i=r(56050),n=r(18229),o=r(54054),s=BigInt(Number.MAX_SAFE_INTEGER),a=BigInt(2)**BigInt(64),u=BigInt(2)**BigInt(128),l=BigInt(2)**BigInt(192);t.uintNumberByteLens=[1,2,4,8],t.uintBigintByteLens=[1,2,4,8,16,32];class h extends o.BasicType{constructor(e,t){if(super(),this.byteLength=e,e>8)throw Error("UintNumber byteLength limit is 8");if(Math.log2(e)%1!=0)throw Error("byteLength must be a power of 2");this.typeName=t?.typeName??`uint${8*e}`,t?.clipInfinity&&(this.typeName+="Inf"),t?.setBitwiseOR&&(this.typeName+="OR"),this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e,this.maxDecimalStr=(BigInt(2)**BigInt(8*this.byteLength)-BigInt(1)).toString(10),this.clipInfinity=t?.clipInfinity===!0,this.setBitwiseOR=t?.setBitwiseOR===!0}static named(e,t){return new(n.namedClass(h,t.typeName))(e,t)}defaultValue(){return 0}value_serializeToBytes({dataView:e},t,r){switch(this.byteLength){case 1:e.setInt8(t,r);break;case 2:e.setUint16(t,r,!0);break;case 4:e.setUint32(t,r,!0);break;case 8:r===1/0?(e.setUint32(t,4294967295),e.setUint32(t+4,4294967295)):(e.setUint32(t,4294967295&r,!0),e.setUint32(t+4,r/4294967296&4294967295,!0))}return t+this.byteLength}value_deserializeFromBytes({dataView:e},t,r){switch(this.assertValidSize(r-t),this.byteLength){case 1:return e.getUint8(t);case 2:return e.getUint16(t,!0);case 4:return e.getUint32(t,!0);case 8:{let r=e.getUint32(t,!0),i=e.getUint32(t+4,!0);if(4294967295===i&&4294967295===r&&this.clipInfinity)return 1/0;return 4294967296*i+r}}}tree_serializeToBytes(e,t,r){let i=r.getUint(this.byteLength,0,this.clipInfinity);return this.value_serializeToBytes(e,t,i),t+this.byteLength}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);let n=this.value_deserializeFromBytes(e,t,r),o=i.LeafNode.fromZero();return o.setUint(this.byteLength,0,n,this.clipInfinity),o}tree_getFromNode(e){return e.getUint(this.byteLength,0,this.clipInfinity)}tree_setToNode(e,t){this.tree_setToPackedNode(e,0,t)}tree_getFromPackedNode(e,t){let r=this.byteLength*(t%this.itemsPerChunk);return e.getUint(this.byteLength,r,this.clipInfinity)}tree_setToPackedNode(e,t,r){let i=this.byteLength*(t%this.itemsPerChunk);this.setBitwiseOR?e.bitwiseOrUint(this.byteLength,i,r):e.setUint(this.byteLength,i,r,this.clipInfinity)}fromJson(e){if("number"==typeof e)return e;if("string"==typeof e){if(this.clipInfinity&&e===this.maxDecimalStr)return 1/0;{let t=parseInt(e,10);if(isNaN(t))throw Error("JSON invalid number isNaN");if(!(t>Number.MAX_SAFE_INTEGER))return t;throw Error("JSON invalid number > MAX_SAFE_INTEGER")}}if("bigint"==typeof e){if(!(e>s))return Number(e);throw Error("JSON invalid number > MAX_SAFE_INTEGER_BN")}throw Error(`JSON invalid type ${typeof e} expected number`)}toJson(e){return e===1/0?this.maxDecimalStr:e.toString(10)}}t.UintNumberType=h;class c extends o.BasicType{constructor(e,t){if(super(),this.byteLength=e,e>32)throw Error("UintBigint byteLength limit is 32");if(Math.log2(e)%1!=0)throw Error("byteLength must be a power of 2");this.typeName=t?.typeName??`uintBigint${8*e}`,this.byteLength=e,this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e}static named(e,t){return new(n.namedClass(c,t.typeName))(e,t)}defaultValue(){return BigInt(0)}value_serializeToBytes({dataView:e},t,r){switch(this.byteLength){case 1:e.setInt8(t,Number(r));break;case 2:e.setUint16(t,Number(r),!0);break;case 4:e.setUint32(t,Number(r),!0);break;case 8:e.setBigUint64(t,r,!0);break;default:for(let i=0;i<this.byteLength;i+=8){i>0&&(r/=a);let n=BigInt.asUintN(64,r);e.setBigUint64(t+i,n,!0)}}return t+this.byteLength}value_deserializeFromBytes({dataView:e},t,r){let i=r-t;if(i!==this.byteLength)throw Error(`Invalid size ${i} expected ${this.byteLength}`);switch(this.byteLength){case 1:return BigInt(e.getUint8(t));case 2:return BigInt(e.getUint16(t,!0));case 4:return BigInt(e.getUint32(t,!0));case 8:return e.getBigUint64(t,!0);case 16:{let r=e.getBigUint64(t,!0),i=e.getBigUint64(t+8,!0);return i*a+r}case 32:{let r=e.getBigUint64(t,!0),i=e.getBigUint64(t+8,!0),n=e.getBigUint64(t+16,!0),o=e.getBigUint64(t+24,!0);return o*l+n*u+i*a+r}}}tree_serializeToBytes(e,t,r){let i=r.getUintBigint(this.byteLength,0);return this.value_serializeToBytes(e,t,i),t+this.byteLength}tree_deserializeFromBytes(e,t,r){let n=r-t;if(n!==this.byteLength)throw Error(`Invalid size ${n} expected ${this.byteLength}`);let o=this.value_deserializeFromBytes(e,t,r),s=i.LeafNode.fromZero();return s.setUintBigint(this.byteLength,0,o),s}tree_getFromNode(e){return e.getUintBigint(this.byteLength,0)}tree_setToNode(e,t){this.tree_setToPackedNode(e,0,t)}tree_getFromPackedNode(e,t){let r=this.byteLength*(t%this.itemsPerChunk);return e.getUintBigint(this.byteLength,r)}tree_setToPackedNode(e,t,r){let i=this.byteLength*(t%this.itemsPerChunk);e.setUintBigint(this.byteLength,i,r)}fromJson(e){if("bigint"==typeof e)return e;if("string"==typeof e||"number"==typeof e)return BigInt(e);throw Error(`JSON invalid type ${typeof e} expected bigint`)}toJson(e){return e.toString(10)}}t.UintBigintType=c},27343:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnionType=void 0;let i=r(56050),n=r(90234),o=r(18229),s=r(28275),a=r(99921),u=r(63407),l=BigInt(2),h=BigInt(3);class c extends s.CompositeType{constructor(e,t){if(super(),this.types=e,this.depth=1,this.maxChunkCount=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,e.length>=128)throw Error("Must have less than 128 types");if(0===e.length)throw Error("Must have at least 1 type option");if(e[0]instanceof u.NoneType&&e.length<2)throw Error("Must have at least 2 type options if the first is None");for(let t=1;t<e.length;t++)if(e[t]instanceof u.NoneType)throw Error("None may only be the first option");this.typeName=t?.typeName??`Union[${e.map(e=>e.typeName).join(",")}]`;let r=[],i=[];for(let t of e)r.push(t.minSize),i.push(t.maxSize);this.minSize=1+Math.min(...r),this.maxSize=1+Math.max(...i),this.maxSelector=this.types.length-1}static named(e,t){return new(o.namedClass(c,t.typeName))(e,t)}defaultValue(){return{selector:0,value:this.types[0].defaultValue()}}getView(e){return this.tree_toValue(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}cacheOfViewDU(){}commitView(e){return this.value_toTree(e)}commitViewDU(e){return this.value_toTree(e)}value_serializedSize(e){return 1+this.types[e.selector].value_serializedSize(e.value)}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r.selector,this.types[r.selector].value_serializeToBytes(e,t+1,r.value)}value_deserializeFromBytes(e,t,r){let i=e.uint8Array[t];if(i>this.maxSelector)throw Error(`Invalid selector ${i}`);return{selector:i,value:this.types[i].value_deserializeFromBytes(e,t+1,r)}}tree_serializedSize(e){let t=a.getLengthFromRootNode(e),r=e.left;return 1+this.types[t].value_serializedSize(r)}tree_serializeToBytes(e,t,r){let i=a.getLengthFromRootNode(r),n=r.left;return e.uint8Array[t]=i,this.types[i].tree_serializeToBytes(e,t+1,n)}tree_deserializeFromBytes(e,t,r){let i=e.uint8Array[t];if(i>this.maxSelector)throw Error(`Invalid selector ${i}`);let n=this.types[i].tree_deserializeFromBytes(e,t+1,r);return a.addLengthNode(n,i)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.selector)}getRoots(e){let t=this.types[e.selector].hashTreeRoot(e.value);return[t]}getPropertyGindex(e){switch(e){case"value":return l;case"selector":return h;default:throw Error(`Invalid Union type property ${e}`)}}getPropertyType(){throw Error("Not applicable for Union type")}getIndexProperty(e){if(0===e)return"value";if(1===e)return"selector";throw Error("Union index of out bounds")}tree_getLeafGindices(e,t){if(!t)throw Error("rootNode required");let r=[i.concatGindices([e,h])],n=a.getLengthFromRootNode(t),o=this.types[n],u=i.concatGindices([e,l]);return s.isCompositeType(o)?r.push(...o.tree_getLeafGindices(u,i.getNode(t,l))):r.push(u),r}fromJson(e){if("object"!=typeof e)throw Error("JSON must be of type object");if("number"!=typeof e.selector)throw Error("Invalid JSON Union selector must be number");let t=this.types[e.selector];if(!t)throw Error("Invalid JSON Union selector out of range");return{selector:e.selector,value:t.toJson(e.value)}}toJson(e){return{selector:e.selector,value:this.types[e.selector].toJson(e.value)}}clone(e){return{selector:e.selector,value:this.types[e.selector].clone(e.value)}}equals(e,t){return e.selector===t.selector&&this.types[e.selector].equals(e.value,t.value)}}t.UnionType=c},1733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorBasicType=void 0;let i=r(90234),n=r(18229),o=r(99921),s=r(52134),a=r(55938),u=r(294);class l extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.length=t,this.isList=!1,this.isViewMutable=!0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("Vector length must be > 0");this.typeName=r?.typeName??`Vector[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(t*e.byteLength/32),this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=t*e.byteLength,this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.defaultLen=t}static named(e,t,r){return new(n.namedClass(l,r.typeName))(e,t,r)}getView(e){return new s.ArrayBasicTreeView(this,e)}getViewDU(e,t){return new a.ArrayBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return o.value_serializeToBytesArrayBasic(this.elementType,this.length,e,t,r)}value_deserializeFromBytes(e,t,r){return o.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){return o.tree_serializeToBytesArrayBasic(this.elementType,this.length,this.depth,e,t,r)}tree_deserializeFromBytes(e,t,r){return o.tree_deserializeFromBytesArrayBasic(this.elementType,this.depth,e,t,r,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,t){return t}getRoots(e){let t=new Uint8Array(this.fixedSize),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return o.value_serializeToBytesArrayBasic(this.elementType,this.length,{uint8Array:t,dataView:r},0,e),i.splitIntoRootChunks(t)}}t.VectorBasicType=l},95223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorCompositeType=void 0;let i=r(90234),n=r(18229),o=r(55167),s=r(75483),a=r(28580),u=r(294);class l extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.length=t,this.itemsPerChunk=1,this.isList=!1,this.isViewMutable=!0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("Vector length must be > 0");this.typeName=r?.typeName??`Vector[${e.typeName}, ${t}]`,this.maxChunkCount=t,this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=null===e.fixedSize?null:t*e.fixedSize,this.minSize=o.minSizeArrayComposite(e,t),this.maxSize=o.maxSizeArrayComposite(e,t),this.defaultLen=t}static named(e,t,r){return new(n.namedClass(l,r.typeName))(e,t,r)}getView(e){return new s.ArrayCompositeTreeView(this,e)}getViewDU(e,t){return new a.ArrayCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return o.value_serializedSizeArrayComposite(this.elementType,this.length,e)}value_serializeToBytes(e,t,r){return o.value_serializeToBytesArrayComposite(this.elementType,this.length,e,t,r)}value_deserializeFromBytes(e,t,r){return o.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){return o.tree_serializedSizeArrayComposite(this.elementType,this.length,this.depth,e)}tree_serializeToBytes(e,t,r){return o.tree_serializeToBytesArrayComposite(this.elementType,this.length,this.depth,r,e,t)}tree_deserializeFromBytes(e,t,r){return o.tree_deserializeFromBytesArrayComposite(this.elementType,this.depth,e,t,r,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,t){return t}getRoots(e){return o.value_getRootsArrayComposite(this.elementType,this.length,e)}}t.VectorCompositeType=l},53910:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayEquals=t.fromHexString=t.toHexString=void 0;let r=Array(256);t.toHexString=function(e){let t="0x";for(let i of e)r[i]||(r[i]=i<16?"0"+i.toString(16):i.toString(16)),t+=r[i];return t},t.fromHexString=function(e){if("string"!=typeof e)throw Error(`hex argument type ${typeof e} must be of type string`);if(e.startsWith("0x")&&(e=e.slice(2)),e.length%2!=0)throw Error(`hex string length ${e.length} must be multiple of 2`);let t=e.length/2,r=new Uint8Array(t);for(let i=0;i<t;i++){let t=parseInt(e.slice(2*i,(i+1)*2),16);r[i]=t}return r},t.byteArrayEquals=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}},90234:function(e,t,r){"use strict";var i=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.nextPowerOf2=t.maxChunksToDepth=t.bitLength=t.mixInLength=t.splitIntoRootChunks=t.merkleize=t.hash64=void 0;let n=r(97507),o=r(83988);function s(e,t){return n.digest2Bytes32(e,t)}function a(e){return 0===e?0:Math.floor(Math.log2(e))+1}function u(e){return e<=0?1:Math.pow(2,a(e-1))}t.hash64=s,t.merkleize=function(e,t){let r=a(u(t)-1);if(0==e.length)return o.zeroHash(r);let i=e.length;for(let t=0;t<r;t++){let r=i%2,n=i+r;for(let n=0;n<r;n++)e[i+n]=o.zeroHash(t);for(let t=0;t<n;t+=2)e[t/2]=s(e[t],e[t+1]);i=n/2}return e[0]},t.splitIntoRootChunks=function(e){let t=Math.ceil(e.length/32),r=Array(t);for(let i=0;i<t;i++){let t=new Uint8Array(32);t.set(e.slice(32*i,(i+1)*32)),r[i]=t}return r},t.mixInLength=function(e,t){let r=i.alloc(32);return r.writeUIntLE(t,0,6),s(e,r)},t.bitLength=a,t.maxChunksToDepth=function(e){return 0===e?0:Math.ceil(Math.log2(e))},t.nextPowerOf2=u},18229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namedClass=void 0,t.namedClass=function(e,t){return Function("superClass",`return class ${t} extends superClass {}`)(e)}},74273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treePostProcessFromProofNode=void 0;let i=r(56050);function n(e){return""===e?0:parseInt(e,2)}t.treePostProcessFromProofNode=function e(t,r,o="",s=0){if(0===s){let e=r.tree_fromProofNode(t);if(e.done)return e.node;t=e.node}let a=r.depth===s;if(t.isLeaf()){if(!a)return t;{let e=r.getIndexProperty(n(o));if(null===e)return t;let i=r.getPropertyType(e);return 1!==i.maxChunkCount||i.isBasic?t:i.tree_fromProofNode(t).node}}if(a){let i=r.getIndexProperty(n(o));if(null===i)return t;let s=r.getPropertyType(i);if(s.isBasic)throw Error("BranchNode does not map to CompositeType");let a=s.tree_fromProofNode(t);return a.done?a.node:e(a.node,s)}{let n=e(t.left,r,o+"0",s+1),a=e(t.right,r,o+"1",s+1);return n===t.left&&a===t.right?t:new i.BranchNode(n,a)}}},83988:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zeroHash=void 0;let i=r(97507),n=[new Uint8Array(32)];t.zeroHash=function(e){if(e>=n.length)for(let t=n.length;t<=e;t++)n[t]=i.digest2Bytes32(n[t-1],n[t-1]);return n[e]}},35725:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUint8ByteToBitBooleanArray=t.BitArray=void 0;let r=Array(256);class i{constructor(e,t){if(this.uint8Array=e,this.bitLen=t,e.length!==Math.ceil(t/8))throw Error("BitArray uint8Array length does not match bitLen")}static fromBitLen(e){return new i(new Uint8Array(Math.ceil(e/8)),e)}static fromSingleBit(e,t){let r=i.fromBitLen(e);return r.set(t,!0),r}static fromBoolArray(e){let t=i.fromBitLen(e.length);for(let r=0;r<e.length;r++)!0===e[r]&&t.set(r,!0);return t}clone(){return new i(Uint8Array.prototype.slice.call(this.uint8Array,0),this.bitLen)}get(e){let t=1<<e%8;return(this.uint8Array[Math.floor(e/8)]&t)===t}set(e,t){if(e>=this.bitLen)throw Error(`BitArray set bitIndex ${e} beyond bitLen ${this.bitLen}`);let r=Math.floor(e/8),i=1<<e%8,n=this.uint8Array[r];t?(n|=i,this.uint8Array[r]=n):(n&i)===i&&(n^=i,this.uint8Array[r]=n)}mergeOrWith(e){if(e.bitLen!==this.bitLen)throw Error("Must merge BitArrays of same bitLen");for(let t=0;t<this.uint8Array.length;t++)this.uint8Array[t]=this.uint8Array[t]|e.uint8Array[t]}intersectValues(e){let t=[];if(e.length!==this.bitLen)throw Error(`Must not intersect values of length ${e.length} != bitLen ${this.bitLen}`);let r=Math.floor(this.bitLen/8),i=this.bitLen%8,o=this.uint8Array;for(let i=0;i<r;i++){let r=n(o[i]);for(let n=0;n<8;n++)r[n]&&t.push(e[8*i+n])}if(i>0){let s=n(o[r]);for(let n=0;n<i;n++)s[n]&&t.push(e[8*r+n])}return t}getTrueBitIndexes(){let e=[],t=this.uint8Array;for(let r=0,i=t.length;r<i;r++){let i=n(t[r]);for(let t=0;t<8;t++)i[t]&&e.push(8*r+t)}return e}getSingleTrueBit(){let e=null,t=this.uint8Array;for(let r=0,i=t.length;r<i;r++){if(0===t[r])continue;let i=n(t[r]);for(let t=0;t<8;t++)if(!0===i[t]){if(null!==e)return null;e=8*r+t}}return null===e?null:e}toBoolArray(){let e=Array(this.bitLen);for(let t=0;t<this.bitLen;t++)e[t]=this.get(t);return e}}function n(e){return r[e]||(r[e]=function(e){let t=e.toString(2),r=t.length,i=Array(8);for(let e=0;e<8;e++)i[e]=e<r&&"1"===t[r-e-1];return i}(e)),r[e]}t.BitArray=i,t.getUint8ByteToBitBooleanArray=n},11090:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewDU=void 0;let i=r(34192);class n extends i.TreeView{hashTreeRoot(){return this.commit(),super.hashTreeRoot()}serialize(){return this.commit(),super.serialize()}clone(e){if(e)return this.type.getViewDU(this.node);{let e=this.cache;return this.clearCache(),this.type.getViewDU(this.node,e)}}}t.TreeViewDU=n},55938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayBasicTreeViewDU=void 0;let i=r(56050),n=r(11090);class o extends n.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.nodesChanged=new Set,this.dirtyLength=!1,r?(this.nodes=r.nodes,this._length=r.length,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this._length=this.type.tree_getLength(t),this.nodesPopulated=!1)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){let t=Math.floor(e/this.type.itemsPerChunk),r=this.nodes[t];return void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,t),this.nodes[t]=r),this.type.elementType.tree_getFromPackedNode(r,e)}set(e,t){let r;if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);let n=Math.floor(e/this.type.itemsPerChunk);if(this.nodesChanged.has(n))r=this.nodes[n];else{let e=this.nodes[n]??i.getNodeAtDepth(this._rootNode,this.type.depth,n);r=e.clone(),this.nodes[n]=r,this.nodesChanged.add(n)}this.type.elementType.tree_setToPackedNode(r,e,t)}getAll(){if(!this.nodesPopulated){let e=this.nodes,t=this.type.tree_getChunksNode(this.node),r=Math.ceil(this._length/this.type.itemsPerChunk);for(let n of(this.nodes=i.getNodesAtDepth(t,this.type.chunkDepth,0,r),this.nodesChanged))this.nodes[n]=e[n];this.nodesPopulated=!0}let e=Array(this._length),t=this.type.itemsPerChunk,r=Math.floor(this._length/t),n=this._length%t;for(let i=0;i<r;i++){let r=this.nodes[i];for(let n=0;n<t;n++)e[i*t+n]=this.type.elementType.tree_getFromPackedNode(r,n)}if(n>0){let i=this.nodes[r];for(let o=0;o<n;o++)e[r*t+o]=this.type.elementType.tree_getFromPackedNode(i,o)}return e}commit(){if(0===this.nodesChanged.size)return;let e=Array.from(this.nodesChanged.keys()).sort((e,t)=>e-t),t=Array(e.length);for(let r=0;r<e.length;r++)t[r]=this.nodes[e[r]];let r=this.type.tree_getChunksNode(this._rootNode),n=i.setNodesAtDepth(r,this.type.chunkDepth,e,t);this._rootNode=this.type.tree_setChunksNode(this._rootNode,n,this.dirtyLength?this._length:void 0),this.nodesChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}}t.ArrayBasicTreeViewDU=o},28580:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayCompositeTreeViewDU=void 0;let i=r(56050),n=r(11090);class o extends n.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.viewsChanged=new Map,this.dirtyLength=!1,r?(this.nodes=r.nodes,this.caches=r.caches,this._length=r.length,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this.caches=[],this._length=this.type.tree_getLength(t),this.nodesPopulated=0===this._length)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){let t=this.viewsChanged.get(e);if(t)return t;let r=this.nodes[e];void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=r);let n=this.type.elementType.getViewDU(r,this.caches[e]);return this.type.elementType.isViewMutable&&this.viewsChanged.set(e,n),n}getReadonly(e){let t=this.viewsChanged.get(e);if(t)return t;let r=this.nodes[e];return void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=r),this.type.elementType.getViewDU(r,this.caches[e])}set(e,t){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);this.viewsChanged.set(e,t)}getAllReadonly(){this.populateAllNodes();let e=Array(this._length);for(let t=0;t<this._length;t++)e[t]=this.type.elementType.getViewDU(this.nodes[t],this.caches[t]);return e}getAllReadonlyValues(){this.populateAllNodes();let e=Array(this._length);for(let t=0;t<this._length;t++)e[t]=this.type.elementType.tree_toValue(this.nodes[t]);return e}commit(){if(0===this.viewsChanged.size)return;let e=[];for(let[t,r]of this.viewsChanged){let i=this.type.elementType.commitViewDU(r);this.nodes[t]=i,e.push({index:t,node:i});let n=this.type.elementType.cacheOfViewDU(r);n&&(this.caches[t]=n)}let t=e.sort((e,t)=>e.index-t.index),r=t.map(e=>e.index),n=t.map(e=>e.node),o=this.type.tree_getChunksNode(this._rootNode),s=i.setNodesAtDepth(o,this.type.chunkDepth,r,n);this._rootNode=this.type.tree_setChunksNode(this._rootNode,s,this.dirtyLength?this._length:void 0),this.viewsChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.viewsChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}populateAllNodes(){if(this.viewsChanged.size>0)throw Error("Must commit changes before reading all nodes");this.nodesPopulated||(this.nodes=i.getNodesAtDepth(this._rootNode,this.type.depth,0,this.length),this.nodesPopulated=!0)}}t.ArrayCompositeTreeViewDU=o},91831:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayTreeViewDU=void 0;let i=r(11090);class n extends i.TreeViewDU{constructor(e,t){super(),this.type=e,this._rootNode=t,this._bitArray=null}get node(){return this._rootNode}get cache(){}commit(){null!==this._bitArray&&(this._rootNode=this.type.value_toTree(this._bitArray))}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,t){this.bitArray.set(e,t)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}get bitArray(){return null===this._bitArray&&(this._bitArray=this.type.tree_toValue(this._rootNode)),this._bitArray}clearCache(){this._bitArray=null}}t.BitArrayTreeViewDU=n},10615:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewDUClass=void 0;let i=r(56050),n=r(54054),o=r(28275),s=r(11090);class a extends s.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.nodes=[],this.nodesChanged=new Set,this.viewsChanged=new Map,r?(this.nodes=r.nodes,this.caches=r.caches,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this.caches=[],this.nodesPopulated=!1)}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,nodesPopulated:this.nodesPopulated}}commit(){if(0===this.nodesChanged.size&&0===this.viewsChanged.size)return;let e=[];for(let[t,r]of this.viewsChanged){let i=this.type.fieldsEntries[t].fieldType,n=i.commitViewDU(r);this.nodes[t]=n,e.push({index:t,node:n});let o=i.cacheOfViewDU(r);o&&(this.caches[t]=o)}for(let t of this.nodesChanged)e.push({index:t,node:this.nodes[t]});let t=e.sort((e,t)=>e.index-t.index),r=t.map(e=>e.index),n=t.map(e=>e.node);this._rootNode=i.setNodesAtDepth(this._rootNode,this.type.depth,r,n),this.nodesChanged.clear(),this.viewsChanged.clear()}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.viewsChanged.clear()}}t.getContainerTreeViewDUClass=function(e){class t extends a{}for(let r=0;r<e.fieldsEntries.length;r++){let{fieldName:s,fieldType:a}=e.fieldsEntries[r];if(n.isBasicType(a))Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){let e=this.nodes[r];return void 0===e&&(e=i.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=e),a.tree_getFromNode(e)},set:function(e){let t;if(this.nodesChanged.has(r))t=this.nodes[r];else{let e=this.nodes[r]??i.getNodeAtDepth(this._rootNode,this.type.depth,r);t=e.clone(),this.nodes[r]=t,this.nodesChanged.add(r)}a.tree_setToNode(t,e)}});else if(o.isCompositeType(a))Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){let e=this.viewsChanged.get(r);if(e)return e;let t=this.nodes[r];void 0===t&&(t=i.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=t);let n=a.getViewDU(t,this.caches[r]);return a.isViewMutable&&this.viewsChanged.set(r,n),n},set:function(e){this.viewsChanged.set(r,e)}});else throw Error(`Unknown fieldType ${a.typeName} for fieldName ${s}`)}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},18224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewDUClass=void 0;let i=r(28275),n=r(11090);class o extends n.TreeViewDU{constructor(e,t){super(),this.type=e,this.valueChanged=null,this._rootNode=t}get node(){return this._rootNode}get cache(){}commit(){if(null===this.valueChanged)return;let e=this.valueChanged;this.valueChanged=null,this._rootNode=this.type.value_toTree(e)}clearCache(){this.valueChanged=null}}t.getContainerTreeViewDUClass=function(e){class t extends o{}for(let r=0;r<e.fieldsEntries.length;r++){let{fieldName:n,fieldType:o}=e.fieldsEntries[r];if(o.isBasic)Object.defineProperty(t.prototype,n,{configurable:!1,enumerable:!0,get:function(){return(this.valueChanged||this._rootNode.value)[n]},set:function(e){null===this.valueChanged&&(this.valueChanged=this.type.clone(this._rootNode.value)),this.valueChanged[n]=e}});else if(i.isCompositeType(o))Object.defineProperty(t.prototype,n,{configurable:!1,enumerable:!0,get:function(){let e=this.valueChanged||this._rootNode.value;return o.toViewDU(e[n])},set:function(e){null===this.valueChanged&&(this.valueChanged=this.type.clone(this._rootNode.value));let t=o.toValueFromViewDU(e);this.valueChanged[n]=t}});else throw Error(`Unknown fieldType ${o.typeName} for fieldName ${n}`)}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},78073:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicTreeViewDU=void 0;let i=r(56050),n=r(55938);class o extends n.ArrayBasicTreeViewDU{constructor(e,t,r){super(e,t,r),this.type=e,this._rootNode=t}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;let t=this._length++;if(t%this.type.itemsPerChunk==0){let e=Math.floor(t/this.type.itemsPerChunk);this.nodes[e]=i.zeroNode(0)}this.set(t,e)}}t.ListBasicTreeViewDU=o},31256:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeTreeViewDU=void 0;let i=r(56050),n=r(28580);class o extends n.ArrayCompositeTreeViewDU{constructor(e,t,r){super(e,t,r),this.type=e,this._rootNode=t}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;let t=this._length++;this.set(t,e)}sliceTo(e){this.commit();let t=this._rootNode,r=this.type.tree_getLength(t);if(e>=r-1)return this;let n=this.type.tree_getChunksNode(t),o=i.treeZeroAfterIndex(n,this.type.chunkDepth,e),s=this.type.tree_setChunksNode(t,o,e+1);return this.type.getViewDU(s)}}t.ListCompositeTreeViewDU=o},34192:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeView=void 0;let i=r(56050);t.TreeView=class{serialize(){let e=new Uint8Array(this.type.tree_serializedSize(this.node)),t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.type.tree_serializeToBytes({uint8Array:e,dataView:t},0,this.node),e}hashTreeRoot(){return this.node.root}createProof(e){return this.type.tree_createProof(this.node,e)}toValue(){return this.type.tree_toValue(this.node)}clone(){return this.type.getView(new i.Tree(this.node))}}},52134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayBasicTreeView=void 0;let i=r(56050),n=r(34192);class o extends n.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){let t=Math.floor(e/this.type.itemsPerChunk),r=this.tree.getNodeAtDepth(this.type.depth,t);return this.type.elementType.tree_getFromPackedNode(r,e)}set(e,t){let r=this.length;if(e>=r)throw Error(`Error setting index over length ${e} > ${r}`);let i=Math.floor(e/this.type.itemsPerChunk),n=this.tree.getNodeAtDepth(this.type.depth,i),o=n.clone();this.type.elementType.tree_setToPackedNode(o,e,t),this.tree.setNodeAtDepth(this.type.depth,i,o)}getAll(){let e=this.length,t=this.type.tree_getChunksNode(this.node),r=Math.ceil(e/this.type.itemsPerChunk),n=i.getNodesAtDepth(t,this.type.chunkDepth,0,r),o=Array(e),s=this.type.itemsPerChunk,a=Math.floor(e/s),u=e%s;for(let e=0;e<a;e++){let t=n[e];for(let r=0;r<s;r++)o[e*s+r]=this.type.elementType.tree_getFromPackedNode(t,r)}if(u>0){let e=n[a];for(let t=0;t<u;t++)o[a*s+t]=this.type.elementType.tree_getFromPackedNode(e,t)}return o}}t.ArrayBasicTreeView=o},75483:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayCompositeTreeView=void 0;let i=r(56050),n=r(34192);class o extends n.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){let t=i.toGindexBitstring(this.type.depth,e),r=this.tree.getSubtree(t);return this.type.elementType.getView(r)}getReadonly(e){let t=i.toGindexBitstring(this.type.depth,e),r=new i.Tree(this.tree.getNode(t));return this.type.elementType.getView(r)}set(e,t){let r=this.length;if(e>=r)throw Error(`Error setting index over length ${e} > ${r}`);let i=this.type.elementType.commitView(t);this.tree.setNodeAtDepth(this.type.depth,e,i)}getAllReadonly(){let e=this.length,t=this.type.tree_getChunksNode(this.node),r=i.getNodesAtDepth(t,this.type.chunkDepth,0,e),n=Array(e);for(let t=0;t<e;t++)n[t]=this.type.elementType.getView(new i.Tree(r[t]));return n}getAllReadonlyValues(){let e=this.length,t=this.type.tree_getChunksNode(this.node),r=i.getNodesAtDepth(t,this.type.chunkDepth,0,e),n=Array(e);for(let t=0;t<e;t++)n[t]=this.type.elementType.tree_toValue(r[t]);return n}}t.ArrayCompositeTreeView=o},26194:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayTreeView=void 0;let i=r(34192);class n extends i.TreeView{constructor(e,t){super(),this.type=e,this.tree=t,this.bitArray=e.tree_toValue(t.rootNode)}get node(){return this.tree.rootNode}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,t){this.bitArray.set(e,t),this.tree.rootNode=this.type.value_toTree(this.bitArray)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}}t.BitArrayTreeView=n},39765:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewClass=void 0;let i=r(56050),n=r(54054),o=r(28275),s=r(34192);class a extends s.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get node(){return this.tree.rootNode}}t.getContainerTreeViewClass=function(e){class t extends a{}for(let r=0;r<e.fieldsEntries.length;r++){let{fieldName:s,fieldType:a}=e.fieldsEntries[r];if(n.isBasicType(a))Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){let e=i.getNodeAtDepth(this.node,this.type.depth,r);return a.tree_getFromNode(e)},set:function(e){let t=i.getNodeAtDepth(this.node,this.type.depth,r),n=t.clone();a.tree_setToNode(n,e),this.tree.setNodeAtDepth(this.type.depth,r,n)}});else if(o.isCompositeType(a))Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){let e=i.toGindexBitstring(this.type.depth,r);return a.getView(this.tree.getSubtree(e))},set:function(e){let t=a.commitView(e);this.tree.setNodeAtDepth(this.type.depth,r,t)}});else throw Error(`Unknown fieldType ${a.typeName} for fieldName ${s}`)}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},88009:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewClass=void 0;let i=r(28275),n=r(31072),o=r(34192);class s extends o.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get node(){return this.tree.rootNode}}t.getContainerTreeViewClass=function(e){class t extends s{}for(let r=0;r<e.fieldsEntries.length;r++){let{fieldName:o,fieldType:s}=e.fieldsEntries[r];if(s.isBasic)Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){return this.tree.rootNode.value[o]},set:function(e){let t=this.tree.rootNode,r=this.type.clone(t.value);r[o]=e,this.tree.rootNode=new n.BranchNodeStruct(t.valueToNode,r)}});else if(i.isCompositeType(s))Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){let{value:e}=this.tree.rootNode;return s.toView(e[o])},set:function(e){let t=this.tree.rootNode,r=this.type.clone(t.value);r[o]=s.toValueFromView(e),this.tree.rootNode=new n.BranchNodeStruct(t.valueToNode,r)}});else throw Error(`Unknown fieldType ${s.typeName} for fieldName ${o}`)}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},48696:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicTreeView=void 0;let i=r(56050),n=r(52134);class o extends n.ArrayBasicTreeView{constructor(e,t){super(e,t),this.type=e,this.tree=t}push(e){let t=this.length;if(t>=this.type.limit)throw Error("Error pushing over limit");if(this.type.tree_setLength(this.tree,t+1),t%this.type.itemsPerChunk==0){let r=i.LeafNode.fromZero();this.type.elementType.tree_setToPackedNode(r,t,e);let n=Math.floor(t/this.type.itemsPerChunk);this.tree.setNodeAtDepth(this.type.depth,n,r)}else this.set(t,e)}}t.ListBasicTreeView=o},37208:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeTreeView=void 0;let i=r(75483);class n extends i.ArrayCompositeTreeView{constructor(e,t){super(e,t),this.type=e,this.tree=t}push(e){let t=this.length;if(t>=this.type.limit)throw Error("Error pushing over limit");this.type.tree_setLength(this.tree,t+1),this.set(t,e)}}t.ListCompositeTreeView=n},5507:function(e,t){"use strict";function r(e){if(Array.isArray(e)){let t=[],i=0;for(let n=0;n<e.length;n++){let o=r(e[n]);t.push(o),i+=o.length}return c(o(i,192),...t)}let t=g(e);return 1===t.length&&t[0]<128?t:c(o(t.length,128),t)}function i(e,t,r){if(r>e.length)throw Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function n(e){if(0===e[0])throw Error("invalid RLP: extra zeros");return l(u(e))}function o(e,t){if(e<56)return Uint8Array.from([e+t]);let r=d(e),i=r.length/2,n=d(t+55+i);return Uint8Array.from(h(n+r))}function s(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);let r=g(e),o=function e(t){let r,o,s,a,u;let l=[],h=t[0];if(h<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(h<=183){if(r=h-127,s=128===h?Uint8Array.from([]):i(t,1,r),2===r&&s[0]<128)throw Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:s,remainder:t.slice(r)}}if(h<=191){if(o=h-182,t.length-1<o)throw Error("invalid RLP: not enough bytes for string length");if((r=n(i(t,1,o)))<=55)throw Error("invalid RLP: expected string length to be greater than 55");return s=i(t,o,r+o),{data:s,remainder:t.slice(r+o)}}if(h<=247){for(a=i(t,1,r=h-191);a.length;)u=e(a),l.push(u.data),a=u.remainder;return{data:l,remainder:t.slice(r)}}{if((r=n(i(t,1,o=h-246)))<56)throw Error("invalid RLP: encoded list too short");let s=o+r;if(s>t.length)throw Error("invalid RLP: total length is larger than the data");for(a=i(t,o,s);a.length;)u=e(a),l.push(u.data),a=u.remainder;return{data:l,remainder:t.slice(s)}}}(r);if(t)return o;if(0!==o.remainder.length)throw Error("invalid RLP: remainder must be zero");return o.data}Object.defineProperty(t,"__esModule",{value:!0}),t.RLP=t.utils=t.decode=t.encode=void 0,t.encode=r,t.decode=s;let a=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function u(e){let t="";for(let r=0;r<e.length;r++)t+=a[e[r]];return t}function l(e){let t=Number.parseInt(e,16);if(Number.isNaN(t))throw Error("Invalid byte sequence");return t}function h(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let i=2*r;t[r]=l(e.slice(i,i+2))}return t}function c(...e){if(1===e.length)return e[0];let t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}function f(e){return new TextEncoder().encode(e)}function d(e){if(e<0)throw Error("Invalid integer as argument, must be unsigned!");let t=e.toString(16);return t.length%2?`0${t}`:t}function p(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function g(e){if(e instanceof Uint8Array)return e;if("string"==typeof e){if(p(e)){var t;return h((t="string"!=typeof e?e:p(e)?e.slice(2):e).length%2?`0${t}`:t)}return f(e)}if("number"==typeof e||"bigint"==typeof e)return e?h(d(e)):Uint8Array.from([]);if(null==e)return Uint8Array.from([]);throw Error("toBytes: received unsupported type "+typeof e)}t.utils={bytesToHex:u,concatBytes:c,hexToBytes:h,utf8ToBytes:f},t.RLP={encode:r,decode:s}},79656:function(e,t,r){"use strict";let i,n;/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;let o=r(69159),s=BigInt(0),a=BigInt(1),u=BigInt(2),l=BigInt(3),h=BigInt(8),c=Object.freeze({a:s,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:a,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=c;let f=(e,t)=>(e+t/u)/t,d={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-a*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=BigInt("0x100000000000000000000000000000000"),s=f(r*e,t),u=f(-i*e,t),l=z(e-s*r-u*n,t),h=z(-s*i-u*r,t),d=l>o,p=h>o;if(d&&(l=t-l),p&&(h=t-h),l>o||h>o)throw Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:p,k2:h}}};function p(e){let{a:t,b:r}=c,i=z(e*e),n=z(i*e);return z(n+t*e+r)}let g=c.a===s;class y extends Error{constructor(e){super(e)}}function m(e){if(!(e instanceof b))throw TypeError("JacobianPoint expected")}class b{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof _))throw TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(_.ZERO)?b.ZERO:new b(e.x,e.y,a)}static toAffineBatch(e){let t=function(e,t=c.P){let r=Array(e.length),i=e.reduce((e,i,n)=>i===s?e:(r[n]=e,z(e*i,t)),a),n=U(i,t);return e.reduceRight((e,i,n)=>i===s?e:(r[n]=z(e*r[n],t),z(e*i,t)),n),r}(e.map(e=>e.z));return e.map((e,r)=>e.toAffine(t[r]))}static normalizeZ(e){return b.toAffineBatch(e).map(b.fromAffine)}equals(e){m(e);let{x:t,y:r,z:i}=this,{x:n,y:o,z:s}=e,a=z(i*i),u=z(s*s),l=z(t*u),h=z(n*a),c=z(z(r*s)*u),f=z(z(o*i)*a);return l===h&&c===f}negate(){return new b(this.x,z(-this.y),this.z)}double(){let{x:e,y:t,z:r}=this,i=z(e*e),n=z(t*t),o=z(n*n),s=e+n,a=z(u*(z(s*s)-i-o)),c=z(l*i),f=z(c*c),d=z(f-u*a),p=z(c*(a-d)-h*o),g=z(u*t*r);return new b(d,p,g)}add(e){m(e);let{x:t,y:r,z:i}=this,{x:n,y:o,z:a}=e;if(n===s||o===s)return this;if(t===s||r===s)return e;let l=z(i*i),h=z(a*a),c=z(t*h),f=z(n*l),d=z(z(r*a)*h),p=z(z(o*i)*l),g=z(f-c),y=z(p-d);if(g===s)return y===s?this.double():b.ZERO;let v=z(g*g),w=z(g*v),_=z(c*v),A=z(y*y-w-u*_),T=z(y*(_-A)-d*w),S=z(i*a*g);return new b(A,T,S)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=b.ZERO;if("bigint"==typeof e&&e===s)return t;let r=M(e);if(r===a)return this;if(!g){let e=t,i=this;for(;r>s;)r&a&&(e=e.add(i)),i=i.double(),r>>=a;return e}let{k1neg:i,k1:n,k2neg:o,k2:u}=d.splitScalar(r),l=t,h=t,c=this;for(;n>s||u>s;)n&a&&(l=l.add(c)),u&a&&(h=h.add(c)),c=c.double(),n>>=a,u>>=a;return i&&(l=l.negate()),o&&(h=h.negate()),h=new b(z(h.x*d.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let t=g?128/e+1:256/e+1,r=[],i=this,n=i;for(let o=0;o<t;o++){n=i,r.push(n);for(let t=1;t<2**(e-1);t++)n=n.add(i),r.push(n);i=n.double()}return r}wNAF(e,t){!t&&this.equals(b.BASE)&&(t=_.BASE);let r=t&&t._WINDOW_SIZE||1;if(256%r)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=t&&w.get(t);!i&&(i=this.precomputeWindow(r),t&&1!==r&&(i=b.normalizeZ(i),w.set(t,i)));let n=b.ZERO,o=b.BASE,s=1+(g?128/r:256/r),u=2**(r-1),l=BigInt(2**r-1),h=2**r,c=BigInt(r);for(let t=0;t<s;t++){let r=t*u,s=Number(e&l);e>>=c,s>u&&(s-=h,e+=a);let f=r+Math.abs(s)-1,d=t%2!=0,p=s<0;0===s?o=o.add(v(d,i[r])):n=n.add(v(p,i[f]))}return{p:n,f:o}}multiply(e,t){let r,i,n=M(e);if(g){let{k1neg:e,k1:o,k2neg:s,k2:a}=d.splitScalar(n),{p:u,f:l}=this.wNAF(o,t),{p:h,f:c}=this.wNAF(a,t);u=v(e,u),h=v(s,h),h=new b(z(h.x*d.beta),h.y,h.z),r=u.add(h),i=l.add(c)}else{let{p:e,f:o}=this.wNAF(n,t);r=e,i=o}return b.normalizeZ([r,i])[0]}toAffine(e){let{x:t,y:r,z:i}=this,n=this.equals(b.ZERO);null==e&&(e=n?h:U(i));let o=e,s=z(o*o),u=z(s*o),l=z(t*s),c=z(r*u),f=z(i*o);if(n)return _.ZERO;if(f!==a)throw Error("invZ was invalid");return new _(l,c)}}function v(e,t){let r=t.negate();return e?r:t}b.BASE=new b(c.Gx,c.Gy,a),b.ZERO=new b(s,a,s);let w=new WeakMap;class _{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,w.delete(this)}hasEvenY(){return this.y%u===s}static fromCompressedHex(e){let t=32===e.length,r=I(t?e:e.subarray(1));if(!H(r))throw Error("Point is not on curve");let i=p(r),n=function(e){let{P:t}=c,r=BigInt(6),i=BigInt(11),n=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),h=e*e*e%t,f=h*h*e%t,d=j(f,l)*f%t,p=j(d,l)*f%t,g=j(p,u)*h%t,y=j(g,i)*g%t,m=j(y,n)*y%t,b=j(m,s)*m%t,v=j(b,a)*b%t,w=j(v,s)*m%t,_=j(w,l)*f%t,A=j(_,o)*y%t,T=j(A,r)*h%t,S=j(T,u);if(S*S%t!==e)throw Error("Cannot find square root");return S}(i),o=(n&a)===a;if(t)o&&(n=z(-n));else{let t=(1&e[0])==1;t!==o&&(n=z(-n))}let s=new _(r,n);return s.assertValidity(),s}static fromUncompressedHex(e){let t=I(e.subarray(1,33)),r=I(e.subarray(33,65)),i=new _(t,r);return i.assertValidity(),i}static fromHex(e){let t=k(e),r=t.length,i=t[0];if(32===r||33===r&&(2===i||3===i))return this.fromCompressedHex(t);if(65===r&&4===i)return this.fromUncompressedHex(t);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return _.BASE.multiply($(e))}static fromSignature(e,t,r){let{r:i,s:n}=G(t);if(![0,1,2,3].includes(r))throw Error("Cannot recover: invalid recovery bit");let o=D(k(e)),{n:s}=c,a=2===r||3===r?i+s:i,u=U(a,s),l=z(-o*u,s),h=z(n*u,s),f=_.fromHex((1&r?"03":"02")+P(a)),d=_.BASE.multiplyAndAddUnsafe(f,l,h);if(!d)throw Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(e=!1){return R(this.toHex(e))}toHex(e=!1){let t=P(this.x);if(!e)return`04${t}${P(this.y)}`;{let e=this.hasEvenY()?"02":"03";return`${e}${t}`}}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:r}=this;if(!H(t)||!H(r))throw Error(e);let i=z(r*r),n=p(t);if(z(i-n)!==s)throw Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new _(this.x,z(-this.y))}double(){return b.fromAffine(this).double().toAffine()}add(e){return b.fromAffine(this).add(b.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return b.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){let i=b.fromAffine(this),n=t===s||t===a||this!==_.BASE?i.multiplyUnsafe(t):i.multiply(t),o=b.fromAffine(e).multiplyUnsafe(r),u=n.add(o);return u.equals(b.ZERO)?void 0:u.toAffine()}}function A(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function T(e){if(e.length<2||2!==e[0])throw Error(`Invalid signature integer tag: ${x(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:I(r),left:e.subarray(t+2)}}t.Point=_,_.BASE=new _(c.Gx,c.Gy),_.ZERO=new _(s,s);class S{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw TypeError(`${r}: Expected string or Uint8Array`);let i=t?x(e):e;if(128!==i.length)throw Error(`${r}: Expected 64-byte hex`);return new S(C(i.slice(0,64)),C(i.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r,s:i}=function(e){if(e.length<2||48!=e[0])throw Error(`Invalid signature tag: ${x(e)}`);if(e[1]!==e.length-2)throw Error("Invalid signature: incorrect length");let{data:t,left:r}=T(e.subarray(2)),{data:i,left:n}=T(r);if(n.length)throw Error(`Invalid signature: left bytes after parsing: ${x(n)}`);return{r:t,s:i}}(t?e:R(e));return new S(r,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!F(e))throw Error("Invalid Signature: r must be 0 < r < n");if(!F(t))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=c.n>>a;return this.s>e}normalizeS(){return this.hasHighS()?new S(this.r,z(-this.s,c.n)):this}toDERRawBytes(){return R(this.toDERHex())}toDERHex(){let e=A(L(this.s)),t=A(L(this.r)),r=e.length/2,i=t.length/2,n=L(r),o=L(i),s=L(i+r+4);return`30${s}02${o}${t}02${n}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return R(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}function E(...e){if(!e.every(e=>e instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===e.length)return e[0];let t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}t.Signature=S;let B=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function x(e){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=B[e[r]];return t}let O=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function P(e){if("bigint"!=typeof e)throw Error("Expected bigint");if(!(s<=e&&e<O))throw Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function N(e){let t=R(P(e));if(32!==t.length)throw Error("Error: expected 32 bytes");return t}function L(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function C(e){if("string"!=typeof e)throw TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function R(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let i=2*r,n=e.slice(i,i+2),o=Number.parseInt(n,16);if(Number.isNaN(o)||o<0)throw Error("Invalid byte sequence");t[r]=o}return t}function I(e){return C(x(e))}function k(e){return e instanceof Uint8Array?Uint8Array.from(e):R(e)}function M(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&F(e))return e;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function z(e,t=c.P){let r=e%t;return r>=s?r:t+r}function j(e,t){let{P:r}=c,i=e;for(;t-- >s;)i*=i,i%=r;return i}function U(e,t=c.P){if(e===s||t<=s)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=z(e,t),i=t,n=s,o=a,u=a,l=s;for(;r!==s;){let e=i/r,t=i%r,s=n-u*e,a=o-l*e;i=r,r=t,n=u,o=l,u=s,l=a}let h=i;if(h!==a)throw Error("invert: does not exist");return z(n,t)}function D(e,t=!1){let r=function(e){let t=8*e.length-256,r=I(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;let{n:i}=c;return r>=i?r-i:r}class V{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return n(this.k,...e)}checkSync(){if("function"!=typeof n)throw new y("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return E(...t)}generateSync(){this.checkSync(),this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return E(...t)}}function F(e){return s<e&&e<c.n}function H(e){return s<e&&e<c.P}function q(e,t,r,i=!0){let{n}=c,o=D(e,!0);if(!F(o))return;let u=U(o,n),l=_.BASE.multiply(o),h=z(l.x,n);if(h===s)return;let f=z(u*z(t+r*h,n),n);if(f===s)return;let d=new S(h,f),p=(l.x===d.r?0:2)|Number(l.y&a);return i&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}function $(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw Error("Expected 32 bytes of private key");t=C(e)}else if(e instanceof Uint8Array){if(32!==e.length)throw Error("Expected 32 bytes of private key");t=I(e)}else throw TypeError("Expected valid private key");if(!F(t))throw Error("Expected private key: 0 < key < n");return t}function W(e){return e instanceof _?(e.assertValidity(),e):_.fromHex(e)}function G(e){if(e instanceof S)return e.assertValidity(),e;try{return S.fromDER(e)}catch(t){return S.fromCompact(e)}}function K(e){let t=e instanceof Uint8Array,r="string"==typeof e,i=(t||r)&&e.length;return t?33===i||65===i:r?66===i||130===i:e instanceof _}function J(e){let t=e.length>32?e.slice(0,32):e;return I(t)}function X(e,r,i){if(null==e)throw Error(`sign: expected valid message hash, not "${e}"`);let n=k(e),o=$(r),a=[N(o),function(e){let t=J(e),r=z(t,c.n);return N(r<s?t:r)}(n)];if(null!=i){!0===i&&(i=t.utils.randomBytes(32));let e=k(i);if(32!==e.length)throw Error("sign: Expected 32 bytes of extra data");a.push(e)}let u=E(...a),l=J(n);return{seed:u,m:l,d:o}}function Z(e,t){let{sig:r,recovery:i}=e,{der:n,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=n?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,i]:s}async function Y(e,t,r={}){let i;let{seed:n,m:o,d:s}=X(e,t,r.extraEntropy),a=new V(32,32);for(await a.reseed(n);!(i=q(await a.generate(),o,s,r.canonical));)await a.reseed();return Z(i,r)}t.getPublicKey=function(e,t=!1){return _.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,r,i=!1){return _.fromSignature(e,t,r).toRawBytes(i)},t.getSharedSecret=function(e,t,r=!1){if(K(e))throw TypeError("getSharedSecret: first arg must be private key");if(!K(t))throw TypeError("getSharedSecret: second arg must be public key");let i=W(t);return i.assertValidity(),i.multiply($(e)).toRawBytes(r)},t.sign=Y,t.signSync=function(e,t,r={}){let i;let{seed:n,m:o,d:s}=X(e,t,r.extraEntropy),a=new V(32,32);for(a.reseedSync(n);!(i=q(a.generateSync(),o,s,r.canonical));)a.reseedSync();return Z(i,r)};let Q={strict:!0};function ee(e){return z(I(e),c.n)}t.verify=function(e,t,r,i=Q){let n,o;try{n=G(e),t=k(t)}catch(e){return!1}let{r:s,s:a}=n;if(i.strict&&n.hasHighS())return!1;let u=D(t);try{o=W(r)}catch(e){return!1}let{n:l}=c,h=U(a,l),f=z(u*h,l),d=z(s*h,l),p=_.BASE.multiplyAndAddUnsafe(o,f,d);if(!p)return!1;let g=z(p.x,l);return g===s};class et{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=k(e);if(64!==t.length)throw TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);let r=I(t.subarray(0,32)),i=I(t.subarray(32,64));return new et(r,i)}assertValidity(){let{r:e,s:t}=this;if(!H(e)||!F(t))throw Error("Invalid signature")}toHex(){return P(this.r)+P(this.s)}toRawBytes(){return R(this.toHex())}}class er{constructor(e,r,i=t.utils.randomBytes()){if(null==e)throw TypeError(`sign: Expected valid message, not "${e}"`);this.m=k(e);let{x:n,scalar:o}=this.getScalar($(r));if(this.px=n,this.d=o,this.rand=k(i),32!==this.rand.length)throw TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let t=_.fromPrivateKey(e),r=t.hasEvenY()?e:c.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return N(e^I(t))}finalizeNonce(e){let t=z(I(e),c.n);if(t===s)throw Error("sign: Creation of signature failed. k is zero");let{point:r,x:i,scalar:n}=this.getScalar(t);return{R:r,rx:i,k:n}}finalizeSig(e,t,r,i){return new et(e.x,z(t+r*i,c.n)).toRawBytes()}error(){throw Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:i,rand:n}=this,o=t.utils.taggedHash,s=this.initNonce(r,await o(el.aux,n)),{R:a,rx:u,k:l}=this.finalizeNonce(await o(el.nonce,s,i,e)),h=ee(await o(el.challenge,u,i,e)),c=this.finalizeSig(a,l,h,r);return await es(c,e,i)||this.error(),c}calcSync(){let{m:e,d:r,px:i,rand:n}=this,o=t.utils.taggedHashSync,s=this.initNonce(r,o(el.aux,n)),{R:a,rx:u,k:l}=this.finalizeNonce(o(el.nonce,s,i,e)),h=ee(o(el.challenge,u,i,e)),c=this.finalizeSig(a,l,h,r);return ea(c,e,i)||this.error(),c}}async function ei(e,t,r){return new er(e,t,r).calc()}function en(e,t,r){let i=e instanceof et,n=i?e:et.fromHex(e);return i&&n.assertValidity(),{...n,m:k(t),P:W(r)}}function eo(e,t,r,i){let n=_.BASE.multiplyAndAddUnsafe(t,$(r),z(-i,c.n));return!!(n&&n.hasEvenY())&&n.x===e}async function es(e,r,i){try{let{r:n,s:o,m:s,P:a}=en(e,r,i),u=ee(await t.utils.taggedHash(el.challenge,N(n),a.toRawX(),s));return eo(n,a,o,u)}catch(e){return!1}}function ea(e,r,i){try{let{r:n,s:o,m:s,P:a}=en(e,r,i),u=ee(t.utils.taggedHashSync(el.challenge,N(n),a.toRawX(),s));return eo(n,a,o,u)}catch(e){if(e instanceof y)throw e;return!1}}t.schnorr={Signature:et,getPublicKey:function(e){return _.fromPrivateKey(e).toRawX()},sign:ei,verify:es,signSync:function(e,t,r){return new er(e,t,r).calcSync()},verifySync:ea},_.BASE._setWindowSize(8);let eu={node:o,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},el={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},eh={};t.utils={bytesToHex:x,hexToBytes:R,concatBytes:E,mod:z,invert:U,isValidPrivateKey(e){try{return $(e),!0}catch(e){return!1}},_bigintTo32Bytes:N,_normalizePrivateKey:$,hashToPrivateKey:e=>{if((e=k(e)).length<40||e.length>1024)throw Error("Expected valid bytes of private key as per FIPS 186");let t=z(I(e),c.n-a)+a;return N(t)},randomBytes:(e=32)=>{if(eu.web)return eu.web.getRandomValues(new Uint8Array(e));if(eu.node){let{randomBytes:t}=eu.node;return Uint8Array.from(t(e))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(40)),precompute(e=8,t=_.BASE){let r=t===_.BASE?t:new _(t.x,t.y);return r._setWindowSize(e),r.multiply(l),r},sha256:async(...e)=>{if(eu.web){let t=await eu.web.subtle.digest("SHA-256",E(...e));return new Uint8Array(t)}if(eu.node){let{createHash:t}=eu.node,r=t("sha256");return e.forEach(e=>r.update(e)),Uint8Array.from(r.digest())}throw Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(eu.web){let r=await eu.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=E(...t),n=await eu.web.subtle.sign("HMAC",r,i);return new Uint8Array(n)}if(eu.node){let{createHmac:r}=eu.node,i=r("sha256",e);return t.forEach(e=>i.update(e)),Uint8Array.from(i.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...r)=>{let i=eh[e];if(void 0===i){let r=await t.utils.sha256(Uint8Array.from(e,e=>e.charCodeAt(0)));i=E(r,r),eh[e]=i}return t.utils.sha256(i,...r)},taggedHashSync:(e,...t)=>{if("function"!=typeof i)throw new y("sha256Sync is undefined, you need to set it");let r=eh[e];if(void 0===r){let t=i(Uint8Array.from(e,e=>e.charCodeAt(0)));r=E(t,t),eh[e]=r}return i(r,...t)},_JacobianPoint:b},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>i,set(e){i||(i=e)}},hmacSha256Sync:{configurable:!1,get:()=>n,set(e){n||(n=e)}}})},47107:function(e,t,r){"use strict";var i=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;let n=r(5507),o=r(37103),s=r(71760),a=r(70666),u=r(40134),l=r(27518),h=r(26592),c=r(146),f=BigInt(0);class d{constructor(e=f,t=f,r=l.KECCAK256_RLP,i=l.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=i,this._validate()}static fromAccountData(e){let{nonce:t,balance:r,storageRoot:i,codeHash:n}=e;return new d(void 0!==t?(0,u.bufferToBigInt)((0,u.toBuffer)(t)):void 0,void 0!==r?(0,u.bufferToBigInt)((0,u.toBuffer)(r)):void 0,void 0!==i?(0,u.toBuffer)(i):void 0,void 0!==n?(0,u.toBuffer)(n):void 0)}static fromRlpSerializedAccount(e){let t=(0,u.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){let[t,r,i,n]=e;return new d((0,u.bufferToBigInt)(t),(0,u.bufferToBigInt)(r),i,n)}_validate(){if(this.nonce<f)throw Error("nonce must be greater than zero");if(this.balance<f)throw Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw Error("codeHash must have a length of 32")}raw(){return[(0,u.bigIntToUnpaddedBuffer)(this.nonce),(0,u.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return i.from(n.RLP.encode((0,u.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(l.KECCAK256_NULL)}isEmpty(){return this.balance===f&&this.nonce===f&&this.codeHash.equals(l.KECCAK256_NULL)}}function p(e){let[t,r,i,n]=e;return[t,r,0===(0,u.arrToBufArr)(i).length?l.KECCAK256_RLP:i,0===(0,u.arrToBufArr)(n).length?l.KECCAK256_NULL:n]}t.Account=d,t.isValidAddress=function(e){try{(0,h.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)},t.toChecksumAddress=function(e,t){(0,h.assertIsHexString)(e);let r=(0,c.stripHexPrefix)(e).toLowerCase(),n="";if(void 0!==t){let e=(0,u.bufferToBigInt)((0,u.toBuffer)(t));n=e.toString()+"0x"}let s=i.from(n+r,"utf8"),l=(0,a.bytesToHex)((0,o.keccak256)(s)),f="0x";for(let e=0;e<r.length;e++)parseInt(l[e],16)>=8?f+=r[e].toUpperCase():f+=r[e];return f},t.isValidChecksumAddress=function(e,r){return(0,t.isValidAddress)(e)&&(0,t.toChecksumAddress)(e,r)===e},t.generateAddress=function(e,t){return((0,h.assertIsBuffer)(e),(0,h.assertIsBuffer)(t),(0,u.bufferToBigInt)(t)===BigInt(0))?i.from((0,o.keccak256)(n.RLP.encode((0,u.bufArrToArr)([e,null])))).slice(-20):i.from((0,o.keccak256)(n.RLP.encode((0,u.bufArrToArr)([e,t])))).slice(-20)},t.generateAddress2=function(e,t,r){if((0,h.assertIsBuffer)(e),(0,h.assertIsBuffer)(t),(0,h.assertIsBuffer)(r),20!==e.length)throw Error("Expected from to be of length 20");if(32!==t.length)throw Error("Expected salt to be of length 32");let n=(0,o.keccak256)(i.concat([i.from("ff","hex"),e,t,(0,o.keccak256)(r)]));return(0,u.toBuffer)(n).slice(-20)},t.isValidPrivate=function(e){return s.utils.isValidPrivateKey(e)},t.isValidPublic=function(e,t=!1){if((0,h.assertIsBuffer)(e),64===e.length)try{return s.Point.fromHex(i.concat([i.from([4]),e])),!0}catch(e){return!1}if(!t)return!1;try{return s.Point.fromHex(e),!0}catch(e){return!1}},t.pubToAddress=function(e,t=!1){if((0,h.assertIsBuffer)(e),t&&64!==e.length&&(e=i.from(s.Point.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw Error("Expected pubKey to be of length 64");return i.from((0,o.keccak256)(e)).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToPublic=function(e){return(0,h.assertIsBuffer)(e),i.from(s.Point.fromPrivateKey(e).toRawBytes(!1).slice(1))},t.privateToAddress=function(e){return(0,t.publicToAddress)((0,t.privateToPublic)(e))},t.importPublic=function(e){return(0,h.assertIsBuffer)(e),64!==e.length&&(e=i.from(s.Point.fromHex(e).toRawBytes(!1).slice(1))),e},t.zeroAddress=function(){let e=(0,u.zeros)(20);return(0,u.bufferToHex)(e)},t.isZeroAddress=function(e){try{(0,h.assertIsString)(e)}catch(e){return!1}let r=(0,t.zeroAddress)();return r===e},t.accountBodyFromSlim=p;let g=new Uint8Array(0);t.accountBodyToSlim=function(e){let[t,r,i,n]=e;return[t,r,(0,u.arrToBufArr)(i).equals(l.KECCAK256_RLP)?g:i,(0,u.arrToBufArr)(n).equals(l.KECCAK256_NULL)?g:n]},t.accountBodyToRLP=function(e,t=!0){let r=t?p(e):e;return(0,u.arrToBufArr)(n.RLP.encode(r))}},9418:function(e,t,r){"use strict";var i=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Address=void 0;let n=r(47107),o=r(40134);class s{constructor(e){if(20!==e.length)throw Error("Invalid address length");this.buf=e}static zero(){return new s((0,o.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw Error("Invalid address");return new s((0,o.toBuffer)(e))}static fromPublicKey(e){if(!i.isBuffer(e))throw Error("Public key should be Buffer");let t=(0,n.pubToAddress)(e);return new s(t)}static fromPrivateKey(e){if(!i.isBuffer(e))throw Error("Private key should be Buffer");let t=(0,n.privateToAddress)(e);return new s(t)}static generate(e,t){if("bigint"!=typeof t)throw Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,o.bigIntToBuffer)(t)))}static generate2(e,t,r){if(!i.isBuffer(t))throw Error("Expected salt to be a Buffer");if(!i.isBuffer(r))throw Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,t,r))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){let e=(0,o.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return i.from(this.buf)}}t.Address=s},33196:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncEventEmitter=void 0;let i=r(17187);async function n(e,t,r){let i;for await(let n of t)try{n.length<2?n.call(e,r):await new Promise((t,i)=>{n.call(e,r,e=>{e?i(e):t()})})}catch(e){i=e}if(i)throw i}class o extends i.EventEmitter{emit(e,...t){let[r,i]=t,o=this._events[e]??[];return void 0===i&&"function"==typeof r&&(i=r,r=void 0),("newListener"===e||"removeListener"===e)&&(r={event:r,fn:i},i=void 0),n(this,(o=Array.isArray(o)?o:[o]).slice(),r).then(i).catch(i),this.listenerCount(e)>0}once(e,t){let r;let i=this;if("function"!=typeof t)throw TypeError("listener must be a function");return r=t.length>=2?function(n,o){i.removeListener(e,r),t(n,o)}:function(n){i.removeListener(e,r),t(n,r)},i.on(e,r),i}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,i){let n,o,s=this._events[e]??[],a="after"===i?1:0;if("function"!=typeof r)throw TypeError("listener must be a function");if("function"!=typeof t)throw TypeError("target must be a function");for(Array.isArray(s)||(this._events[e]=s=[s]),o=s.length,n=s.length;n--;)if(s[n]===t){o=n+a;break}return s.splice(o,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}t.AsyncEventEmitter=o},40134:function(e,t,r){"use strict";var i=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;let n=r(26592),o=r(146);t.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},t.intToBuffer=function(e){let r=(0,t.intToHex)(e);return i.from((0,o.padToEven)(r.slice(2)),"hex")},t.zeros=function(e){return i.allocUnsafe(e).fill(0)};let s=function(e,r,i){let n=(0,t.zeros)(r);return i?e.length<r?(e.copy(n),n):e.slice(0,r):e.length<r?(e.copy(n,r-e.length),n):e.slice(-r)};t.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)},t.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};let a=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};function u(e){let r=(0,t.bufferToHex)(e);return"0x"===r?BigInt(0):BigInt(r)}function l(e){return(0,t.toBuffer)("0x"+e.toString(16))}t.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),a(e)},t.unpadArray=function(e){return(0,n.assertIsArray)(e),a(e)},t.unpadHexString=function(e){return(0,n.assertIsHexString)(e),"0x"+a(e=(0,o.stripHexPrefix)(e))},t.toBuffer=function(e){if(null==e)return i.allocUnsafe(0);if(i.isBuffer(e)||Array.isArray(e)||e instanceof Uint8Array)return i.from(e);if("string"==typeof e){if(!(0,o.isHexString)(e))throw Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return i.from((0,o.padToEven)((0,o.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,t.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),i.from(t,"hex")}if(e.toArray)return i.from(e.toArray());if(e.toBuffer)return i.from(e.toBuffer());throw Error("invalid type")},t.bufferToHex=function(e){return"0x"+(e=(0,t.toBuffer)(e)).toString("hex")},t.bufferToBigInt=u,t.bigIntToBuffer=l,t.bufferToInt=function(e){let t=Number(u(e));if(!Number.isSafeInteger(t))throw Error("Number exceeds 53 bits");return t},t.fromSigned=function(e){return BigInt.asIntN(256,u(e))},t.toUnsigned=function(e){return l(BigInt.asUintN(256,e))},t.addHexPrefix=function(e){return"string"!=typeof e?e:(0,o.isHexPrefixed)(e)?e:"0x"+e},t.short=function(e,t=50){let r=i.isBuffer(e)?e.toString("hex"):e;return r.length<=t?r:r.slice(0,t)+"…"},t.toUtf8=function(e){if((e=(0,o.stripHexPrefix)(e)).length%2!=0)throw Error("Invalid non-even hex string input for toUtf8() provided");let t=i.from(e.replace(/^(00)+|(00)+$/g,""),"hex");return t.toString("utf8")},t.baToJSON=function(e){if(i.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){let r=[];for(let i=0;i<e.length;i++)r.push((0,t.baToJSON)(e[i]));return r}},t.validateNoLeadingZeroes=function(e){for(let[t,r]of Object.entries(e))if(void 0!==r&&r.length>0&&0===r[0])throw Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},t.arrToBufArr=function e(t){return Array.isArray(t)?t.map(t=>e(t)):i.from(t)},t.bufArrToArr=function e(t){return Array.isArray(t)?t.map(t=>e(t)):Uint8Array.from(t??[])};let h=e=>"0x"+e.toString(16);t.bigIntToHex=h,t.bigIntToUnpaddedBuffer=function(e){return(0,t.unpadBuffer)(l(e))},t.intToUnpaddedBuffer=function(e){return(0,t.unpadBuffer)((0,t.intToBuffer)(e))}},27518:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;let i=r(48764),n=r(71760);t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=n.CURVE.n,t.SECP256K1_ORDER_DIV_2=n.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=i.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=i.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=i.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=i.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16},26592:function(e,t,r){"use strict";var i=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.assertIsString=t.assertIsArray=t.assertIsBuffer=t.assertIsHexString=void 0;let n=r(146);t.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){let t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw Error(t)}},t.assertIsBuffer=function(e){if(!i.isBuffer(e)){let t=`This method only supports Buffer but input was: ${e}`;throw Error(t)}},t.assertIsArray=function(e){if(!Array.isArray(e)){let t=`This method only supports number arrays but input was: ${e}`;throw Error(t)}},t.assertIsString=function(e){if("string"!=typeof e){let t=`This method only supports strings but input was: ${e}`;throw Error(t)}}},31234:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=t.ssz=void 0,n(r(27518),t),n(r(51569),t),n(r(47107),t),n(r(9418),t),n(r(59837),t),n(r(1590),t),n(r(40134),t),t.ssz=r(29705),n(r(13091),t),n(r(33196),t);var o=r(146);Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return o.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return o.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return o.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return o.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return o.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return o.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return o.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return o.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return o.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return o.toAscii}}),n(r(20373),t)},146:function(e,t,r){"use strict";var i=r(48764).Buffer;function n(e){if("string"!=typeof e)throw Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,t.isHexPrefixed=n;let o=e=>{if("string"!=typeof e)throw Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return n(e)?e.slice(2):e};function s(e){let t=e;if("string"!=typeof t)throw Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}t.stripHexPrefix=o,t.padToEven=s,t.getBinarySize=function(e){if("string"!=typeof e)throw Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return i.byteLength(e,"utf8")},t.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"](t=>e.indexOf(t)>=0)},t.toAscii=function(e){let t="",r=0,i=e.length;for("0x"===e.substring(0,2)&&(r=2);r<i;r+=2){let i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},t.fromUtf8=function(e){let t=i.from(e,"utf8");return`0x${s(t.toString("hex")).replace(/^0+|0+$/g,"")}`},t.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){let i=e.charCodeAt(r),n=i.toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},t.getKeys=function(e,t,r){if(!Array.isArray(e))throw Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if("string"!=typeof t)throw Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);let i=[];for(let n=0;n<e.length;n++){let o=e[n][t];if(!0!==r||o){if("string"!=typeof o)throw Error(`invalid abi - expected type 'string', received ${typeof o}`)}else o="";i.push(o)}return i},t.isHexString=function(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(void 0===t||!(t>0)||e.length===2+2*t)}},20373:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lock=void 0,t.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;let e=this.promiseResolverQueue.shift();e&&e(!0)}}}},1590:function(e,t,r){"use strict";var i=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toCompactSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0;let n=r(37103),o=r(71760),s=r(40134),a=r(27518),u=r(26592);function l(e,t){return e===BigInt(0)||e===BigInt(1)?e:void 0===t?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function h(e){return e===BigInt(0)||e===BigInt(1)}t.ecsign=function(e,t,r){let[n,s]=(0,o.signSync)(e,t,{recovered:!0,der:!1}),a=i.from(n.slice(0,32)),u=i.from(n.slice(32,64)),l=void 0===r?BigInt(s+27):BigInt(s+35)+BigInt(r)*BigInt(2);return{r:a,s:u,v:l}},t.ecrecover=function(e,t,r,n,a){let u=i.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32)],64),c=l(t,a);if(!h(c))throw Error("Invalid signature v value");let f=(0,o.recoverPublicKey)(e,u,Number(c));return i.from(f.slice(1))},t.toRpcSig=function(e,t,r,n){let o=l(e,n);if(!h(o))throw Error("Invalid signature v value");return(0,s.bufferToHex)(i.concat([(0,s.setLengthLeft)(t,32),(0,s.setLengthLeft)(r,32),(0,s.toBuffer)(e)]))},t.toCompactSig=function(e,t,r,n){let o=l(e,n);if(!h(o))throw Error("Invalid signature v value");let a=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(a=i.from(r),a[0]|=128),(0,s.bufferToHex)(i.concat([(0,s.setLengthLeft)(t,32),(0,s.setLengthLeft)(a,32)]))},t.fromRpcSig=function(e){let t,r,i;let n=(0,s.toBuffer)(e);if(n.length>=65)t=n.slice(0,32),r=n.slice(32,64),i=(0,s.bufferToBigInt)(n.slice(64));else if(64===n.length)t=n.slice(0,32),r=n.slice(32,64),i=BigInt((0,s.bufferToInt)(n.slice(32,33))>>7),r[0]&=127;else throw Error("Invalid signature length");return i<27&&(i+=BigInt(27)),{v:i,r:t,s:r}},t.isValidSignature=function(e,t,r,i=!0,n){if(32!==t.length||32!==r.length||!h(l(e,n)))return!1;let o=(0,s.bufferToBigInt)(t),u=(0,s.bufferToBigInt)(r);return o!==BigInt(0)&&!(o>=a.SECP256K1_ORDER)&&u!==BigInt(0)&&!(u>=a.SECP256K1_ORDER)&&(!i||!(u>=a.SECP256K1_ORDER_DIV_2))},t.hashPersonalMessage=function(e){(0,u.assertIsBuffer)(e);let t=i.from(`\u0019Ethereum Signed Message:
${e.length}`,"utf-8");return i.from((0,n.keccak256)(i.concat([t,e])))}},29705:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Withdrawals=t.Withdrawal=t.Bytes20=t.UintBigInt64=t.UintNum64=void 0;let i=r(25874),n=r(27518);t.UintNum64=new i.UintNumberType(8),t.UintBigInt64=new i.UintBigintType(8),t.Bytes20=new i.ByteVectorType(20),t.Withdrawal=new i.ContainerType({index:t.UintBigInt64,validatorIndex:t.UintBigInt64,address:t.Bytes20,amount:t.UintBigInt64},{typeName:"Withdrawal",jsonCase:"eth2"}),t.Withdrawals=new i.ListCompositeType(t.Withdrawal,n.MAX_WITHDRAWALS_PER_PAYLOAD)},13091:function(e,t,r){"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;let o=r(40134),s=r(146);(n=i=t.TypeOutput||(t.TypeOutput={}))[n.Number=0]="Number",n[n.BigInt=1]="BigInt",n[n.Buffer=2]="Buffer",n[n.PrefixedHexString=3]="PrefixedHexString",t.toType=function(e,t){if(null===e)return null;if(void 0===e)return;if("string"!=typeof e||(0,s.isHexString)(e)){if("number"==typeof e&&!Number.isSafeInteger(e))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)")}else throw Error(`A string must be provided with a 0x-prefix, given: ${e}`);let r=(0,o.toBuffer)(e);switch(t){case i.Buffer:return r;case i.BigInt:return(0,o.bufferToBigInt)(r);case i.Number:{let e=(0,o.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case i.PrefixedHexString:return(0,o.bufferToHex)(r);default:throw Error("unknown outputType")}}},51569:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GWEI_TO_WEI=void 0,t.GWEI_TO_WEI=BigInt(1e9)},59837:function(e,t,r){"use strict";var i=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Withdrawal=void 0;let n=r(9418),o=r(40134),s=r(13091);class a{constructor(e,t,r,i){this.index=e,this.validatorIndex=t,this.address=r,this.amount=i}static fromWithdrawalData(e){let{index:t,validatorIndex:r,address:i,amount:o}=e,u=(0,s.toType)(t,s.TypeOutput.BigInt),l=(0,s.toType)(r,s.TypeOutput.BigInt),h=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),c=(0,s.toType)(o,s.TypeOutput.BigInt);return new a(u,l,h,c)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);let[t,r,i,n]=e;return a.fromWithdrawalData({index:t,validatorIndex:r,address:i,amount:n})}static toBufferArray(e){let t;let{index:r,validatorIndex:o,address:a,amount:u}=e,l=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?i.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),h=(0,s.toType)(o,s.TypeOutput.BigInt)===BigInt(0)?i.alloc(0):(0,s.toType)(o,s.TypeOutput.Buffer);t=a instanceof n.Address?a.buf:(0,s.toType)(a,s.TypeOutput.Buffer);let c=(0,s.toType)(u,s.TypeOutput.BigInt)===BigInt(0)?i.alloc(0):(0,s.toType)(u,s.TypeOutput.Buffer);return[l,h,t,c]}raw(){return a.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,o.bigIntToHex)(this.index),validatorIndex:(0,o.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,o.bigIntToHex)(this.amount)}}}t.Withdrawal=a},36989:function(e,t){"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function i(e){if("boolean"!=typeof e)throw Error(`Expected boolean, not ${e}`)}function n(e,...t){if(!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a(e,t){n(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=i,t.bytes=n,t.hash=o,t.exists=s,t.output=a,t.default={number:r,bool:i,bytes:n,hash:o,exists:s,output:a}},410:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;let i=r(36989),n=r(8145);class o extends n.Hash{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){i.default.exists(this);let{view:t,buffer:r,blockLen:o}=this;e=(0,n.toBytes)(e);let s=e.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let t=(0,n.createView)(e);for(;o<=s-i;i+=o)this.process(t,i);continue}r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){i.default.exists(this),i.default.output(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:s}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),a=Number(r&o);e.setUint32(t+(i?4:0),s,i),e.setUint32(t+(i?0:4),a,i)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);let u=(0,n.createView)(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,c=this.get();if(h>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<h;e++)u.setUint32(4*e,c[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=n,e.destroyed=o,i%t&&e.buffer.set(r),e}}t.SHA2=o},74198:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;let r=BigInt(4294967296-1),i=BigInt(32);function n(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function o(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:s,l:a}=n(e[o],t);[r[o],i[o]]=[s,a]}return[r,i]}t.fromBig=n,t.split=o;let s=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);function a(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/4294967296|0)|0,l:0|n}}t.toBig=s,t.add=a;let u={fromBig:n,split:o,toBig:t.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:a,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/4294967296|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/4294967296|0)|0,add5H:(e,t,r,i,n,o)=>t+r+i+n+o+(e/4294967296|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)};t.default=u},29434:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},27173:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;let i=r(36989),n=r(8145);class o extends n.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,i.default.hash(e);let r=(0,n.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return i.default.exists(this),this.iHash.update(e),this}digestInto(e){i.default.exists(this),i.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:o,outputLen:s}=this;return e.finished=i,e.destroyed=n,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let s=(e,t,r)=>new o(e,t).update(r).digest();t.hmac=s,t.hmac.create=(e,t)=>new o(e,t)},45069:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;let i=r(410),n=r(8145),o=(e,t,r)=>e&t^~e&r,s=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l=new Uint32Array(64);class h extends i.SHA2{constructor(){super(64,32,8,!1),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3],this.E=0|u[4],this.F=0|u[5],this.G=0|u[6],this.H=0|u[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:o,G:s,H:a}=this;return[e,t,r,i,n,o,s,a]}set(e,t,r,i,n,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=l[e-15],r=l[e-2],i=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,o=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;l[e]=o+l[e-7]+i+l[e-16]|0}let{A:r,B:i,C:u,D:h,E:c,F:f,G:d,H:p}=this;for(let e=0;e<64;e++){let t=(0,n.rotr)(c,6)^(0,n.rotr)(c,11)^(0,n.rotr)(c,25),g=p+t+o(c,f,d)+a[e]+l[e]|0,y=(0,n.rotr)(r,2)^(0,n.rotr)(r,13)^(0,n.rotr)(r,22),m=y+s(r,i,u)|0;p=d,d=f,f=c,c=h+g|0,h=u,u=i,i=r,r=g+m|0}r=r+this.A|0,i=i+this.B|0,u=u+this.C|0,h=h+this.D|0,c=c+this.E|0,f=f+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,i,u,h,c,f,d,p)}roundClean(){l.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class c extends h{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,n.wrapConstructor)(()=>new h),t.sha224=(0,n.wrapConstructor)(()=>new c)},59943:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=t.keccakP=void 0;let i=r(36989),n=r(74198),o=r(8145),[s,a,u]=[[],[],[]],l=BigInt(0),h=BigInt(1),c=BigInt(2),f=BigInt(7),d=BigInt(256),p=BigInt(113);for(let e=0,t=h,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],s.push(2*(5*i+r)),a.push((e+1)*(e+2)/2%64);let n=l;for(let e=0;e<7;e++)(t=(t<<h^(t>>f)*p)%d)&c&&(n^=h<<(h<<BigInt(e))-h);u.push(n)}let[g,y]=n.default.split(u,!0),m=(e,t,r)=>r>32?n.default.rotlBH(e,t,r):n.default.rotlSH(e,t,r),b=(e,t,r)=>r>32?n.default.rotlBL(e,t,r):n.default.rotlSL(e,t,r);function v(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,o=r[n],s=r[n+1],a=m(o,s,1)^r[i],u=b(o,s,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=a[r],o=m(t,n,i),u=b(t,n,i),l=s[r];t=e[l],n=e[l+1],e[l]=o,e[l+1]=u}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=g[i],e[1]^=y[i]}r.fill(0)}t.keccakP=v;class w extends o.Hash{constructor(e,t,r,n=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i.default.number(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,o.u32)(this.state)}keccak(){v(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i.default.exists(this);let{blockLen:t,state:r}=this;e=(0,o.toBytes)(e);let n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){i.default.exists(this,!1),i.default.bytes(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i.default.output(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:o}=this;return e||(e=new w(t,r,i,o,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}t.Keccak=w;let _=(e,t,r)=>(0,o.wrapConstructor)(()=>new w(t,e,r));t.sha3_224=_(6,144,28),t.sha3_256=_(6,136,32),t.sha3_384=_(6,104,48),t.sha3_512=_(6,72,64),t.keccak_224=_(1,144,28),t.keccak_256=_(1,136,32),t.keccak_384=_(1,104,48),t.keccak_512=_(1,72,64);let A=(e,t,r)=>(0,o.wrapConstructorWithOpts)((i={})=>new w(t,e,void 0===i.dkLen?r:i.dkLen,!0));t.shake128=A(31,168,16),t.shake256=A(31,136,32)},8145:function(e,t,r){"use strict";/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;let i=r(29434),n=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u8=n;let o=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.u32=o;let s=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.createView=s,t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw Error("Non little-endian hardware is not supported");let a=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=a[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let i=2*r,n=e.slice(i,i+2),o=Number.parseInt(n,16);if(Number.isNaN(o)||o<0)throw Error("Invalid byte sequence");t[r]=o}return t};let u=async()=>{};async function l(e,r,i){let n=Date.now();for(let o=0;o<e;o++){i(o);let e=Date.now()-n;e>=0&&e<r||(await (0,t.nextTick)(),n+=e)}}function h(e){if("string"!=typeof e)throw TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function c(e){if("string"==typeof e&&(e=h(e)),!(e instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.nextTick=u,t.asyncLoop=l,t.utf8ToBytes=h,t.toBytes=c,t.concatBytes=function(...e){if(!e.every(e=>e instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===e.length)return e[0];let t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r},t.Hash=class{clone(){return this._cloneInto()}};let f=e=>"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object;t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||!f(t)))throw TypeError("Options should be object or undefined");let r=Object.assign(e,t);return r},t.wrapConstructor=function(e){let t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(i.crypto.web)return i.crypto.web.getRandomValues(new Uint8Array(e));if(i.crypto.node)return new Uint8Array(i.crypto.node.randomBytes(e).buffer);throw Error("The environment doesn't have randomBytes function")}},37103:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keccak512=t.keccak384=t.keccak256=t.keccak224=void 0;let i=r(59943),n=r(70666);t.keccak224=(0,n.wrapHash)(i.keccak_224),t.keccak256=(()=>{let e=(0,n.wrapHash)(i.keccak_256);return e.create=i.keccak_256.create,e})(),t.keccak384=(0,n.wrapHash)(i.keccak_384),t.keccak512=(0,n.wrapHash)(i.keccak_512)},71760:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schnorr=t.Signature=t.Point=t.CURVE=t.utils=t.getSharedSecret=t.recoverPublicKey=t.verify=t.signSync=t.sign=t.getPublicKey=void 0;let i=r(27173),n=r(45069),o=r(79656);var s=r(79656);Object.defineProperty(t,"getPublicKey",{enumerable:!0,get:function(){return s.getPublicKey}}),Object.defineProperty(t,"sign",{enumerable:!0,get:function(){return s.sign}}),Object.defineProperty(t,"signSync",{enumerable:!0,get:function(){return s.signSync}}),Object.defineProperty(t,"verify",{enumerable:!0,get:function(){return s.verify}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return s.recoverPublicKey}}),Object.defineProperty(t,"getSharedSecret",{enumerable:!0,get:function(){return s.getSharedSecret}}),Object.defineProperty(t,"utils",{enumerable:!0,get:function(){return s.utils}}),Object.defineProperty(t,"CURVE",{enumerable:!0,get:function(){return s.CURVE}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return s.Point}}),Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return s.Signature}}),Object.defineProperty(t,"schnorr",{enumerable:!0,get:function(){return s.schnorr}}),o.utils.hmacSha256Sync=(e,...t)=>{let r=i.hmac.create(n.sha256,e);return t.forEach(e=>r.update(e)),r.digest()}},70666:function(e,t,r){"use strict";e=r.nmd(e);var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;let n=i(r(36989)),o=r(8145),s=n.default.bool;t.assertBool=s;let a=n.default.bytes;t.assertBytes=a;var u=r(8145);Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return u.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return u.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return u.utf8ToBytes}}),t.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)},t.hexToBytes=function(e){let t=e.startsWith("0x")?e.substring(2):e;return(0,o.hexToBytes)(t)},t.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},t.wrapHash=function(e){return t=>(n.default.bytes(t),e(t))},t.crypto=(()=>{let t="object"==typeof self&&"crypto"in self?self.crypto:void 0,r="function"==typeof e.require&&e.require.bind(e);return{node:r&&!t?r("crypto"):void 0,web:t}})()},41583:function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){var n;return n=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{BUTTON_POSITION:function(){return eh},LOGIN_PROVIDER:function(){return ec},PAYMENT_PROVIDER:function(){return eu},TORUS_BUILD_ENV:function(){return el},TorusInPageProvider:function(){return eL},default:function(){return eV}});var o,s,a=r(11189),u=r(88473),l=r(61798),h=r.n(l);r(45772),r(95811),r(48764).Buffer;let c=()=>h()(32).toString("hex");var f=r(17187),d=r(4445),p=r.n(d),g=r(79826),y=r(12840),m=r.n(y),b=r(30778),v=r.n(b),w=r(74286),_=r.n(w);function A(){}class T extends u.Duplex{constructor(e){let{name:t,target:r,targetWindow:i=window,targetOrigin:o="*"}=e;if(super({objectMode:!0}),n(this,"_init",void 0),n(this,"_haveSyn",void 0),n(this,"_name",void 0),n(this,"_target",void 0),n(this,"_targetWindow",void 0),n(this,"_targetOrigin",void 0),n(this,"_onMessage",void 0),n(this,"_synIntervalId",void 0),!t||!r)throw Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=t,this._target=r,this._targetWindow=i,this._targetOrigin=o,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,A),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,A),this.cork()}_onData(e){if(this._init){if("BRK"===e)this._break();else try{this.push(e)}catch(e){this.emit("error",e)}}else"SYN"===e?(this._haveSyn=!0,this._write("ACK",null,A)):"ACK"===e&&(this._init=!0,this._haveSyn||this._write("ACK",null,A),this.uncork())}_postMessage(e){let t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){let t=e.data;("*"===this._targetOrigin||e.origin===this._targetOrigin)&&e.source===this._targetWindow&&"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_read(){}_write(e,t,r){this._postMessage(e),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function S(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class E extends f.EventEmitter{emit(e){let t="error"===e,r=this._events;if(void 0!==r)t=t&&void 0===r.error;else if(!t)return!1;for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];if(t){let e;if(n.length>0&&([e]=n),e instanceof Error)throw e;let t=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw t.context=e,t}let s=r[e];if(void 0===s)return!1;if("function"==typeof s)S(s,this,n);else{let e=s.length,t=function(e){let t=e.length,r=Array(t);for(let i=0;i<t;i+=1)r[i]=e[i];return r}(s);for(let r=0;r<e;r+=1)S(t[r],this,n)}return!0}}class B extends Error{constructor(e){let{code:t,message:r,data:i}=e;if(!Number.isInteger(t))throw Error("code must be an integer");if(!r||"string"!=typeof r)throw Error("message must be string");super(r),n(this,"code",void 0),n(this,"data",void 0),this.code=t,void 0!==i&&(this.data=i)}toString(){return p()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}let x=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(i,n)=>{i||n.error?t(i||n.error):!r||Array.isArray(n)?e(n):e(n.result)}};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}class P extends E{constructor(){super(),n(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,r){let i=[],n=null,o=!1;for(let s of r)if([n,o]=await P._runMiddleware(e,t,s,i),o)break;return[n,o,i.reverse()]}static _runMiddleware(e,t,r,i){return new Promise(n=>{let o=e=>{let r=e||t.error;r&&(t.error=(0,g.Xy)(r)),n([r,!0])},s=e=>{t.error?o(t.error):(e&&("function"!=typeof e&&o(new B({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(e)),n([null,!1]))};try{r(e,t,s,o)}catch(e){o(e)}})}static async _runReturnHandlers(e){for(let t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new B({code:-32603,message:"Response has no error or result for request"});if(!r)throw new B({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,i)=>{try{let[n,o,s]=await P._runAllMiddleware(e,t,this._middleware);if(o)return await P._runReturnHandlers(s),i(n);return r(async e=>{try{await P._runReturnHandlers(s)}catch(t){return e(t)}return e()})}catch(e){return i(e)}}}async _handleBatch(e,t){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));if(t)return t(null,r);return r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){let e=new B({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!=typeof e.method){let r=new B({code:-32603,message:"method must be string"});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}let r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),i={id:r.id,jsonrpc:r.jsonrpc},o=null;try{await this._processRequest(r,i)}catch(e){o=e}return o&&(delete i.result,i.error||(i.error=(0,g.Xy)(o))),t(o,i)}async _processRequest(e,t){let[r,i,n]=await P._runAllMiddleware(e,t,this._middleware);if(P._checkForCompletion(e,t,i),await P._runReturnHandlers(n),r)throw r}}class N extends u.Duplex{constructor(e){let{parent:t,name:r}=e;super({objectMode:!0}),n(this,"_parent",void 0),n(this,"_name",void 0),this._parent=t,this._name=r}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let R=Symbol("IGNORE_SUBSTREAM");class I extends u.Duplex{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(C(C({},e),{},{objectMode:!0})),n(this,"_substreams",void 0),n(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw Error(`ObjectMultiplex - Substream for name "${e}" already exists`);let t=new N({parent:this,name:e});return this._substreams[e]=t,function(e,t){let r=v()(t);m()(e,{readable:!1},r),m()(e,{writable:!1},r)}(this,e=>t.destroy(e||void 0)),t}ignoreStream(e){if(!e)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=R}_read(){}_write(e,t,r){let{name:i,data:n}=e;if(!i)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();let o=this._substreams[i];return o?(o!==R&&o.push(n),r()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}var k=r(23420),M=r.n(k);r(31234);var z=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,j=Math.ceil,U=Math.floor,D="[BigNumber Error] ",V=D+"Number primitive has more than 15 significant digits: ",F=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function H(e){var t=0|e;return e>0||e===t?t:t-1}function q(e){for(var t,r,i=1,n=e.length,o=e[0]+"";i<n;){for(r=14-(t=e[i++]+"").length;r--;t="0"+t);o+=t}for(n=o.length;48===o.charCodeAt(--n););return o.slice(0,n+1||1)}function $(e,t){var r,i,n=e.c,o=t.c,s=e.s,a=t.s,u=e.e,l=t.e;if(!s||!a)return null;if(r=n&&!n[0],i=o&&!o[0],r||i)return r?i?0:-a:s;if(s!=a)return s;if(r=s<0,i=u==l,!n||!o)return i?0:!n^r?1:-1;if(!i)return u>l^r?1:-1;for(s=0,a=(u=n.length)<(l=o.length)?u:l;s<a;s++)if(n[s]!=o[s])return n[s]>o[s]^r?1:-1;return u==l?0:u>l^r?1:-1}function W(e,t,r,i){if(e<t||e>r||e!==U(e))throw Error(D+(i||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function G(e){var t=e.c.length-1;return H(e.e/14)==t&&e.c[t]%2!=0}function K(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function J(e,t,r){var i,n;if(t<0){for(n=r+".";++t;n+=r);e=n+e}else if(i=e.length,++t>i){for(n=r,t-=i;--t;n+=r);e+=n}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}!function e(t){var r,i,n,o,s,a,u,l,h,c=E.prototype={constructor:E,toString:null,valueOf:null},f=new E(1),d=20,p=4,g=-7,y=21,m=-1e7,b=1e7,v=!1,w=1,_=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},T="0123456789abcdefghijklmnopqrstuvwxyz",S=!0;function E(e,t){var r,i,n,o,s,a,u,c,f=this;if(!(f instanceof E))return new E(e,t);if(null==t){if(e&&!0===e._isBigNumber){f.s=e.s,!e.c||e.e>b?f.c=f.e=null:e.e<m?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice());return}if((a="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,s=e;s>=10;s/=10,o++);o>b?f.c=f.e=null:(f.e=o,f.c=[e]);return}c=String(e)}else{if(!z.test(c=String(e)))return h(f,c,a);f.s=45==c.charCodeAt(0)?(c=c.slice(1),-1):1}(o=c.indexOf("."))>-1&&(c=c.replace(".","")),(s=c.search(/e/i))>0?(o<0&&(o=s),o+=+c.slice(s+1),c=c.substring(0,s)):o<0&&(o=c.length)}else{if(W(t,2,T.length,"Base"),10==t&&S)return P(f=new E(e),d+f.e+1,p);if(c=String(e),a="number"==typeof e){if(0*e!=0)return h(f,c,a,t);if(f.s=1/e<0?(c=c.slice(1),-1):1,E.DEBUG&&c.replace(/^0\.0*|\./,"").length>15)throw Error(V+e)}else f.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1;for(r=T.slice(0,t),o=s=0,u=c.length;s<u;s++)if(0>r.indexOf(i=c.charAt(s))){if("."==i){if(s>o){o=u;continue}}else if(!n&&(c==c.toUpperCase()&&(c=c.toLowerCase())||c==c.toLowerCase()&&(c=c.toUpperCase()))){n=!0,s=-1,o=0;continue}return h(f,String(e),a,t)}a=!1,(o=(c=l(c,t,10,f.s)).indexOf("."))>-1?c=c.replace(".",""):o=c.length}for(s=0;48===c.charCodeAt(s);s++);for(u=c.length;48===c.charCodeAt(--u););if(c=c.slice(s,++u)){if(u-=s,a&&E.DEBUG&&u>15&&(e>9007199254740991||e!==U(e)))throw Error(V+f.s*e);if((o=o-s-1)>b)f.c=f.e=null;else if(o<m)f.c=[f.e=0];else{if(f.e=o,f.c=[],s=(o+1)%14,o<0&&(s+=14),s<u){for(s&&f.c.push(+c.slice(0,s)),u-=14;s<u;)f.c.push(+c.slice(s,s+=14));s=14-(c=c.slice(s)).length}else s-=u;for(;s--;c+="0");f.c.push(+c)}}else f.c=[f.e=0]}function B(e,t,r,i){var n,o,s,a,u;if(null==r?r=p:W(r,0,8),!e.c)return e.toString();if(n=e.c[0],s=e.e,null==t)u=q(e.c),u=1==i||2==i&&(s<=g||s>=y)?K(u,s):J(u,s,"0");else if(o=(e=P(new E(e),t,r)).e,a=(u=q(e.c)).length,1==i||2==i&&(t<=o||o<=g)){for(;a<t;u+="0",a++);u=K(u,o)}else if(t-=s,u=J(u,o,"0"),o+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=o-a)>0)for(o+1==a&&(u+=".");t--;u+="0");return e.s<0&&n?"-"+u:u}function x(e,t){for(var r,i=1,n=new E(e[0]);i<e.length;i++)if((r=new E(e[i])).s)t.call(n,r)&&(n=r);else{n=r;break}return n}function O(e,t,r){for(var i=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,i++);return(r=i+14*r-1)>b?e.c=e.e=null:r<m?e.c=[e.e=0]:(e.e=r,e.c=t),e}function P(e,t,r,i){var n,o,s,a,u,l,h,c=e.c;if(c){t:{for(n=1,a=c[0];a>=10;a/=10,n++);if((o=t-n)<0)o+=14,s=t,h=(u=c[l=0])/F[n-s-1]%10|0;else if((l=j((o+1)/14))>=c.length){if(i){for(;c.length<=l;c.push(0));u=h=0,n=1,o%=14,s=o-14+1}else break t}else{for(n=1,u=a=c[l];a>=10;a/=10,n++);o%=14,h=(s=o-14+n)<0?0:u/F[n-s-1]%10|0}if(i=i||t<0||null!=c[l+1]||(s<0?u:u%F[n-s-1]),i=r<4?(h||i)&&(0==r||r==(e.s<0?3:2)):h>5||5==h&&(4==r||i||6==r&&(o>0?s>0?u/F[n-s]:0:c[l-1])%10&1||r==(e.s<0?8:7)),t<1||!c[0])return c.length=0,i?(t-=e.e+1,c[0]=F[(14-t%14)%14],e.e=-t||0):c[0]=e.e=0,e;if(0==o?(c.length=l,a=1,l--):(c.length=l+1,a=F[14-o],c[l]=s>0?U(u/F[n-s]%F[s])*a:0),i)for(;;){if(0==l){for(o=1,s=c[0];s>=10;s/=10,o++);for(s=c[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(e.e++,1e14==c[0]&&(c[0]=1));break}if(c[l]+=a,1e14!=c[l])break;c[l--]=0,a=1}for(o=c.length;0===c[--o];c.pop());}e.e>b?e.c=e.e=null:e.e<m&&(e.c=[e.e=0])}return e}function N(e){var t,r=e.e;return null===r?e.toString():(t=q(e.c),t=r<=g||r>=y?K(t,r):J(t,r,"0"),e.s<0?"-"+t:t)}return E.clone=e,E.ROUND_UP=0,E.ROUND_DOWN=1,E.ROUND_CEIL=2,E.ROUND_FLOOR=3,E.ROUND_HALF_UP=4,E.ROUND_HALF_DOWN=5,E.ROUND_HALF_EVEN=6,E.ROUND_HALF_CEIL=7,E.ROUND_HALF_FLOOR=8,E.EUCLID=9,E.config=E.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(W(r=e[t],0,1e9,t),d=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(W(r=e[t],0,8,t),p=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(W(r[0],-1e9,0,t),W(r[1],0,1e9,t),g=r[0],y=r[1]):(W(r,-1e9,1e9,t),g=-(y=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)W(r[0],-1e9,-1,t),W(r[1],1,1e9,t),m=r[0],b=r[1];else if(W(r,-1e9,1e9,t),r)m=-(b=r<0?-r:r);else throw Error(D+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))v=r;else throw v=!r,Error(D+"crypto unavailable")}else v=r}else throw Error(D+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(W(r=e[t],0,9,t),w=r),e.hasOwnProperty(t="POW_PRECISION")&&(W(r=e[t],0,1e9,t),_=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))A=r;else throw Error(D+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(D+t+" invalid: "+r);S="0123456789"==r.slice(0,10),T=r}}else throw Error(D+"Object expected: "+e)}return{DECIMAL_PLACES:d,ROUNDING_MODE:p,EXPONENTIAL_AT:[g,y],RANGE:[m,b],CRYPTO:v,MODULO_MODE:w,POW_PRECISION:_,FORMAT:A,ALPHABET:T}},E.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!E.DEBUG)return!0;var t,r,i=e.c,n=e.e,o=e.s;t:if("[object Array]"==({}).toString.call(i)){if((1===o||-1===o)&&n>=-1e9&&n<=1e9&&n===U(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break t}if((t=(n+1)%14)<1&&(t+=14),String(i[0]).length==t){for(t=0;t<i.length;t++)if((r=i[t])<0||r>=1e14||r!==U(r))break t;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===o||1===o||-1===o))return!0;throw Error(D+"Invalid BigNumber: "+e)},E.maximum=E.max=function(){return x(arguments,c.lt)},E.minimum=E.min=function(){return x(arguments,c.gt)},E.random=(r=9007199254740992*Math.random()&2097151?function(){return U(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,i,n,o,s,a=0,u=[],l=new E(f);if(null==e?e=d:W(e,0,1e9),o=j(e/14),v){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));a<o;)(s=131072*t[a]+(t[a+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[a]=i[0],t[a+1]=i[1]):(u.push(s%1e14),a+=2);a=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);a<o;)(s=(31&t[a])*281474976710656+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(u.push(s%1e14),a+=7);a=o/7}else throw v=!1,Error(D+"crypto unavailable")}if(!v)for(;a<o;)(s=r())<9e15&&(u[a++]=s%1e14);for(o=u[--a],e%=14,o&&e&&(s=F[14-e],u[a]=U(o/s)*s);0===u[a];u.pop(),a--);if(a<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=14);for(a=1,s=u[0];s>=10;s/=10,a++);a<14&&(n-=14-a)}return l.e=n,l.c=u,l}),E.sum=function(){for(var e=1,t=arguments,r=new E(t[0]);e<t.length;)r=r.plus(t[e++]);return r},l=function(){var e="0123456789";function t(e,t,r,i){for(var n,o,s=[0],a=0,u=e.length;a<u;){for(o=s.length;o--;s[o]*=t);for(s[0]+=i.indexOf(e.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(null==s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}return function(r,i,n,o,s){var a,l,h,c,f,g,y,m,b=r.indexOf("."),v=d,w=p;for(b>=0&&(c=_,_=0,r=r.replace(".",""),g=(m=new E(i)).pow(r.length-b),_=c,m.c=t(J(q(g.c),g.e,"0"),10,n,e),m.e=m.c.length),h=c=(y=t(r,i,n,s?(a=T,e):(a=e,T))).length;0==y[--c];y.pop());if(!y[0])return a.charAt(0);if(b<0?--h:(g.c=y,g.e=h,g.s=o,y=(g=u(g,m,v,w,n)).c,f=g.r,h=g.e),b=y[l=h+v+1],c=n/2,f=f||l<0||null!=y[l+1],f=w<4?(null!=b||f)&&(0==w||w==(g.s<0?3:2)):b>c||b==c&&(4==w||f||6==w&&1&y[l-1]||w==(g.s<0?8:7)),l<1||!y[0])r=f?J(a.charAt(1),-v,a.charAt(0)):a.charAt(0);else{if(y.length=l,f)for(--n;++y[--l]>n;)y[l]=0,l||(++h,y=[1].concat(y));for(c=y.length;!y[--c];);for(b=0,r="";b<=c;r+=a.charAt(y[b++]));r=J(r,h,a.charAt(0))}return r}}(),u=function(){function e(e,t,r){var i,n,o,s,a=0,u=e.length,l=t%1e7,h=t/1e7|0;for(e=e.slice();u--;)i=h*(o=e[u]%1e7)+(s=e[u]/1e7|0)*l,a=((n=l*o+i%1e7*1e7+a)/r|0)+(i/1e7|0)+h*s,e[u]=n%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,i){var n,o;if(r!=i)o=r>i?1:-1;else for(n=o=0;n<r;n++)if(e[n]!=t[n]){o=e[n]>t[n]?1:-1;break}return o}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,n,o,s,a){var u,l,h,c,f,d,p,g,y,m,b,v,w,_,A,T,S,B=i.s==n.s?1:-1,x=i.c,O=n.c;if(!x||!x[0]||!O||!O[0])return new E(i.s&&n.s&&(x?!O||x[0]!=O[0]:O)?x&&0==x[0]||!O?0*B:B/0:NaN);for(y=(g=new E(B)).c=[],B=o+(l=i.e-n.e)+1,a||(a=1e14,l=H(i.e/14)-H(n.e/14),B=B/14|0),h=0;O[h]==(x[h]||0);h++);if(O[h]>(x[h]||0)&&l--,B<0)y.push(1),c=!0;else{for(_=x.length,T=O.length,h=0,B+=2,(f=U(a/(O[0]+1)))>1&&(O=e(O,f,a),x=e(x,f,a),T=O.length,_=x.length),w=T,b=(m=x.slice(0,T)).length;b<T;m[b++]=0);S=[0].concat(S=O.slice()),A=O[0],O[1]>=a/2&&A++;do{if(f=0,(u=t(O,m,T,b))<0){if(v=m[0],T!=b&&(v=v*a+(m[1]||0)),(f=U(v/A))>1)for(f>=a&&(f=a-1),p=(d=e(O,f,a)).length,b=m.length;1==t(d,m,p,b);)f--,r(d,T<p?S:O,p,a),p=d.length,u=1;else 0==f&&(u=f=1),p=(d=O.slice()).length;if(p<b&&(d=[0].concat(d)),r(m,d,b,a),b=m.length,-1==u)for(;1>t(O,m,T,b);)f++,r(m,T<b?S:O,b,a),b=m.length}else 0===u&&(f++,m=[0]);y[h++]=f,m[0]?m[b++]=x[w]||0:(m=[x[w]],b=1)}while((w++<_||null!=m[0])&&B--);c=null!=m[0],y[0]||y.splice(0,1)}if(1e14==a){for(h=1,B=y[0];B>=10;B/=10,h++);P(g,o+(g.e=h+14*l-1)+1,s,c)}else g.e=l,g.r=+c;return g}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,n=/^([^.]+)\.$/,o=/^\.([^.]+)$/,s=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g,h=function(e,t,r,u){var l,h=r?t:t.replace(a,"");if(s.test(h))e.s=isNaN(h)?null:h<0?-1:1;else{if(!r&&(h=h.replace(i,function(e,t,r){return l="x"==(r=r.toLowerCase())?16:"b"==r?2:8,u&&u!=l?e:t}),u&&(l=u,h=h.replace(n,"$1").replace(o,"0.$1")),t!=h))return new E(h,l);if(E.DEBUG)throw Error(D+"Not a"+(u?" base "+u:"")+" number: "+t);e.s=null}e.c=e.e=null},c.absoluteValue=c.abs=function(){var e=new E(this);return e.s<0&&(e.s=1),e},c.comparedTo=function(e,t){return $(this,new E(e,t))},c.decimalPlaces=c.dp=function(e,t){var r,i,n;if(null!=e)return W(e,0,1e9),null==t?t=p:W(t,0,8),P(new E(this),e+this.e+1,t);if(!(r=this.c))return null;if(i=((n=r.length-1)-H(this.e/14))*14,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},c.dividedBy=c.div=function(e,t){return u(this,new E(e,t),d,p)},c.dividedToIntegerBy=c.idiv=function(e,t){return u(this,new E(e,t),0,1)},c.exponentiatedBy=c.pow=function(e,t){var r,i,n,o,s,a,u,l,h,c=this;if((e=new E(e)).c&&!e.isInteger())throw Error(D+"Exponent not an integer: "+N(e));if(null!=t&&(t=new E(t)),a=e.e>14,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!e.c||!e.c[0])return h=new E(Math.pow(+N(c),a?e.s*(2-G(e)):+N(e))),t?h.mod(t):h;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new E(NaN);(i=!u&&c.isInteger()&&t.isInteger())&&(c=c.mod(t))}else{if(e.e>9&&(c.e>0||c.e<-1||(0==c.e?c.c[0]>1||a&&c.c[1]>=24e7:c.c[0]<8e13||a&&c.c[0]<=9999975e7)))return c.s<0&&G(e),o=-0,c.e>-1&&(o=1/o),new E(u?1/o:o);_&&(o=j(_/14+2))}for(a?(r=new E(.5),u&&(e.s=1),l=G(e)):l=(n=Math.abs(+N(e)))%2,h=new E(f);;){if(l){if(!(h=h.times(c)).c)break;o?h.c.length>o&&(h.c.length=o):i&&(h=h.mod(t))}if(n){if(0===(n=U(n/2)))break;l=n%2}else if(P(e=e.times(r),e.e+1,1),e.e>14)l=G(e);else{if(0==(n=+N(e)))break;l=n%2}c=c.times(c),o?c.c&&c.c.length>o&&(c.c.length=o):i&&(c=c.mod(t))}return i?h:(u&&(h=f.div(h)),t?h.mod(t):o?P(h,_,p,s):h)},c.integerValue=function(e){var t=new E(this);return null==e?e=p:W(e,0,8),P(t,t.e+1,e)},c.isEqualTo=c.eq=function(e,t){return 0===$(this,new E(e,t))},c.isFinite=function(){return!!this.c},c.isGreaterThan=c.gt=function(e,t){return $(this,new E(e,t))>0},c.isGreaterThanOrEqualTo=c.gte=function(e,t){return 1===(t=$(this,new E(e,t)))||0===t},c.isInteger=function(){return!!this.c&&H(this.e/14)>this.c.length-2},c.isLessThan=c.lt=function(e,t){return 0>$(this,new E(e,t))},c.isLessThanOrEqualTo=c.lte=function(e,t){return -1===(t=$(this,new E(e,t)))||0===t},c.isNaN=function(){return!this.s},c.isNegative=function(){return this.s<0},c.isPositive=function(){return this.s>0},c.isZero=function(){return!!this.c&&0==this.c[0]},c.minus=function(e,t){var r,i,n,o,s=this.s;if(t=(e=new E(e,t)).s,!s||!t)return new E(NaN);if(s!=t)return e.s=-t,this.plus(e);var a=this.e/14,u=e.e/14,l=this.c,h=e.c;if(!a||!u){if(!l||!h)return l?(e.s=-t,e):new E(h?this:NaN);if(!l[0]||!h[0])return h[0]?(e.s=-t,e):new E(l[0]?this:-0)}if(a=H(a),u=H(u),l=l.slice(),s=a-u){for((o=s<0)?(s=-s,n=l):(u=a,n=h),n.reverse(),t=s;t--;n.push(0));n.reverse()}else for(i=(o=(s=l.length)<(t=h.length))?s:t,s=t=0;t<i;t++)if(l[t]!=h[t]){o=l[t]<h[t];break}if(o&&(n=l,l=h,h=n,e.s=-e.s),(t=(i=h.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=1e14-1;i>s;){if(l[--i]<h[i]){for(r=i;r&&!l[--r];l[r]=t);--l[r],l[i]+=1e14}l[i]-=h[i]}for(;0==l[0];l.splice(0,1),--u);return l[0]?O(e,l,u):(e.s=3==p?-1:1,e.c=[e.e=0],e)},c.modulo=c.mod=function(e,t){var r,i;return(e=new E(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==w?(i=e.s,e.s=1,r=u(this,e,0,3),e.s=i,r.s*=i):r=u(this,e,0,w),(e=this.minus(r.times(e))).c[0]||1!=w||(e.s=this.s),e):new E(this):new E(NaN)},c.multipliedBy=c.times=function(e,t){var r,i,n,o,s,a,u,l,h,c,f,d,p,g=this.c,y=(e=new E(e,t)).c;if(!g||!y||!g[0]||!y[0])return this.s&&e.s&&(!g||g[0]||y)&&(!y||y[0]||g)?(e.s*=this.s,g&&y?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(i=H(this.e/14)+H(e.e/14),e.s*=this.s,(u=g.length)<(c=y.length)&&(p=g,g=y,y=p,n=u,u=c,c=n),n=u+c,p=[];n--;p.push(0));for(n=c;--n>=0;){for(r=0,f=y[n]%1e7,d=y[n]/1e7|0,s=u,o=n+s;o>n;)a=d*(l=g[--s]%1e7)+(h=g[s]/1e7|0)*f,r=((l=f*l+a%1e7*1e7+p[o]+r)/1e14|0)+(a/1e7|0)+d*h,p[o--]=l%1e14;p[o]=r}return r?++i:p.splice(0,1),O(e,p,i)},c.negated=function(){var e=new E(this);return e.s=-e.s||null,e},c.plus=function(e,t){var r,i=this.s;if(t=(e=new E(e,t)).s,!i||!t)return new E(NaN);if(i!=t)return e.s=-t,this.minus(e);var n=this.e/14,o=e.e/14,s=this.c,a=e.c;if(!n||!o){if(!s||!a)return new E(i/0);if(!s[0]||!a[0])return a[0]?e:new E(s[0]?this:0*i)}if(n=H(n),o=H(o),s=s.slice(),i=n-o){for(i>0?(o=n,r=a):(i=-i,r=s),r.reverse();i--;r.push(0));r.reverse()}for((i=s.length)-(t=a.length)<0&&(r=a,a=s,s=r,t=i),i=0;t;)i=(s[--t]=s[t]+a[t]+i)/1e14|0,s[t]=1e14===s[t]?0:s[t]%1e14;return i&&(s=[i].concat(s),++o),O(e,s,o)},c.precision=c.sd=function(e,t){var r,i,n;if(null!=e&&!!e!==e)return W(e,1,1e9),null==t?t=p:W(t,0,8),P(new E(this),e,t);if(!(r=this.c))return null;if(i=14*(n=r.length-1)+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return e&&this.e+1>i&&(i=this.e+1),i},c.shiftedBy=function(e){return W(e,-9007199254740991,9007199254740991),this.times("1e"+e)},c.squareRoot=c.sqrt=function(){var e,t,r,i,n,o=this.c,s=this.s,a=this.e,l=d+4,h=new E("0.5");if(1!==s||!o||!o[0])return new E(!s||s<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(s=Math.sqrt(+N(this)))||s==1/0?(((t=q(o)).length+a)%2==0&&(t+="0"),s=Math.sqrt(+t),a=H((a+1)/2)-(a<0||a%2),t=s==1/0?"5e"+a:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+a,r=new E(t)):r=new E(s+""),r.c[0]){for((s=(a=r.e)+l)<3&&(s=0);;)if(n=r,r=h.times(n.plus(u(this,n,l,1))),q(n.c).slice(0,s)===(t=q(r.c)).slice(0,s)){if(r.e<a&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(P(r,r.e+d+2,1),e=!r.times(r).eq(this));break}if(!i&&(P(n,n.e+d+2,0),n.times(n).eq(this))){r=n;break}l+=4,s+=4,i=1}}return P(r,r.e+d+1,p,e)},c.toExponential=function(e,t){return null!=e&&(W(e,0,1e9),e++),B(this,e,t,1)},c.toFixed=function(e,t){return null!=e&&(W(e,0,1e9),e=e+this.e+1),B(this,e,t)},c.toFormat=function(e,t,r){var i;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=A;else if("object"!=typeof r)throw Error(D+"Argument not an object: "+r);if(i=this.toFixed(e,t),this.c){var n,o=i.split("."),s=+r.groupSize,a=+r.secondaryGroupSize,u=r.groupSeparator||"",l=o[0],h=o[1],c=this.s<0,f=c?l.slice(1):l,d=f.length;if(a&&(n=s,s=a,a=n,d-=n),s>0&&d>0){for(n=d%s||s,l=f.substr(0,n);n<d;n+=s)l+=u+f.substr(n,s);a>0&&(l+=u+f.slice(n)),c&&(l="-"+l)}i=h?l+(r.decimalSeparator||"")+((a=+r.fractionGroupSize)?h.replace(RegExp("\\d{"+a+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):l}return(r.prefix||"")+i+(r.suffix||"")},c.toFraction=function(e){var t,r,i,n,o,s,a,l,h,c,d,g,y=this.c;if(null!=e&&(!(a=new E(e)).isInteger()&&(a.c||1!==a.s)||a.lt(f)))throw Error(D+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+N(a));if(!y)return new E(this);for(t=new E(f),h=r=new E(f),i=l=new E(f),g=q(y),o=t.e=g.length-this.e-1,t.c[0]=F[(s=o%14)<0?14+s:s],e=!e||a.comparedTo(t)>0?o>0?t:h:a,s=b,b=1/0,a=new E(g),l.c[0]=0;c=u(a,t,0,1),1!=(n=r.plus(c.times(i))).comparedTo(e);)r=i,i=n,h=l.plus(c.times(n=h)),l=n,t=a.minus(c.times(n=t)),a=n;return n=u(e.minus(r),i,0,1),l=l.plus(n.times(h)),r=r.plus(n.times(i)),l.s=h.s=this.s,o*=2,d=1>u(h,i,o,p).minus(this).abs().comparedTo(u(l,r,o,p).minus(this).abs())?[h,i]:[l,r],b=s,d},c.toNumber=function(){return+N(this)},c.toPrecision=function(e,t){return null!=e&&W(e,1,1e9),B(this,e,t,2)},c.toString=function(e){var t,r=this,i=r.s,n=r.e;return null===n?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=n<=g||n>=y?K(q(r.c),n):J(q(r.c),n,"0"):10===e&&S?t=J(q((r=P(new E(r),d+n+1,p)).c),r.e,"0"):(W(e,2,T.length,"Base"),t=l(J(q(r.c),n,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},c.valueOf=c.toJSON=function(){return N(this)},c._isBigNumber=!0,c[Symbol.toStringTag]="BigNumber",c[Symbol.for("nodejs.util.inspect.custom")]=c.valueOf,null!=t&&E.set(t),E}();var X=r(2043),Z=r.n(X);r(72378);let Y=Z().getLogger("http-helpers");Y.setLevel(X.levels.INFO),r(51206),r(96486),r(48764).Buffer,M()();let Q={IFRAME_STATUS:"iframe_status",CREATE_WINDOW:"create_window",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out"},ee={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",OPENED_WINDOW:"opened_window",CLOSED_WINDOW:"closed_window",GET_PROVIDER_STATE:"get_provider_state",LOGIN_WITH_PRIVATE_KEY:"login_with_private_key"},et={GET_PROVIDER_STATE:"wallet_get_provider_state"},er={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"};(o=s||(s={})).approved="approved",o.cancelled="cancelled",o.confirmed="confirmed",o.failed="failed",o.finalized="finalized",o.processed="processed",o.rejected="rejected",o.signed="signed",o.submitted="submitted",o.unapproved="unapproved",o.dropped="dropped",o.expired="expired";var ei=r(24970),en=r(64063),eo=r.n(en),es=r(48764).Buffer,ea={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:e=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:e=>`Invalid options. Received: { maxEventListeners: ${e}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`Torus: Connected to chain with ID "${e}".`},warnings:{}};let eu={MOONPAY:"moonpay",WYRE:"wyre",RAMPNETWORK:"rampnetwork",XANPOOL:"xanpool",MERCURYO:"mercuryo",TRANSAK:"transak"},el={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"},eh={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},ec={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless"};var ef={supportedVerifierList:[ec.GOOGLE,ec.REDDIT,ec.DISCORD],api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"継続する",actionRequired:"認証が必要です",pendingAction:"続行をクリックして、ポップアップでリクエストを続行します",cookiesRequired:"必要なクッキー",enableCookies:"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。",clickHere:"詳しくは"}},ko:{embed:{continue:"계속하다",actionRequired:"승인 필요",pendingAction:"팝업에서 요청을 진행하려면 계속을 클릭하십시오.",cookiesRequired:"쿠키 필요",enableCookies:"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.",clickHere:"더 많은 정보"}},zh:{embed:{continue:"继续",actionRequired:"需要授权",pendingAction:"单击继续以在弹出窗口中继续您的请求",cookiesRequired:"必填Cookie",enableCookies:"请在您的浏览器首选项中启用cookie以访问Torus。",clickHere:"更多信息"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"},ed=Z().getLogger("solana-embed");let ep=()=>Math.random().toString(36).slice(2),eg=async e=>{let t,r;switch(e){case"testing":t="https://solana-testing.tor.us",r="debug";break;case"development":t="http://localhost:8080",r="debug";break;default:t="https://solana.tor.us",r="error"}return{torusUrl:t,logLevel:r}},ey=()=>{let e=window.navigator.language||"en-US",t=e.split("-");return Object.prototype.hasOwnProperty.call(ef.translations,t[0])?t[0]:"en"},em={height:660,width:375},eb={height:740,width:1315},ev={height:700,width:1200},ew={height:600,width:400};function e_(e){let{width:t,height:r}=e,i=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/1},width=${t/1},top=${Math.abs((s-r)/2/1+n)},left=${Math.abs((o-t)/2/1+i)}`;return a}class eA extends E{constructor(e,t){var r;let{maxEventListeners:i=100,jsonRpcStreamName:o="provider"}=t;if(super(),n(this,"isTorus",void 0),n(this,"_rpcEngine",void 0),n(this,"jsonRpcConnectionEvents",void 0),n(this,"_state",void 0),!(0,ei.duplex)(e))throw Error(ea.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(i),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);let s=new I;_()(e,s,e,this._handleStreamDisconnect.bind(this,"Torus")),s.ignoreStream("phishing");let a=function(){let e={},t=new E,r=new u.Duplex({objectMode:!0,read:function(){return!1},write:function(r,i,n){let o;try{let i=!r.id;i?t.emit("notification",r):!function(t){let r=e[t.id];if(!r)throw Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(r)}catch(e){o=e}n(o)}}),i=(t,i,n,o)=>{r.push(t),e[t.id]={req:t,res:i,next:n,end:o}};return{events:t,middleware:i,stream:r}}();_()(a.stream,s.createStream(o),a.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));let l=new P;l.push((e,t,r,i)=>{let n=e.id,o=c();e.id=o,t.id=o,r(r=>{e.id=n,t.id=n,r()})}),l.push((e,t,r)=>{"string"==typeof e.method&&e.method||(t.error=g.Sy.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r(e=>{let{error:r}=t;return r&&ed.error(`Torus - RPC Error: ${r.message}`,r),e()})}),l.push((r={origin:location.origin},function(e,t,i){i(i=>{t.error&&Z().warn("Error in RPC response:\n",t),e.isTorusInternal||(Z().info(`RPC (${r.origin}):`,e,"->",t),i())})})),l.push(a.middleware),this._rpcEngine=l,this.jsonRpcConnectionEvents=a.events}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw g.Sy.rpc.invalidRequest({message:ea.errors.invalidRequestArgs(),data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw g.Sy.rpc.invalidRequest({message:ea.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw g.Sy.rpc.invalidRequest({message:ea.errors.invalidRequestParams(),data:e});return new Promise((e,i)=>{this._rpcRequest({method:t,params:r},x(e,i))})}send(e,t){this._rpcRequest(e,t)}sendAsync(e){return new Promise((t,r)=>{this._rpcRequest(e,x(t,r))})}_handleStreamDisconnect(e,t){let r;r=`Torus: Lost connection to "${e}".`,t?.stack&&(r+=`
${t.stack}`),ed.warn(r),this&&this.listenerCount("error")>0&&this.emit("error",r),this._handleDisconnect(!1,t?t.message:void 0)}}let eT=function(e,t,r){for(var i=arguments.length,n=Array(i>3?i-3:0),o=3;o<i;o++)n[o-3]=arguments[o];let s=()=>{r(...n),e.removeEventListener(t,s)};e.addEventListener(t,s)};async function eS(){return new Promise(e=>{"loading"!==document.readyState?e():eT(document,"DOMContentLoaded",e)})}let eE=e=>{let t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild};function eB(e){return void 0===e.version}class ex extends E{constructor(e){let{url:t,target:r,features:i}=e;super(),n(this,"url",void 0),n(this,"target",void 0),n(this,"features",void 0),n(this,"window",void 0),n(this,"windowTimer",void 0),n(this,"iClosedWindow",void 0),this.url=t,this.target=r||"_blank",this.features=i||e_(ev),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){return this.window=window.open(this.url.href,this.target,this.features),this.window?.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}class eP extends eA{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:i="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:i}),n(this,"embedTranslations",void 0),n(this,"torusUrl",void 0),n(this,"dappStorageKey",void 0),n(this,"windowRefs",void 0),n(this,"tryWindowHandle",void 0),n(this,"torusAlertContainer",void 0),n(this,"torusIframe",void 0),this._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},eP._defaultState),this.torusUrl="",this.dappStorageKey="";let o=ef.translations[ey()];this.embedTranslations=o.embed,this.windowRefs={},this.on("connect",()=>{this._state.isConnected=!0});let s=e=>{let{method:t,params:r}=e;if(t===Q.IFRAME_STATUS){let{isFullScreen:e,rid:t}=r;this._displayIframe({isFull:e,rid:t})}else if(t===Q.CREATE_WINDOW){let{windowId:e,url:t}=r;this._createPopupBlockAlert(e,t)}else if(t===Q.CLOSE_WINDOW)this._handleCloseWindow(r);else if(t===Q.USER_LOGGED_IN){let{currentLoginProvider:e}=r;this._state.isLoggedIn=!0,this._state.currentLoginProvider=e}else t===Q.USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())};this.jsonRpcConnectionEvents.on("notification",s)}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(e){try{let{torusUrl:t,dappStorageKey:r,torusAlertContainer:i,torusIframe:n}=e;this.torusUrl=t,this.dappStorageKey=r,this.torusAlertContainer=i,this.torusIframe=n,this.torusIframe.addEventListener("load",()=>{this._state.isIFrameFullScreen||this._displayIframe()});let{currentLoginProvider:o,isLoggedIn:s}=await this.request({method:ee.GET_PROVIDER_STATE,params:[]});this._handleConnect(o,s)}catch(e){ed.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{ed.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(e){let{url:t,target:r,features:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(t||`${this.torusUrl}/redirect?windowId=${e}`);this.dappStorageKey&&(n.hash?n.hash+=`&dappStorageKey=${this.dappStorageKey}`:n.hash=`#dappStorageKey=${this.dappStorageKey}`);let o=new ex({url:n,target:r,features:i});if(o.open(),!o.window){this._createPopupBlockAlert(e,n.href);return}this.windowRefs[e]=o,this.request({method:ee.OPENED_WINDOW,params:{windowId:e}}),o.once("close",()=>{delete this.windowRefs[e],this.request({method:ee.CLOSED_WINDOW,params:{windowId:e}})})}_displayIframe(){let{isFull:e=!1,rid:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(e)r.display="block",r.width="100%",r.height="100%",r.top="0px",r.right="0px",r.left="0px",r.bottom="0px";else switch(r.display=this._state.torusWidgetVisibility?"block":"none",r.height="70px",r.width="70px",this._state.buttonPosition){case eh.TOP_LEFT:r.top="0px",r.left="0px",r.right="auto",r.bottom="auto";break;case eh.TOP_RIGHT:r.top="0px",r.right="0px",r.left="auto",r.bottom="auto";break;case eh.BOTTOM_RIGHT:r.bottom="0px",r.right="0px",r.top="auto",r.left="auto";break;case eh.BOTTOM_LEFT:default:r.bottom="0px",r.left="0px",r.top="auto",r.right="auto"}Object.assign(this.torusIframe.style,r),this._state.isIFrameFullScreen=e,this.request({method:ee.IFRAME_STATUS,params:{isIFrameFullScreen:e,rid:t}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(e,t){let r=e;Array.isArray(r)||r.jsonrpc||(r.jsonrpc="2.0"),this.tryWindowHandle(r,t)}_handleConnect(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:e,isLoggedIn:t}),ed.debug(ea.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new g.Cg(1013,t||ea.errors.disconnected()),ed.debug(r)):(r=new g.Cg(1011,t||ea.errors.permanentlyDisconnected()),ed.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleCloseWindow(e){let{windowId:t}=e;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}async _createPopupBlockAlert(e,t){let r=this.getLogoUrl(),i=eE(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${r}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),n=eE(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),o=eE('<div id="torusAlert__btn-container"></div>');o.appendChild(n),i.appendChild(o),await eS(),(()=>{this.torusAlertContainer.appendChild(i)})(),(()=>{n.addEventListener("click",()=>{this._handleWindow(e,{url:t,target:"_blank",features:e_(ew)}),i.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})(),this.torusAlertContainer.style.display="block"}getLogoUrl(){let e=`${this.torusUrl}/images/torus_icon-blue.svg`;return e}}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}n(eP,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});class eL extends eA{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:i="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:i}),n(this,"chainId",void 0),n(this,"selectedAddress",void 0),n(this,"tryWindowHandle",void 0),this._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},eL._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",()=>{this._state.isConnected=!0});let o=e=>{let{method:t,params:r}=e;t===er.ACCOUNTS_CHANGED?this._handleAccountsChanged(r):t===er.UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(r):t===er.CHAIN_CHANGED&&this._handleChainChanged(r)};this.jsonRpcConnectionEvents.on("notification",o)}isConnected(){return this._state.isConnected}async _initializeState(){try{let{accounts:e,chainId:t,isUnlocked:r}=await this.request({method:et.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){ed.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{ed.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t,n=e;if(!Array.isArray(n)){if(n.jsonrpc||(n.jsonrpc="2.0"),"solana_accounts"===n.method||"solana_requestAccounts"===n.method)i=(e,i)=>{this._handleAccountsChanged(i.result||[],"solana_accounts"===n.method,r),t(e,i)};else if("wallet_getProviderState"===n.method){this._rpcEngine.handle(e,i);return}}this.tryWindowHandle(n,i)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),ed.debug(ea.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new g.Cg(1013,t||ea.errors.disconnected()),ed.debug(r)):(r=new g.Cg(1011,t||ea.errors.permanentlyDisconnected()),ed.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleAccountsChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;for(let t of(Array.isArray(i)||(ed.error("Torus: Received non-array accounts parameter. Please report this bug.",i),i=[]),e))if("string"!=typeof t){ed.error("Torus: Received non-string account. Please report this bug.",e),i=[];break}eo()(this._state.accounts,i)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&ed.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',i),this._state.accounts=i,this.emit("accountsChanged",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}_handleChainChanged(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e){ed.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:e});return}"loading"===e?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:e,isUnlocked:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("boolean"!=typeof t){ed.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t});return}t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[]))}}function eC(e){return new Promise((t,r)=>{try{let r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}})}n(eL,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});let eR=e=>{let{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let i=t.querySelector('head > meta[name="title"]');return i?i.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function eI(e){try{let{document:t}=e,r=t.querySelector('head > link[rel="shortcut icon"]');if(r&&await eC(r.href)||(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>Boolean(e.href)))&&await eC(r.href))return r.href;return""}catch(e){return""}}let ek=async()=>({name:eR(window),icon:await eI(window)});function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function ez(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let ej=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],eU=[ee.SET_PROVIDER],eD=function(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage");!async function(){try{if("undefined"==typeof document)return;let e=document.createElement("link"),{torusUrl:t}=await eg("production");e.href=`${t}/frame`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){ed.warn(e)}}();class eV{constructor(){let{modalZIndex:e=99999}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,"isInitialized",void 0),n(this,"torusAlert",void 0),n(this,"modalZIndex",void 0),n(this,"alertZIndex",void 0),n(this,"requestedLoginProvider",void 0),n(this,"provider",void 0),n(this,"communicationProvider",void 0),n(this,"dappStorageKey",void 0),n(this,"isTopupHidden",!1),n(this,"torusAlertContainer",void 0),n(this,"torusUrl",void 0),n(this,"torusIframe",void 0),n(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=e,this.alertZIndex=e+1e3,this.dappStorageKey=""}get isLoggedIn(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}async init(){let{buildEnv:e=el.PRODUCTION,enableLogging:t=!1,network:r,showTorusButton:i=!1,useLocalStorage:n=!1,buttonPosition:o=eh.BOTTOM_LEFT,apiKey:s="torus-default",extraParams:a={},whiteLabel:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw Error("Already initialized");let{torusUrl:l,logLevel:h}=await eg(e);ed.enableAll(),ed.info(l,"url loaded"),ed.info("Solana Embed Version :0.3.4"),this.torusUrl=l,ed.setDefaultLevel(h),t?ed.enableAll():ed.disableAll();let c=this.handleDappStorageKey(n),f=new URL(l);f.pathname.endsWith("/")?f.pathname+="frame":f.pathname+="/frame";let d=new URLSearchParams;c&&d.append("dappStorageKey",c),d.append("origin",window.location.origin),f.hash=d.toString(),this.torusIframe=eE(`<iframe
        id="torusIframe"
        class="torusIframe"
        src="${f.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()}"
      ></iframe>`),this.torusAlertContainer=eE(`<div id="torusAlertContainer" style="display:none; z-index: ${this.alertZIndex.toString()}"></div>`),this.styleLink=eE(`<link href="${l}/css/widget.css" rel="stylesheet" type="text/css">`);let p=async()=>new Promise((e,t)=>{try{window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer),this.torusIframe.addEventListener("load",async()=>{let t=await ek();this.torusIframe.contentWindow.postMessage({buttonPosition:o,apiKey:s,network:r,dappMetadata:t,extraParams:a,whiteLabel:u},f.origin),await this._setupWeb3({torusUrl:l}),i&&this.showTorusButton(),u?.topupHide?this.isTopupHidden=u.topupHide:this.hideTorusButton(),this.isInitialized=!0,window.torus=this,e()})}catch(e){t(e)}});await eS(),await p()}async login(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw Error("Call init() first");try{this.requestedLoginProvider=e.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});let t=await new Promise((t,r)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,e.login_hint]},x(t,r))});if(Array.isArray(t)&&t.length>0)return t;throw Error("Login failed")}catch(e){throw ed.error("login failed",e),e}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async loginWithPrivateKey(e){if(!this.isInitialized)throw Error("Call init() first");let{privateKey:t,userInfo:r}=e,{success:i}=await this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:t,userInfo:r}});if(!i)throw Error("Login Failed")}async logout(){if(!this.communicationProvider.isLoggedIn)throw Error("Not logged in");await this.communicationProvider.request({method:ee.LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(e){await this.communicationProvider.request({method:ee.SET_PROVIDER,params:ez({},e)})}async showWallet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await this.communicationProvider.request({method:ee.WALLET_INSTANCE_ID,params:[]}),i=e?`/${e}`:"",n=new URL(`${this.torusUrl}/wallet${i}`);n.searchParams.append("instanceId",r),Object.keys(t).forEach(e=>{n.searchParams.append(e,t[e])}),this.dappStorageKey&&(n.hash=`#dappStorageKey=${this.dappStorageKey}`);let o=new ex({url:n,features:e_(eb)});o.open()}async getUserInfo(){let e=await this.communicationProvider.request({method:ee.USER_INFO,params:[]});return e}async initiateTopup(e,t){if(!this.isInitialized)throw Error("Torus is not initialized");let r=ep();this.communicationProvider._handleWindow(r);let i=await this.communicationProvider.request({method:ee.TOPUP,params:{provider:e,params:t,windowId:r}});return i}async getAccounts(){let e=await this.provider.request({method:"getAccounts",params:[]});return e}async sendTransaction(e){let t=eB(e),r=t?e.serialize({requireAllSignatures:!1}).toString("hex"):es.from(e.serialize()).toString("hex"),i=await this.provider.request({method:"send_transaction",params:{message:r,isLegacyTransaction:t}});return i}async signAndSendTransaction(e,t){let r=eB(e),i=r?e.serialize({requireAllSignatures:!1}).toString("hex"):es.from(e.serialize()).toString("hex"),n=await this.provider.request({method:"send_transaction",params:{message:i,options:t,isLegacyTransaction:r}});return{signature:n}}async signTransaction(e){let t=eB(e),r=t?e.serializeMessage().toString("hex"):es.from(e.message.serialize()).toString("hex"),i=await this.provider.request({method:"sign_transaction",params:{message:r,messageOnly:!0,isLegacyTransaction:t}}),n=JSON.parse(i),o={publicKey:new a.PublicKey(n.publicKey),signature:es.from(n.signature,"hex")};return e.addSignature(o.publicKey,o.signature),e}async signAllTransactions(e){let t;let r=e.map(e=>(t=eB(e))?e.serializeMessage().toString("hex"):es.from(e.message.serialize()).toString("hex")),i=await this.provider.request({method:"sign_all_transactions",params:{message:r,messageOnly:!0,isLegacyTransaction:t}}),n=i.map(e=>{let t=JSON.parse(e);return{publicKey:new a.PublicKey(t.publicKey),signature:es.from(t.signature,"hex")}});return e.forEach((e,t)=>(e.addSignature(n[t].publicKey,n[t].signature),e)),e}async signMessage(e){let t=await this.provider.request({method:"sign_message",params:{data:e}});return t}async getGaslessPublicKey(){let e=await this.provider.request({method:"get_gasless_public_key",params:[]});return e}handleDappStorageKey(e){let t=`${ef.localStorageKeyPrefix}${window.location.hostname}`,r="";if(eD&&e){let e=window.localStorage.getItem(t);if(e)r=e;else{let e=`torus-app-${ep()}`;window.localStorage.setItem(t,e),r=e}}return this.dappStorageKey=r,r}async _setupWeb3(e){ed.info("setupWeb3 running");let t=new T({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),r=new T({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),i=new eL(t,{}),n=new eP(r,{});i.tryWindowHandle=(e,t)=>{let r=e;if(!Array.isArray(r)&&ej.includes(r.method)){if(!this.communicationProvider.isLoggedIn)throw Error("User Not Logged In");let e=ep();n._handleWindow(e,{target:"_blank",features:e_(ew)}),r.windowId=e}i._rpcEngine.handle(r,t)},n.tryWindowHandle=(e,t)=>{let r=e;if(!Array.isArray(r)&&eU.includes(r.method)){let e=ep();n._handleWindow(e,{target:"_blank",features:e_(em)}),r.params.windowId=e}n._rpcEngine.handle(r,t)};let o=e=>{let t=i[e],r=this;i[e]=function(e,i){let{method:n,params:o=[]}=e;if("solana_requestAccounts"===n){if(!i)return r.login({loginProvider:o[0]});r.login({loginProvider:o[0]}).then(e=>i(null,e)).catch(e=>i(e))}return t.apply(this,[e,i])}};o("request"),o("sendAsync"),o("send");let s=new Proxy(i,{deleteProperty:()=>!0}),a=new Proxy(n,{deleteProperty:()=>!0});this.provider=s,this.communicationProvider=a,await Promise.all([i._initializeState(),n._initializeState(ez(ez({},e),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),ed.debug("Torus - injected provider")}}},82240:function(e,t,r){"use strict";var i=r(48764).Buffer,n=r(31518);function o(e,t){return(void 0===t&&(t="utf8"),i.isBuffer(e))?a(e.toString("base64")):a(i.from(e,t).toString("base64"))}function s(e){return e=e.toString(),n.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var u=o;u.encode=o,u.decode=function(e,t){return void 0===t&&(t="utf8"),i.from(s(e),"base64").toString(t)},u.toBase64=s,u.fromBase64=a,u.toBuffer=function(e){return i.from(s(e),"base64")},t.default=u},31518:function(e,t,r){"use strict";var i=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,r=t%4;if(!r)return e;var n=t,o=4-r,s=t+o,a=i.alloc(s);for(a.write(e);o--;)a.write("=",n++);return a.toString()}},45772:function(e,t,r){e.exports=r(82240).default,e.exports.default=e.exports},51206:function(e){e.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,(function(t){return e[t]}).bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=r(18),n=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,i){void 0===i&&(i=!1);var n=e.getVersionPrecision(t),o=e.getVersionPrecision(r),s=Math.max(n,o),a=0,u=e.map([t,r],function(t){var r=s-e.getVersionPrecision(t),i=t+Array(r+1).join(".0");return e.map(i.split("."),function(e){return Array(20-e.length).join("0")+e}).reverse()});for(i&&(a=s-Math.min(n,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return -1}},e.map=function(e,t){var r,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)i.push(t(e[r]));return i},e.find=function(e,t){var r,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,i=e.length;r<i;r+=1){var n=e[r];if(t(n,r))return n}},e.assign=function(e){for(var t,r,i=e,n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));for(t=0,r=o.length;t<r;t+=1)(function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){i[t]=e[t]})})();return e},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e}();t.default=n,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(91))&&i.__esModule?i:{default:i},o=r(18),s=function(){function e(){}return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw Error("UserAgent should be a string");return new n.default(e,t)},e.parse=function(e){return new n.default(e).getResult()},function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}]),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=u(r(92)),n=u(r(93)),o=u(r(94)),s=u(r(95)),a=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},i=0,n={},o=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(n[t]=s,o+=1):"object"==typeof s&&(r[t]=s,i+=1)}),i>0){var s=Object.keys(r),u=a.default.find(s,function(e){return t.isOS(e)});if(u){var l=this.satisfies(r[u]);if(void 0!==l)return l}var h=a.default.find(s,function(e){return t.isPlatform(e)});if(h){var c=this.satisfies(r[h]);if(void 0!==c)return c}}if(o>0){var f=Object.keys(n),d=a.default.find(f,function(e){return t.isBrowser(e,!0)});if(void 0!==d)return this.compareVersion(n[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),n=a.default.getBrowserTypeByAlias(i);return t&&n&&(i=n.toLowerCase()),i===r},t.compareVersion=function(e){var t=[0],r=e,i=!1,n=this.getBrowserVersion();if("string"==typeof n)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(i=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(i=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(n,r,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=l,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=n.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=n.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=n.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=n.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=n.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=n.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=n.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=n.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=n.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=n.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=n.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=n.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(t,e),version:n.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=n.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=n.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=n.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=n.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=n.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=n.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=n.default.getMacOSVersionName(t),i={name:o.OS_MAP.MacOS,version:t};return r&&(i.versionName=r),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=n.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=n.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=n.default.getAndroidVersionName(t),i={name:o.OS_MAP.Android,version:t};return r&&(i.versionName=r),i}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=n.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=n.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||n.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||n.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=n.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=n.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=n.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=n.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=n.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=n.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=n.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=n.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=n.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=n.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}})},97551:function(e){/*! Case - v1.6.2 - 2020-03-24
* Copyright (c) 2020 Nathan Bubna; Licensed MIT, GPL */(function(){"use strict";var t=function(e,t){return t=t||"",e.replace(/(^|-)/g,"$1\\u"+t).replace(/,/g,"\\u"+t)},r=t("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),i="a-z"+t("DF-F6,F8-FF","00"),n="A-Z"+t("C0-D6,D8-DE","00"),o=function(e,t,o,s){return e=e||r,t=t||i,o=o||n,s=s||"A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",{capitalize:RegExp("(^|["+e+"])(["+t+"])","g"),pascal:RegExp("(^|["+e+"])+(["+t+o+"])","g"),fill:RegExp("["+e+"]+(.|$)","g"),sentence:RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+t+"])","g"),improper:RegExp("\\b("+s+")\\b","g"),relax:RegExp("([^"+o+"])(["+o+"]*)(["+o+"])(?=[^"+o+"]|$)","g"),upper:RegExp("^[^"+t+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:RegExp("["+e+"]")}},s=o(),a={re:s,unicodes:t,regexps:o,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(e){return a.up.call(e.charAt(0))+e.slice(1)},decap:function(e){return a.low.call(e.charAt(0))+e.slice(1)},deapostrophe:function(e){return e.replace(s.apostrophe,"")},fill:function(e,t,r){return null!=t&&(e=e.replace(s.fill,function(e,r){return r?t+r:""})),r&&(e=a.deapostrophe(e)),e},prep:function(e,t,r,i){if(e=null==e?"":e+"",!i&&s.upper.test(e)&&(e=a.low.call(e)),!t&&!s.hole.test(e)){var n=a.fill(e," ");s.hole.test(n)&&(e=n)}return r||s.room.test(e)||(e=e.replace(s.relax,a.relax)),e},relax:function(e,t,r,i){return t+" "+(r?r+" ":"")+i}},u={_:a,of:function(e){for(var t=0,r=a.types.length;t<r;t++)if(u[a.types[t]].apply(u,arguments)===e)return a.types[t]},flip:function(e){return e.replace(/\w/g,function(e){return(e==a.up.call(e)?a.low:a.up).call(e)})},random:function(e){return e.replace(/\w/g,function(e){return(Math.round(Math.random())?a.up:a.low).call(e)})},type:function(e,t){u[e]=t,a.types.push(e)}},l={lower:function(e,t,r){return a.fill(a.low.call(a.prep(e,t)),t,r)},snake:function(e){return u.lower(e,"_",!0)},constant:function(e){return u.upper(e,"_",!0)},camel:function(e){return a.decap(u.pascal(e))},kebab:function(e){return u.lower(e,"-",!0)},upper:function(e,t,r){return a.fill(a.up.call(a.prep(e,t,!1,!0)),t,r)},capital:function(e,t,r){return a.fill(a.prep(e).replace(s.capitalize,function(e,t,r){return t+a.up.call(r)}),t,r)},header:function(e){return u.capital(e,"-",!0)},pascal:function(e){return a.fill(a.prep(e,!1,!0).replace(s.pascal,function(e,t,r){return a.up.call(r)}),"",!0)},title:function(e){return u.capital(e).replace(s.improper,function(e,t,r,i){return r>0&&r<i.lastIndexOf(" ")?a.low.call(e):e})},sentence:function(e,t,r){return e=u.lower(e).replace(s.sentence,function(e,t,r){return t+a.up.call(r)}),t&&t.forEach(function(t){e=e.replace(RegExp("\\b"+u.lower(t)+"\\b","g"),a.cap)}),r&&r.forEach(function(t){e=e.replace(RegExp("(\\b"+u.lower(t)+"\\. +)(\\w)"),function(e,t,r){return t+a.low.call(r)})}),e}};for(var h in l.squish=l.pascal,u.default=u,l)u.type(h,l[h]);var c="function"==typeof c?c:function(){};c(e.exports?e.exports=u:this.Case=u)}).call(this)},12840:function(e,t,r){var i=r(34155),n=r(30778),o=function(){},s=function(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=n(r||o);var a=e._writableState,u=e._readableState,l=t.readable||!1!==t.readable&&e.readable,h=t.writable||!1!==t.writable&&e.writable,c=!1,f=function(){e.writable||d()},d=function(){h=!1,l||r.call(e)},p=function(){l=!1,h||r.call(e)},g=function(t){r.call(e,t?Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},m=function(){i.nextTick(b)},b=function(){if(!c&&(l&&!(u&&u.ended&&!u.destroyed)||h&&!(a&&a.ended&&!a.destroyed)))return r.call(e,Error("premature close"))},v=function(){e.req.on("finish",d)};return e.setHeader&&"function"==typeof e.abort?(e.on("complete",d),e.on("abort",m),e.req?v():e.on("request",v)):h&&!a&&(e.on("end",f),e.on("close",f)),e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length&&e.on("exit",g),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",y),e.on("close",m),function(){c=!0,e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",m)}};e.exports=s},12294:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;let i=r(4445);class n extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return i.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=n,t.EthereumProviderError=class extends n{constructor(e,t,r){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},92662:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},68797:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;let i=r(12294),n=r(68753),o=r(92662);function s(e,t){let[r,o]=u(t);return new i.EthereumRpcError(e,r||n.getMessageFromCode(e),o)}function a(e,t){let[r,o]=u(t);return new i.EthereumProviderError(e,r||n.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>s(o.errorCodes.rpc.parse,e),invalidRequest:e=>s(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>s(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>s(o.errorCodes.rpc.methodNotFound,e),internal:e=>s(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:e=>s(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>s(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>s(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>s(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>s(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>s(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new i.EthereumProviderError(t,r,n)}}}},79826:function(e,t,r){"use strict";t.Xy=t.Cg=t.Sy=void 0;let i=r(12294);Object.defineProperty(t,"Cg",{enumerable:!0,get:function(){return i.EthereumRpcError}});let n=r(68753);Object.defineProperty(t,"Xy",{enumerable:!0,get:function(){return n.serializeError}});let o=r(68797);Object.defineProperty(t,"Sy",{enumerable:!0,get:function(){return o.ethErrors}}),r(92662)},68753:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let i=r(92662),n=r(12294),o=i.errorCodes.rpc.internal,s={code:o,message:a(o)};function a(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){let r=e.toString();if(h(i.errorValues,r))return i.errorValues[r].message;if(e>=-32099&&e<=-32e3)return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(i.errorValues[t]||e>=-32099&&e<=-32e3)}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=a,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=s,shouldIncludeStack:r=!1}={}){if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw Error("Must provide fallback error with integer number code and string message.");if(e instanceof n.EthereumRpcError)return e.serialize();let i={};if(e&&"object"==typeof e&&!Array.isArray(e)&&h(e,"code")&&u(e.code))i.code=e.code,e.message&&"string"==typeof e.message?(i.message=e.message,h(e,"data")&&(i.data=e.data)):(i.message=a(i.code),i.data={originalError:l(e)});else{i.code=t.code;let r=null==e?void 0:e.message;i.message=r&&"string"==typeof r?r:t.message,i.data={originalError:l(e)}}let o=null==e?void 0:e.stack;return r&&e&&o&&"string"==typeof o&&(i.stack=o),i}},17187:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,i){function n(r){e.removeListener(t,o),i(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&"function"==typeof e.on&&g(e,"error",n,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,i){if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=u(e))>0&&s.length>n&&!s.warned){s.warned=!0;var n,o,s,l=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,console&&console.warn&&console.warn(l)}return e}function h(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=h.bind(i);return n.listener=r,i.wrapFn=n,n}function f(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):p(n,n.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),i=0;i<t;++i)r[i]=e[i];return r}function g(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function n(o){i.once&&e.removeEventListener(t,n),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||n(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else for(var l=u.length,h=p(u,l),r=0;r<l;++r)i(h[r],this,t);return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,c(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,c(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,i,n,o,s;if(a(t),void 0===(i=this._events)||void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},64063:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(n=i;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;0!=n--;){var i,n,o,s=o[n];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},4445:function(e){e.exports=s,s.default=s,s.stable=l,s.stableStringify=l;var t="[...]",r="[Circular]",i=[],n=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(e,s,u,l){void 0===l&&(l=o()),function e(i,n,o,s,u,l,h){if(l+=1,"object"==typeof i&&null!==i){for(c=0;c<s.length;c++)if(s[c]===i){a(r,i,n,u);return}if(void 0!==h.depthLimit&&l>h.depthLimit||void 0!==h.edgesLimit&&o+1>h.edgesLimit){a(t,i,n,u);return}if(s.push(i),Array.isArray(i))for(c=0;c<i.length;c++)e(i[c],c,c,s,i,l,h);else{var c,f=Object.keys(i);for(c=0;c<f.length;c++){var d=f[c];e(i[d],d,c,s,i,l,h)}}s.pop()}}(e,"",0,[],void 0,0,l);try{c=0===n.length?JSON.stringify(e,s,u):JSON.stringify(e,h(s),u)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var c,f=i.pop();4===f.length?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return c}function a(e,t,r,o){var s=Object.getOwnPropertyDescriptor(o,r);void 0!==s.get?s.configurable?(Object.defineProperty(o,r,{value:e}),i.push([o,r,t,s])):n.push([t,r,e]):(o[r]=e,i.push([o,r,t]))}function u(e,t){return e<t?-1:e>t?1:0}function l(e,s,l,c){void 0===c&&(c=o());var f,d=function e(n,o,s,l,h,c,f){if(c+=1,"object"==typeof n&&null!==n){for(d=0;d<l.length;d++)if(l[d]===n){a(r,n,o,h);return}try{if("function"==typeof n.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&c>f.depthLimit||void 0!==f.edgesLimit&&s+1>f.edgesLimit){a(t,n,o,h);return}if(l.push(n),Array.isArray(n))for(d=0;d<n.length;d++)e(n[d],d,d,l,n,c,f);else{var d,p={},g=Object.keys(n).sort(u);for(d=0;d<g.length;d++){var y=g[d];e(n[y],y,d,l,n,c,f),p[y]=n[y]}if(void 0===h)return p;i.push([h,o,n]),h[o]=p}l.pop()}}(e,"",0,[],void 0,0,c)||e;try{f=0===n.length?JSON.stringify(d,s,l):JSON.stringify(d,h(s),l)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var p=i.pop();4===p.length?Object.defineProperty(p[0],p[1],p[3]):p[0][p[1]]=p[2]}}return f}function h(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var i=0;i<n.length;i++){var o=n[i];if(o[1]===t&&o[0]===r){r=o[2],n.splice(i,1);break}}return e.call(this,t,r)}}},35717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},24970:function(e){"use strict";let t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform,e.exports=t},23420:function(e){e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},95811:function(e,t,r){e.exports=r(26066)(r(79653))},26066:function(e,t,r){let i=r(37016),n=r(5675);e.exports=function(e){let t=i(e),r=n(e);return function(e,i){let n="string"==typeof e?e.toLowerCase():e;switch(n){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw Error("Invald algorithm: "+e)}}}},37016:function(e,t,r){var i=r(48764).Buffer;let{Transform:n}=r(88473);e.exports=e=>class t extends n{constructor(t,r,i,n,o){super(o),this._rate=t,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=n,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let i=null;try{this.update(e,t)}catch(e){i=e}r(i)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw TypeError("Data must be a string or a buffer");if(this._finalized)throw Error("Digest already called");return i.isBuffer(e)||(e=i.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},5675:function(e,t,r){var i=r(48764).Buffer;let{Transform:n}=r(88473);e.exports=e=>class t extends n{constructor(t,r,i,n){super(n),this._rate=t,this._capacity=r,this._delimitedSuffix=i,this._options=n,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let i=null;try{this.update(e,t)}catch(e){i=e}r(i)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw TypeError("Data must be a string or a buffer");if(this._finalized)throw Error("Squeeze already called");return i.isBuffer(e)||(e=i.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},34040:function(e,t){let r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(let t=0;t<24;++t){let i=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],c=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],d=c^(o<<1|s>>>31),p=f^(s<<1|o>>>31),g=e[0]^d,y=e[1]^p,m=e[10]^d,b=e[11]^p,v=e[20]^d,w=e[21]^p,_=e[30]^d,A=e[31]^p,T=e[40]^d,S=e[41]^p;d=i^(a<<1|u>>>31),p=n^(u<<1|a>>>31);let E=e[2]^d,B=e[3]^p,x=e[12]^d,O=e[13]^p,P=e[22]^d,N=e[23]^p,L=e[32]^d,C=e[33]^p,R=e[42]^d,I=e[43]^p;d=o^(l<<1|h>>>31),p=s^(h<<1|l>>>31);let k=e[4]^d,M=e[5]^p,z=e[14]^d,j=e[15]^p,U=e[24]^d,D=e[25]^p,V=e[34]^d,F=e[35]^p,H=e[44]^d,q=e[45]^p;d=a^(c<<1|f>>>31),p=u^(f<<1|c>>>31);let $=e[6]^d,W=e[7]^p,G=e[16]^d,K=e[17]^p,J=e[26]^d,X=e[27]^p,Z=e[36]^d,Y=e[37]^p,Q=e[46]^d,ee=e[47]^p;d=l^(i<<1|n>>>31),p=h^(n<<1|i>>>31);let et=e[8]^d,er=e[9]^p,ei=e[18]^d,en=e[19]^p,eo=e[28]^d,es=e[29]^p,ea=e[38]^d,eu=e[39]^p,el=e[48]^d,eh=e[49]^p,ec=b<<4|m>>>28,ef=m<<4|b>>>28,ed=v<<3|w>>>29,ep=w<<3|v>>>29,eg=A<<9|_>>>23,ey=_<<9|A>>>23,em=T<<18|S>>>14,eb=S<<18|T>>>14,ev=E<<1|B>>>31,ew=B<<1|E>>>31,e_=O<<12|x>>>20,eA=x<<12|O>>>20,eT=P<<10|N>>>22,eS=N<<10|P>>>22,eE=C<<13|L>>>19,eB=L<<13|C>>>19,ex=R<<2|I>>>30,eO=I<<2|R>>>30,eP=M<<30|k>>>2,eN=k<<30|M>>>2,eL=z<<6|j>>>26,eC=j<<6|z>>>26,eR=D<<11|U>>>21,eI=U<<11|D>>>21,ek=V<<15|F>>>17,eM=F<<15|V>>>17,ez=q<<29|H>>>3,ej=H<<29|q>>>3,eU=$<<28|W>>>4,eD=W<<28|$>>>4,eV=K<<23|G>>>9,eF=G<<23|K>>>9,eH=J<<25|X>>>7,eq=X<<25|J>>>7,e$=Z<<21|Y>>>11,eW=Y<<21|Z>>>11,eG=ee<<24|Q>>>8,eK=Q<<24|ee>>>8,eJ=et<<27|er>>>5,eX=er<<27|et>>>5,eZ=ei<<20|en>>>12,eY=en<<20|ei>>>12,eQ=es<<7|eo>>>25,e0=eo<<7|es>>>25,e1=ea<<8|eu>>>24,e2=eu<<8|ea>>>24,e3=el<<14|eh>>>18,e5=eh<<14|el>>>18;e[0]=g^~e_&eR,e[1]=y^~eA&eI,e[10]=eU^~eZ&ed,e[11]=eD^~eY&ep,e[20]=ev^~eL&eH,e[21]=ew^~eC&eq,e[30]=eJ^~ec&eT,e[31]=eX^~ef&eS,e[40]=eP^~eV&eQ,e[41]=eN^~eF&e0,e[2]=e_^~eR&e$,e[3]=eA^~eI&eW,e[12]=eZ^~ed&eE,e[13]=eY^~ep&eB,e[22]=eL^~eH&e1,e[23]=eC^~eq&e2,e[32]=ec^~eT&ek,e[33]=ef^~eS&eM,e[42]=eV^~eQ&eg,e[43]=eF^~e0&ey,e[4]=eR^~e$&e3,e[5]=eI^~eW&e5,e[14]=ed^~eE&ez,e[15]=ep^~eB&ej,e[24]=eH^~e1&em,e[25]=eq^~e2&eb,e[34]=eT^~ek&eG,e[35]=eS^~eM&eK,e[44]=eQ^~eg&ex,e[45]=e0^~ey&eO,e[6]=e$^~e3&g,e[7]=eW^~e5&y,e[16]=eE^~ez&eU,e[17]=eB^~ej&eD,e[26]=e1^~em&ev,e[27]=e2^~eb&ew,e[36]=ek^~eG&eJ,e[37]=eM^~eK&eX,e[46]=eg^~ex&eP,e[47]=ey^~eO&eN,e[8]=e3^~g&e_,e[9]=e5^~y&eA,e[18]=ez^~eU&eZ,e[19]=ej^~eD&eY,e[28]=em^~ev&eL,e[29]=eb^~ew&eC,e[38]=eG^~eJ&ec,e[39]=eK^~eX&ef,e[48]=ex^~eP&eV,e[49]=eO^~eN&eF,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},79653:function(e,t,r){var i=r(48764).Buffer;let n=r(34040);function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(e,t){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),(128&e)!=0&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),n.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);let t=i.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return t},o.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=o},72378:function(e,t,r){e=r.nmd(e);var i,n,o,s,a,u,l,h,c,f,d="__lodash_hash_undefined__",p="[object Arguments]",g="[object Function]",y="[object Object]",m=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[p]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[g]=v["[object Map]"]=v["[object Number]"]=v[y]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var w="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,_="object"==typeof self&&self&&self.Object===Object&&self,A=w||_||Function("return this")(),T=t&&!t.nodeType&&t,S=T&&e&&!e.nodeType&&e,E=S&&S.exports===T,B=E&&w.process,x=function(){try{var e=S&&S.require&&S.require("util").types;if(e)return e;return B&&B.binding&&B.binding("util")}catch(e){}}(),O=x&&x.isTypedArray,P=Array.prototype,N=Function.prototype,L=Object.prototype,C=A["__core-js_shared__"],R=N.toString,I=L.hasOwnProperty,k=(u=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",M=L.toString,z=R.call(Object),j=RegExp("^"+R.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=E?A.Buffer:void 0,D=A.Symbol,V=A.Uint8Array,F=U?U.allocUnsafe:void 0,H=(l=Object.getPrototypeOf,h=Object,function(e){return l(h(e))}),q=Object.create,$=L.propertyIsEnumerable,W=P.splice,G=D?D.toStringTag:void 0,K=function(){try{var e=ef(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),J=U?U.isBuffer:void 0,X=Math.max,Z=Date.now,Y=ef(A,"Map"),Q=ef(Object,"create"),ee=function(){function e(){}return function(t){if(!eS(t))return{};if(q)return q(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function et(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function er(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function ei(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function en(e){var t=this.__data__=new er(e);this.size=t.size}function eo(e,t,r){(void 0===r||em(e[t],r))&&(void 0!==r||t in e)||ea(e,t,r)}function es(e,t){for(var r=e.length;r--;)if(em(e[r][0],t))return r;return -1}function ea(e,t,r){"__proto__"==t&&K?K(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}et.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},et.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},et.prototype.get=function(e){var t=this.__data__;if(Q){var r=t[e];return r===d?void 0:r}return I.call(t,e)?t[e]:void 0},et.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:I.call(t,e)},et.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Q&&void 0===t?d:t,this},er.prototype.clear=function(){this.__data__=[],this.size=0},er.prototype.delete=function(e){var t=this.__data__,r=es(t,e);return!(r<0)&&(r==t.length-1?t.pop():W.call(t,r,1),--this.size,!0)},er.prototype.get=function(e){var t=this.__data__,r=es(t,e);return r<0?void 0:t[r][1]},er.prototype.has=function(e){return es(this.__data__,e)>-1},er.prototype.set=function(e,t){var r=this.__data__,i=es(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this},ei.prototype.clear=function(){this.size=0,this.__data__={hash:new et,map:new(Y||er),string:new et}},ei.prototype.delete=function(e){var t=ec(this,e).delete(e);return this.size-=t?1:0,t},ei.prototype.get=function(e){return ec(this,e).get(e)},ei.prototype.has=function(e){return ec(this,e).has(e)},ei.prototype.set=function(e,t){var r=ec(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this},en.prototype.clear=function(){this.__data__=new er,this.size=0},en.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},en.prototype.get=function(e){return this.__data__.get(e)},en.prototype.has=function(e){return this.__data__.has(e)},en.prototype.set=function(e,t){var r=this.__data__;if(r instanceof er){var i=r.__data__;if(!Y||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new ei(i)}return r.set(e,t),this.size=r.size,this};var eu=function(e,t,r){for(var i=-1,n=Object(e),o=r(e),s=o.length;s--;){var a=o[++i];if(!1===t(n[a],a,n))break}return e};function el(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":G&&G in Object(e)?function(e){var t=I.call(e,G),r=e[G];try{e[G]=void 0;var i=!0}catch(e){}var n=M.call(e);return i&&(t?e[G]=r:delete e[G]),n}(e):M.call(e)}function eh(e){return eE(e)&&el(e)==p}function ec(e,t){var r,i=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?i["string"==typeof t?"string":"hash"]:i.map}function ef(e,t){var r=null==e?void 0:e[t];return!(!eS(r)||k&&k in r)&&(eA(r)?j:m).test(function(e){if(null!=e){try{return R.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(r))?r:void 0}function ed(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&b.test(e))&&e>-1&&e%1==0&&e<t}function ep(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||L;return e===r}function eg(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ey=(i=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:eP,n=0,o=0,function(){var e=Z(),t=16-(e-o);if(o=e,t>0){if(++n>=800)return arguments[0]}else n=0;return i.apply(void 0,arguments)});function em(e,t){return e===t||e!=e&&t!=t}var eb=eh(function(){return arguments}())?eh:function(e){return eE(e)&&I.call(e,"callee")&&!$.call(e,"callee")},ev=Array.isArray;function ew(e){return null!=e&&eT(e.length)&&!eA(e)}var e_=J||function(){return!1};function eA(e){if(!eS(e))return!1;var t=el(e);return t==g||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eT(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eS(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eE(e){return null!=e&&"object"==typeof e}var eB=O?function(e){return O(e)}:function(e){return eE(e)&&eT(e.length)&&!!v[el(e)]};function ex(e){return ew(e)?function(e,t){var r=ev(e),i=!r&&eb(e),n=!r&&!i&&e_(e),o=!r&&!i&&!n&&eB(e),s=r||i||n||o,a=s?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],u=a.length;for(var l in e)(t||I.call(e,l))&&!(s&&("length"==l||n&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ed(l,u)))&&a.push(l);return a}(e,!0):function(e){if(!eS(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ep(e),r=[];for(var i in e)"constructor"==i&&(t||!I.call(e,i))||r.push(i);return r}(e)}var eO=(c=function(e,t,r){!function e(t,r,i,n,o){t!==r&&eu(r,function(s,a){if(o||(o=new en),eS(s))(function(e,t,r,i,n,o,s){var a=eg(e,r),u=eg(t,r),l=s.get(u);if(l){eo(e,r,l);return}var h=o?o(a,u,r+"",e,t,s):void 0,c=void 0===h;if(c){var f,d,p=ev(u),g=!p&&e_(u),m=!p&&!g&&eB(u);h=u,p||g||m?ev(a)?h=a:eE(a)&&ew(a)?h=function(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}(a):g?(c=!1,h=function(e,t){if(t)return e.slice();var r=e.length,i=F?F(r):new e.constructor(r);return e.copy(i),i}(u,!0)):m?(c=!1,d=new(f=u.buffer).constructor(f.byteLength),new V(d).set(new V(f)),h=new u.constructor(d,u.byteOffset,u.length)):h=[]:function(e){if(!eE(e)||el(e)!=y)return!1;var t=H(e);if(null===t)return!0;var r=I.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&R.call(r)==z}(u)||eb(u)?(h=a,eb(a)?h=function(e,t,r,i){var n=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=i?i(r[a],e[a],a,r,e):void 0;void 0===u&&(u=e[a]),n?ea(r,a,u):function(e,t,r){var i=e[t];I.call(e,t)&&em(i,r)&&(void 0!==r||t in e)||ea(e,t,r)}(r,a,u)}return r}(a,ex(a)):(!eS(a)||eA(a))&&(h="function"!=typeof u.constructor||ep(u)?{}:ee(H(u)))):c=!1}c&&(s.set(u,h),n(h,u,i,o,s),s.delete(u)),eo(e,r,h)})(t,r,a,i,e,n,o);else{var u=n?n(eg(t,a),s,a+"",t,r,o):void 0;void 0===u&&(u=s),eo(t,a,u)}},ex)}(e,t,r)},ey((s=f=function(e,t){var r=-1,i=t.length,n=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(n=c.length>3&&"function"==typeof n?(i--,n):void 0,o&&function(e,t,r){if(!eS(r))return!1;var i=typeof t;return("number"==i?!!(ew(r)&&ed(t,r.length)):"string"==i&&(t in r))&&em(r[t],e)}(t[0],t[1],o)&&(n=i<3?void 0:n,i=1),e=Object(e);++r<i;){var s=t[r];s&&c(e,s,r,n)}return e},a=X((a=void 0,s.length-1),0),function(){for(var e=arguments,t=-1,r=X(e.length-a,0),i=Array(r);++t<r;)i[t]=e[a+t];t=-1;for(var n=Array(a+1);++t<a;)n[t]=e[t];return n[a]=eP(i),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(s,this,n)}),f+""));function eP(e){return e}e.exports=eO},2043:function(e,t,r){var i,n;void 0!==(i="function"==typeof(n=function(){"use strict";var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t,r){for(var n=0;n<i.length;n++){var o=i[n];this[o]=n<t?e:this.methodFactory(o,t,r)}this.log=this.debug}function a(e,r,i){return function(){typeof console!==t&&(s.call(this,r,i),this[e].apply(this,arguments))}}function u(i,s,u){var l;return"debug"===(l=i)&&(l="log"),typeof console!==t&&("trace"===l&&r?o:void 0!==console[l]?n(console,l):void 0!==console.log?n(console,"log"):e)||a.apply(this,arguments)}function l(e,r,n){var o,a=this;r=null==r?"WARN":r;var l="loglevel";function h(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,i=r.indexOf(encodeURIComponent(l)+"=");-1!==i&&(e=/^([^;]+)/.exec(r.slice(i))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=n||u,a.getLevel=function(){return o},a.setLevel=function(r,n){if("string"==typeof r&&void 0!==a.levels[r.toUpperCase()]&&(r=a.levels[r.toUpperCase()]),"number"==typeof r&&r>=0&&r<=a.levels.SILENT){if(o=r,!1!==n&&function(e){var r=(i[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{window.localStorage[l]=r;return}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(e){}}}(r),s.call(a,r,e),typeof console===t&&r<a.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+r},a.setDefaultLevel=function(e){r=e,h()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(r,!1),function(){if(typeof window!==t&&l){try{window.localStorage.removeItem(l);return}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var c=h();null==c&&(c=r),a.setLevel(c,!1)}var h=new l,c={};h.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=c[e];return t||(t=c[e]=new l(e,h.getLevel(),h.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return h.noConflict=function(){return typeof window!==t&&window.log===h&&(window.log=f),h},h.getLoggers=function(){return c},h.default=h,h})?n.call(t,r,t,e):n)&&(e.exports=i)},30778:function(e,t,r){var i=r(52479);function n(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=i(n),e.exports.strict=i(o),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},34155:function(e){var t,r,i,n=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u=[],l=!1,h=-1;function c(){l&&i&&(l=!1,i.length?u=i.concat(u):h=-1,u.length&&f())}function f(){if(!l){var e=a(c);l=!0;for(var t=u.length;t;){for(i=u,u=[];++h<t;)i&&i[h].run();h=-1,t=u.length}i=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}},74286:function(e,t,r){var i=r(34155),n=r(30778),o=r(12840),s=r(71156),a=function(){},u=/^v?\.0/.test(i.version),l=function(e){return"function"==typeof e},h=function(e,t,r,i){i=n(i);var h=!1;e.on("close",function(){h=!0}),o(e,{readable:t,writable:r},function(e){if(e)return i(e);h=!0,i()});var c=!1;return function(t){if(!h&&!c){if(c=!0,u&&s&&(e instanceof(s.ReadStream||a)||e instanceof(s.WriteStream||a))&&l(e.close))return e.close(a);if(e.setHeader&&l(e.abort))return e.abort();if(l(e.destroy))return e.destroy();i(t||Error("stream was destroyed"))}}},c=function(e){e()},f=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=l(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw Error("pump requires two streams per minimum");var i=t.map(function(n,o){var s=o<t.length-1;return h(n,s,o>0,function(t){e||(e=t),t&&i.forEach(c),s||(i.forEach(c),r(e))})});return t.reduce(f)}},61798:function(e,t,r){"use strict";var i=r(34155),n=r(89509).Buffer,o=r.g.crypto||r.g.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw RangeError("requested too many random bytes");var r=n.allocUnsafe(e);if(e>0){if(e>65536)for(var s=0;s<e;s+=65536)o.getRandomValues(r.slice(s,s+65536));else o.getRandomValues(r)}return"function"==typeof t?i.nextTick(function(){t(null,r)}):r}:e.exports=function(){throw Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},94281:function(e){"use strict";var t={};function r(e,r,i){i||(i=Error);var n=function(e){var t;function i(t,i,n){return e.call(this,"string"==typeof r?r:r(t,i,n))||this}return(t=i).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,i}(i);n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(!Array.isArray(e))return"of ".concat(t," ").concat(String(e));var r=e.length;return(e=e.map(function(e){return String(e)}),r>2)?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){if("string"==typeof t&&(n="not ",t.substr(!o||o<0?0:+o,n.length)===n)?(l="must not be",t=t.replace(/^not /,"")):l="must be",s=" argument",(void 0===a||a>e.length)&&(a=e.length),e.substring(a-s.length,a)===s)h="The ".concat(e," ").concat(l," ").concat(i(t,"type"));else{var n,o,s,a,u,l,h,c=("number"!=typeof u&&(u=0),u+1>e.length||-1===e.indexOf(".",u))?"argument":"property";h='The "'.concat(e,'" ').concat(c," ").concat(l," ").concat(i(t,"type"))}return h+". Received type ".concat(typeof r)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},56753:function(e,t,r){"use strict";var i=r(34155),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=r(79481),s=r(64229);r(35717)(h,o);for(var a=n(s.prototype),u=0;u<a.length;u++){var l=a[u];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82725:function(e,t,r){"use strict";e.exports=n;var i=r(74605);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(35717)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},79481:function(e,t,r){"use strict";var i,n,o,s,a,u=r(34155);e.exports=E,E.ReadableState=S,r(17187).EventEmitter;var l=function(e,t){return e.listeners(t).length},h=r(22503),c=r(48764).Buffer,f=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=r(94616);n=d&&d.debuglog?d.debuglog("stream"):function(){};var p=r(57327),g=r(61195),y=r(82457).getHighWaterMark,m=r(94281).q,b=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(E,h);var A=g.errorOrDestroy,T=["error","close","destroy","pause","resume"];function S(e,t,n){i=i||r(56753),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o||(o=r(32553).s),this.decoder=new o(e.encoding),this.encoding=e.encoding)}function E(e){if(i=i||r(56753),!(this instanceof E))return new E(e);var t=this instanceof i;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),h.call(this)}function B(e,t,r,i,o){n("readableAddChunk",t);var s,a,u,l,h,d=e._readableState;if(null===t)d.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}}(e,d);else{if(o||(s=d,a=t,c.isBuffer(a)||a instanceof f||"string"==typeof a||void 0===a||s.objectMode||(u=new b("chunk",["string","Buffer","Uint8Array"],a)),h=u),h)A(e,h);else if(d.objectMode||t&&t.length>0){if("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===c.prototype||(l=t,t=c.from(l)),i)d.endEmitted?A(e,new _):x(e,d,t,!0);else if(d.ended)A(e,new v);else{if(d.destroyed)return!1;d.reading=!1,d.decoder&&!r?(t=d.decoder.write(t),d.objectMode||0!==t.length?x(e,d,t,!1):L(e,d)):x(e,d,t,!1)}}else i||(d.reading=!1,L(e,d))}return!d.ended&&(d.length<d.highWaterMark||0===d.length)}function x(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),L(e,t)}function O(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var r;t.highWaterMark=((r=e)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function P(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,u.nextTick(N,e))}function N(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function L(e,t){t.readingMore||(t.readingMore=!0,u.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function R(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){n("readable nexttick read 0"),e.read(0)}function k(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function z(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function j(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,u.nextTick(U,t,e))}function U(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function D(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=g.destroy,E.prototype._undestroy=g.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),r=!0),B(this,e,t,!1,r)},E.prototype.unshift=function(e){return B(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){o||(o=r(32553).s);var t=new o(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},E.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return n("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?j(this):P(this),null;if(0===(e=O(e,r))&&r.ended)return 0===r.length&&j(this),null;var o=r.needReadable;return n("need readable",o),(0===r.length||r.length-e<r.highWaterMark)&&n("length less than watermark",o=!0),r.ended||r.reading?n("reading or ended",o=!1):o&&(n("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=O(i,r))),null===(t=e>0?z(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&j(this)),null!==t&&this.emit("data",t),t},E.prototype._read=function(e){A(this,new w("_read()"))},E.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,n("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===u.stdout||e===u.stderr?g:s;function s(){n("onend"),e.end()}i.endEmitted?u.nextTick(o):r.once("end",o),e.on("unpipe",function t(o,u){n("onunpipe"),o===r&&u&&!1===u.hasUnpiped&&(u.hasUnpiped=!0,n("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",a),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",g),r.removeListener("data",c),h=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&a())});var a=function(){var e=r._readableState;n("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&l(r,"data")&&(e.flowing=!0,M(r))};e.on("drain",a);var h=!1;function c(t){n("ondata");var o=e.write(t);n("dest.write",o),!1===o&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==D(i.pipes,e))&&!h&&(n("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(t){n("onerror",t),g(),e.removeListener("error",f),0===l(e,"error")&&A(e,t)}function d(){e.removeListener("finish",p),g()}function p(){n("onfinish"),e.removeListener("close",d),g()}function g(){n("unpipe"),r.unpipe(e)}return r.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",r),i.flowing||(n("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=D(t.pipes,e);return -1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=h.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?P(this):i.reading||u.nextTick(I,this)),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=h.prototype.removeListener.call(this,e,t);return"readable"===e&&u.nextTick(R,this),r},E.prototype.removeAllListeners=function(e){var t=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&u.nextTick(R,this),t},E.prototype.resume=function(){var e,t=this._readableState;return t.flowing||(n("resume"),t.flowing=!t.readableListening,(e=t).resumeScheduled||(e.resumeScheduled=!0,u.nextTick(k,this,e))),t.paused=!1,this},E.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),(!r.objectMode||null!=o)&&(r.objectMode||o&&o.length)&&(t.push(o)||(i=!0,e.pause()))}),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<T.length;s++)e.on(T[s],this.emit.bind(this,T[s]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===s&&(s=r(45850)),s(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=z,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===a&&(a=r(15167)),a(E,e,t)})},74605:function(e,t,r){"use strict";e.exports=h;var i=r(94281).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,u=r(56753);function l(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,r){f(e,t,r)})}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(35717)(h,u),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},64229:function(e,t,r){"use strict";var i,n,o=r(34155);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(void 0),i=i.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=E,E.WritableState=S;var a={deprecate:r(94927)},u=r(22503),l=r(48764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=r(61195),f=r(82457).getHighWaterMark,d=r(94281).q,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;function T(){}function S(e,t,n){i=i||r(56753),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r,i,n=e._writableState,s=n.sync,a=n.writecb;if("function"!=typeof a)throw new y;if((r=n).writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)i=e,--n.pendingcb,s?(o.nextTick(a,t),o.nextTick(L,i,n),i._writableState.errorEmitted=!0,A(i,t)):(a(t),i._writableState.errorEmitted=!0,A(i,t),L(i,n));else{var u=P(n)||e.destroyed;u||n.corked||n.bufferProcessing||!n.bufferedRequest||O(e,n),s?o.nextTick(x,e,n,u,a):x(e,n,u,a)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function E(e){var t=this instanceof(i=i||r(56753));if(!t&&!n.call(E,this))return new E(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function B(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function x(e,t,r,i){var n;r||0===(n=t).length&&n.needDrain&&(n.needDrain=!1,e.emit("drain")),t.pendingcb--,i(),L(e,t)}function O(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,B(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback,c=t.objectMode?1:u.length;if(B(e,t,!1,c,u,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function N(e,t){e._final(function(r){t.pendingcb--,r&&A(e,r),t.prefinished=!0,e.emit("prefinish"),L(e,t)})}function L(e,t){var r,i=P(t);if(i&&((r=t).prefinished||r.finalCalled||("function"!=typeof e._final||r.destroyed?(r.prefinished=!0,e.emit("prefinish")):(r.pendingcb++,r.finalCalled=!0,o.nextTick(N,e,r))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return i}r(35717)(E,u),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!n.call(this,e)||this===E&&e&&e._writableState instanceof S}})):n=function(e){return e instanceof this},E.prototype.pipe=function(){A(this,new m)},E.prototype.write=function(e,t,r){var i,n,s,a,u,c,f,d=this._writableState,g=!1,y=!d.objectMode&&(i=e,l.isBuffer(i)||i instanceof h);return y&&!l.isBuffer(e)&&(n=e,e=l.from(n)),("function"==typeof t&&(r=t,t=null),y?t="buffer":t||(t=d.defaultEncoding),"function"!=typeof r&&(r=T),d.ending)?(s=r,A(this,a=new w),o.nextTick(s,a)):(y||(u=e,c=r,null===u?f=new v:"string"==typeof u||d.objectMode||(f=new p("chunk",["string","Buffer"],u)),!f||(A(this,f),o.nextTick(c,f),0)))&&(d.pendingcb++,g=function(e,t,r,i,n,o){if(!r){var s,a,u=(s=i,a=n,t.objectMode||!1===t.decodeStrings||"string"!=typeof s||(s=l.from(s,a)),s);i!==u&&(r=!0,n="buffer",i=u)}var h=t.objectMode?1:i.length;t.length+=h;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,h,i,n,o);return c}(this,d,y,e,t,r)),g},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new g("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var i,n,s,a=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||(i=this,n=a,s=r,n.ending=!0,L(i,n),s&&(n.finished?o.nextTick(s):i.once("finish",s)),n.ended=!0,i.writable=!1),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=c.destroy,E.prototype._undestroy=c.undestroy,E.prototype._destroy=function(e,t){t(e)}},45850:function(e,t,r){"use strict";var i,n=r(34155);function o(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(8610),a=Symbol("lastResolve"),u=Symbol("lastReject"),l=Symbol("error"),h=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[c]=null,e[a]=null,e[u]=null,t(p(r,!1)))}}function y(e){n.nextTick(g,e)}var m=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((o(i={get stream(){return this[d]},next:function(){var e,t,r=this,i=this[l];if(null!==i)return Promise.reject(i);if(this[h])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise(function(e,t){n.nextTick(function(){r[l]?t(r[l]):e(p(void 0,!0))})});var o=this[c];if(o)t=new Promise((e=this,function(t,r){o.then(function(){if(e[h]){t(p(void 0,!0));return}e[f](t,r)},r)}));else{var s=this[d].read();if(null!==s)return Promise.resolve(p(s,!1));t=new Promise(this[f])}return this[c]=t,t}},Symbol.asyncIterator,function(){return this}),o(i,"return",function(){var e=this;return new Promise(function(t,r){e[d].destroy(null,function(e){if(e){r(e);return}t(p(void 0,!0))})})}),i),m);e.exports=function(e){var t,r=Object.create(b,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,h,{value:e._readableState.endEmitted,writable:!0}),o(t,f,{value:function(e,t){var i=r[d].read();i?(r[c]=null,r[a]=null,r[u]=null,e(p(i,!1))):(r[a]=e,r[u]=t)},writable:!0}),t));return r[c]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];null!==t&&(r[c]=null,r[a]=null,r[u]=null,t(e)),r[l]=e;return}var i=r[a];null!==i&&(r[c]=null,r[a]=null,r[u]=null,i(p(void 0,!0))),r[h]=!0}),e.on("readable",y.bind(null,r)),r}},57327:function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var i,n,o;i=e,n=t,o=r[t],(n=s(n))in i?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var a=r(48764).Buffer,u=r(52361).inspect,l=u&&u.custom||"inspect";e.exports=function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,i=a.allocUnsafe(e>>>0),n=this.head,o=0;n;)t=n.data,r=o,a.prototype.copy.call(t,i,r),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?i+=n:i+=n.slice(0,e),0==(e-=o)){o===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,t}},{key:l,value:function(e,t){return u(this,n(n({},t),{},{depth:0,customInspect:!1}))}}],o(r.prototype,e),t&&o(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()},61195:function(e,t,r){"use strict";var i=r(34155);function n(e,t){s(e,t),o(e)}function o(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,e)):i.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(o,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t?(i.nextTick(o,r),t(e)):i.nextTick(o,r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:function(e,t,r){"use strict";var i=r(94281).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),s=o||n,a=!1,o=function(){if(!a){a=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.apply(this,t)}};var s,a,u=r.readable||!1!==r.readable&&t.readable,l=r.writable||!1!==r.writable&&t.writable,h=function(){t.writable||f()},c=t._writableState&&t._writableState.finished,f=function(){l=!1,c=!0,u||o.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){u=!1,d=!0,l||o.call(t)},g=function(e){o.call(t,e)},y=function(){var e;return u&&!d?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):l&&!c?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},m=function(){t.req.on("finish",f)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",f),t.on("abort",y),t.req?m():t.on("request",m)):l&&!t._writableState&&(t.on("end",h),t.on("close",h)),t.on("end",p),t.on("finish",f),!1!==r.error&&t.on("error",g),t.on("close",y),function(){t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",m),t.req&&t.req.removeListener("finish",f),t.removeListener("end",h),t.removeListener("close",h),t.removeListener("finish",f),t.removeListener("end",p),t.removeListener("error",g),t.removeListener("close",y)}}},15167:function(e){e.exports=function(){throw Error("Readable.from is not available in the browser")}},59946:function(e,t,r){"use strict";var i,n=r(94281).q,o=n.ERR_MISSING_ARGS,s=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,n=arguments.length,h=Array(n),c=0;c<n;c++)h[c]=arguments[c];var f=(e=h).length&&"function"==typeof e[e.length-1]?e.pop():a;if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new o("streams");var d=h.map(function(e,n){var o,a,l,c,p,g=n<h.length-1;return a=o=function(e){t||(t=e),e&&d.forEach(u),g||(d.forEach(u),f(t))},l=!1,o=function(){l||(l=!0,a.apply(void 0,arguments))},c=!1,e.on("close",function(){c=!0}),void 0===i&&(i=r(8610)),i(e,{readable:g,writable:n>0},function(e){if(e)return o(e);c=!0,o()}),p=!1,function(t){if(!c&&!p){if(p=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new s("pipe"))}}});return h.reduce(l)}},82457:function(e,t,r){"use strict";var i=r(94281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var o=null!=t.highWaterMark?t.highWaterMark:n?t[r]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new i(n?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},22503:function(e,t,r){e.exports=r(17187).EventEmitter},88473:function(e,t,r){(t=e.exports=r(79481)).Stream=t,t.Readable=t,t.Writable=r(64229),t.Duplex=r(56753),t.Transform=r(74605),t.PassThrough=r(82725),t.finished=r(8610),t.pipeline=r(59946)},32553:function(e,t,r){"use strict";var i=r(89509).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=c,t=3;break;default:this.write=f,this.end=d;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function h(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var n=s(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=s(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=s(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},94927:function(e,t,r){e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}};function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}},52479:function(e){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){i[e]=t[e]}),i;function i(){for(var e=Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var i=t.apply(this,e),n=e[e.length-1];return"function"==typeof i&&i!==n&&Object.keys(n).forEach(function(e){i[e]=n[e]}),i}}}}]);